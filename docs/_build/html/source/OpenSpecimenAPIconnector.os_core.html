

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>OpenSpecimenAPIconnector.os_core package &mdash; OpenSpecimenAPIConnector 0.9.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../contents.html" class="icon icon-home"> OpenSpecimenAPIConnector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">OpenSpecimenAPIconnector.os_core package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol">OpenSpecimenAPIconnector.os_core.collection_protocol module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol_event">OpenSpecimenAPIconnector.os_core.collection_protocol_event module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol_registration">OpenSpecimenAPIconnector.os_core.collection_protocol_registration module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.csv_bulk">OpenSpecimenAPIconnector.os_core.csv_bulk module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.csv_export">OpenSpecimenAPIconnector.os_core.csv_export module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.institute">OpenSpecimenAPIconnector.os_core.institute module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.jsons">OpenSpecimenAPIconnector.os_core.jsons module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.mandatory">OpenSpecimenAPIconnector.os_core.mandatory module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.participant">OpenSpecimenAPIconnector.os_core.participant module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.query">OpenSpecimenAPIconnector.os_core.query module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.req_util">OpenSpecimenAPIconnector.os_core.req_util module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.site">OpenSpecimenAPIconnector.os_core.site module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.specimen">OpenSpecimenAPIconnector.os_core.specimen module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.url">OpenSpecimenAPIconnector.os_core.url module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.users">OpenSpecimenAPIconnector.os_core.users module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core.visit">OpenSpecimenAPIconnector.os_core.visit module</a></li>
<li><a class="reference internal" href="#module-OpenSpecimenAPIconnector.os_core">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">OpenSpecimenAPIConnector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../contents.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>OpenSpecimenAPIconnector.os_core package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/source/OpenSpecimenAPIconnector.os_core.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="openspecimenapiconnector-os-core-package">
<h1>OpenSpecimenAPIconnector.os_core package<a class="headerlink" href="#openspecimenapiconnector-os-core-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.collection_protocol">
<span id="openspecimenapiconnector-os-core-collection-protocol-module"></span><h2>OpenSpecimenAPIconnector.os_core.collection_protocol module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.collection_protocol.</code><code class="descname">collection_protocol</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the calls Collection Protocol</p>
<p>This class handles the API calls for OpenSpecimen Collection Protocol. It can create, delete,
search a Protocol with different parameters, can get all Collection Protocols in the system and can
get the template of the Collection Protocols as JSON dict or as Pandas dataframe.
The output is a JSON dict or the error message as JSON dict, except the Pandas dataframe.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<p>A code Examples, where the Collection protocols are handled, is in the Jupyter-Notebook</p>
<blockquote>
<div>$ jupyter notebook main.ipynb</div></blockquote>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.create_collection_protocol">
<code class="descname">create_collection_protocol</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.create_collection_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.create_collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Collection Protocol</p>
<p>Creates a Collection Protocol in OpenSpecimen. In order to use this function, one has to know
the parameters which OpenSpecimen needs to create a protocol. One can use it via the os_util class
collection_protocol_util. This allows just the basic definition, if one has Extensions
e.g. BBMRI contact, this fields have to be added separately.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: title, shortTitle, code[optional], startDate[optional],
endDate[optional], principalInvestigator, coordinators[optional], irbId[optonal],
anticipatedParticipantsCount[optional], activityStatus, visitNameFmt[optional],
specimenLabel[optional], derivedlabelFormat[optional], ppIdFormat[optional], cpSites,
manualPpidEnabled[optional], manualVisitNameEnabled[optional], manualSpecLabelEnabled[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Either error details of the created protocol</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">json-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.delete_collection_protocol">
<code class="descname">delete_collection_protocol</code><span class="sig-paren">(</span><em>cpid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.delete_collection_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.delete_collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a Collection Protocol with OpenSpecimens unique CollectionProtocolID</p>
<p>Delete an already existing Collection Protocol. The Parameters &lt;cpid&gt; is the uniqe ID of the Collection Protocol
which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the Collection Protocol
Details button and read it from the URL, with the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cp-view/{cpid}/overview.
Another possibility is to search via ‘search_collection_protocols’ for a specific Parameters and then extract the ID
from the JSON-dict which gets returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cpid</strong> (<em>int</em>) – The unique ID of the collection protocol which OpenSpecimen creates itself as a string or integer.
It will get converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the Collection Protocol which is deleted or the OpenSpecimen error message as dict.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_all_collection_protocols">
<code class="descname">get_all_collection_protocols</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.get_all_collection_protocols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_all_collection_protocols" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Collection Protocol</p>
<p>Get all Collection Protocols within the OpenSpecimen distribution, which is defined in the base_url.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Details of all Collection Protocols, which are in the OpenSpecimenDistribution.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_collection_protocol">
<code class="descname">get_collection_protocol</code><span class="sig-paren">(</span><em>cpid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.get_collection_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Collection Protocol with the ID cpid</p>
<p>Get the details of the Collection Protocol with the unique ID cpid.
This ID is generated automatically from OpenSpecimen when the Protocol is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cpid</strong> (<em>int</em>) – The System’s ID of the Collection Protocol will be converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the Collection Protocol with the specified ID, or the OpenSpecimen error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_cp_pandas_template">
<code class="descname">get_cp_pandas_template</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.get_cp_pandas_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_cp_pandas_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Template for the Collection Protocol</p>
<p>Template for the Collection Protocol as specified within the system. If, for Examples, some extension details
for the Collection Protocols exists, this function will return also those values. These values are converted into a pandas
dataframe, precisely, it is the header of a pandas data frame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Empty pandas dataframe with OpenSpecimen keys as header inclusive extension details.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">pandas.core.dataframe</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.merge_colelction_protocols">
<code class="descname">merge_colelction_protocols</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.merge_colelction_protocols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.merge_colelction_protocols" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge two Collection Protocols</p>
<p>Merge two Collection Protocols which are defined in params. To call this function the short titles of
the source and target collection protocol have to be known. The Parameters &lt;params&gt; is a json-formatted string,
with keys srcCPShortTitle and tgtCpShorttitle. The merged Protocol is the one with short title tgtCpShortTitle,
with merge logic outer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Merging is restricted to Super Admins. The CPs must have the same format for PPID, visits and specimens.
Or the target CP has no specific formats.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON formatted string with keys srcCpShortTitle and tgtCpShortTitle and the corresponding short titles as values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON dict with the short titles of the source and target Collection Protocols.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.search_collection_protocols">
<code class="descname">search_collection_protocols</code><span class="sig-paren">(</span><em>search_string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.search_collection_protocols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.search_collection_protocols" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for  Collection Protocols with specific values.</p>
<p>Search for one or more Collection Protocols with the search_string defined. The search string looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/collection-protocols?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}
With the class collection_protocol_util from os_util and function &lt;search_cps&gt; the search string is generated
and this function is called. Not all keys from OpenSpecimen can be easily searched for.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>search_string</strong> (<em>string</em>) – String with the following format: ?{param_1}={value_1}&amp;…&amp;{param_x}={value_x} . The parameters can be one of the following:
searchString (OpenSpecimen’s AQL)[optional], title[optional], piId (Principa Investigator)[optional],
repositoryName[optional], startAt[optional], maxResults[optional], detailedList[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">[Details of the matching Collection Protocols, if no one matches it, is an empty list.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.update_collection_protocol">
<code class="descname">update_collection_protocol</code><span class="sig-paren">(</span><em>cpid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol.html#collection_protocol.update_collection_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.update_collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing Collection Protocol with ID cpid with the Parameters params</p>
<blockquote>
<div>Updates an existing Collection Protocol with the automatically generated OpenSpecimen’s system wide
unique Collection Protocol ID cpid, with the Parameters params which are passed to the function.
The ID of the Collection Protocol has to be known and can, for example, be seen in the GUI by clicking on
the Collection Protocol, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cps/{cpid}/… .
Or via the function search_collection_protocols or get_all_collection_protocols</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For updating, all parameters are optional. Those parameters which are not passed to the function, will stay the same as before.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cpid</strong> (<em>int</em>) – Unique Collection Protocol ID which is generated automatically from the System. It will be converted to a string.</li>
<li><strong>params</strong> (<em>string</em>) – JSON-formatted string with the parameters should get updated. The keys which can get updated are:
title, shortTitle, code[optional], startDate[optional], endDate[optional], principalInvestigator,
coordinators[optional], irbId[optonal], anticipatedParticipantsCount[optional], activityStatus, visitNameFmt[optional],
specimenLabel[optional], derivedlabelFormat[optional], ppIdFormat[optional], cpSites,
manualPpidEnabled[optional], manualVisitNameEnabled[optional], manualSpecLabelEnabled[optional]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-dict with the details of the updated Collection Protocol or the OpenSpecimen’s error message.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.collection_protocol_event">
<span id="openspecimenapiconnector-os-core-collection-protocol-event-module"></span><h2>OpenSpecimenAPIconnector.os_core.collection_protocol_event module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol_event" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.collection_protocol_event.</code><code class="descname">collection_protocol_event</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_event.html#collection_protocol_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the Events of corresponding to a Colelction Protocol</p>
<p>This class allows you to handle the Events in Openspecimen. One can create an event,
but first the corresponding Colelction Protocol have to be created, for Examples via os_core.collection_protocol.py.
Get all events or just get one event, delete or update an existing event.
The output is a JSON dict with either details or the Openspecimen error message.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<p>A code Examples, where also Events are handled is in the Jupyter-Notebook</p>
<blockquote>
<div>$ jupyter notebook main.ipynb</div></blockquote>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_event.html#collection_protocol_event.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors one can easily test if the URL and login data are spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.create_event">
<code class="descname">create_event</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_event.html#collection_protocol_event.create_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.create_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an event for a given Collection Protocol.</p>
<p>Create an event for a given Collection Protocol. In order to use this function one
has to know the parameters, which OpenSpecimen needs for to create an event. Another way
to use it is with the class os_util.cpevent_util.py. An advantage of creating events with
API calls is that the event Code “code” can be set, which is needed to add conditional forms
via the workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Returns a json dict with the details of the created event, or the OpenSpecimen error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">json dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.delete_event">
<code class="descname">delete_event</code><span class="sig-paren">(</span><em>eventid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_event.html#collection_protocol_event.delete_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.delete_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an event with the ID eventid.</p>
<p>Delete an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
and can for Examples be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
For Examples, one can extract the eventid with an event-key from OpenSpecimen, when the function
“get_all_events(self, cpid)” for a specific Collection Protocol, with the Collection Protocol ID is called first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>eventid</strong> (<em>int</em>) – The unique ID of the event, which is created by OpenSpecimen.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the deleted event or OpenSpecimens error message as JSON dict.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">json dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_all_events">
<code class="descname">get_all_events</code><span class="sig-paren">(</span><em>cpid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_event.html#collection_protocol_event.get_all_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_all_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all events for a specific Collection Protocol with ID cpid.</p>
<p>Get the details of all events within a given Collection Protocol with the ID cpid.
For Examples, the ID can be seen in the URL if one clicks on the overview of a Collection
Protocol. The URL looks like: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{cpid}/overview .
Another possibility is to search via the  function “search_collection_protocols(self, search_params)”
from the class os_core.collection_protocol with an OpenSpecimen specific key and value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cpid</strong> (<em>int</em>) – Unique ID within OpenSpecimen from a given Collection Protocol. OpenSpecimen generates this ID automatically.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of all events within a given Collection Protocol as dict, where each event is a JSON-dict, or
an error message, which is generated from OpenSpecimen.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">json-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_event">
<code class="descname">get_event</code><span class="sig-paren">(</span><em>eventid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_event.html#collection_protocol_event.get_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the details of an event with the unique ID eventid.</p>
<p>Get the details of an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
and can for Examples be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
For Examples, one can extract the eventid with an event-key from OpenSpecimen, when the function
“get_all_events(self, cpid)” for a specific Collection Protocol, with the Collection Protocol ID is called first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>eventid</strong> (<em>int</em>) – Unique ID of the event within OpenSpecimen, which is generated automatically.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of an event JSON-dict with  ID eventid, or an error message, which is generated from OpenSpecimen.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">json-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.update_event">
<code class="descname">update_event</code><span class="sig-paren">(</span><em>eventid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_event.html#collection_protocol_event.update_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.update_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Update an existing event with ID eventid and the parameters params.</p>
<p>Update an existing event with ID eventid. In order to use this function, one
has to know the parameters, which OpenSpecimen allows to update.
For Examples, one can ‘add’ the Parameters “code” to an existing event which was created via GUI.
This is needed if one wants to add conditional forms via the workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>eventid</strong> (<em>string or int</em>) – Unique ID of the event within OpenSpecimen, which is generated automatically.</li>
<li><strong>params</strong> (<em>string</em>) – json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Details of the event  as JSON-dict which was updated, or an error message, which is generated from OpenSpecimen.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">json-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.collection_protocol_registration">
<span id="openspecimenapiconnector-os-core-collection-protocol-registration-module"></span><h2>OpenSpecimenAPIconnector.os_core.collection_protocol_registration module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol_registration" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.collection_protocol_registration.</code><code class="descname">collection_protocol_registration</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls to registrate participants to a Collection Protocol</p>
<p>Handles the OpenSpecimen API calls to registrate participants to an existing Collection Protocol.
This class can create participants, delete participants, register existing participants to another protocol,
merge participants, get the details of an existing participant or more existing participants, update a participant,
get the consent forms of a participant, download a consent form and delete consents form of participants.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<p>A code Examples, where also Participants are registrated is in the Jupyter-Notebook</p>
<blockquote>
<div>$ jupyter notebook main.ipynb</div></blockquote>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.create_participant">
<code class="descname">create_participant</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.create_participant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.create_participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update a participant to a Collection Protocol.</p>
<p>This function can create a new participant or update an existing participant to an already existing
Collection Protocol. To use this function one has to know either the Collection Protocoll id &lt;cpId&gt;,
the title of the Collection Protocol &lt;cpTitle&gt; or the short title of the Collection Protocol &lt;cpshorttitle&gt; .
Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
collection_protocol_util in os_util. To update a participant, one has to specify the unique ID of the participant.
This Id can be searched via the function get_participant_matches in the os_core class participants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>params</strong> (<em>string</em>) – JSON formatted string with the parameters of the participant. The paramter participant is a JSON-formatted string itself,
for creating a participant it can be left empty; for updating the ID of the participant is needed. The keys of the participant
dict are id[mandatory for updating], firstName, middleName, lastName, uid, birthdate, vitalStatus, deathDate, gender,
race, ethnicities, sexGenotype, pmis, mrn, siteName, empi.</li>
<li><strong>One of the following keys is mandatory to identify the protocol where the participant is created or updated cpId, cpTitle or cpShortTitle.</strong> – The key ppid has to be left blank, if it is set to be autogenerated by the system and is mandatory, if it is created manually.</li>
<li><strong>registrationDate is a mandatory key, the date format is YYYY-MM-DD .</strong></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Details of the created or updated Participant or the OpenSpecimen error message as Dictionary.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.delete_consent">
<code class="descname">delete_consent</code><span class="sig-paren">(</span><em>cprid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.delete_consent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.delete_consent" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a consent form of a participant.</p>
<p>Deletes a consent form of an existing participant with the uniquely participant ID &lt;cprid&gt;
which is generated from the system. The ID has to be known and can be seen for Examples via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cprid</strong> (<em>int</em>) – System generated unique ID of the participant. Will get converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict with value true or error message</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.delete_participant">
<code class="descname">delete_participant</code><span class="sig-paren">(</span><em>cprid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.delete_participant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.delete_participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a participant from a Collection Protocol</p>
<p>Deletes an existing participant with the uniquely participant ID &lt;cprid&gt;
which is generated from the system. The ID has to be known and can be seen for Examples via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cprid</strong> (<em>int</em>) – System generated unique ID of the participant. Will get converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the deleted participant or OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.download_consent_form">
<code class="descname">download_consent_form</code><span class="sig-paren">(</span><em>cprid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.download_consent_form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.download_consent_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the consent form of a participant.</p>
<p>Downloads the consent form of an existing participant with the uniquely participant ID &lt;cprid&gt;
which is generated from the system. The ID has to be known and can be seen for Examples via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cprid</strong> (<em>int</em>) – System generated unique ID of the participant. Will get converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Binary file content of the consent form or a status code.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">binary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_consents">
<code class="descname">get_consents</code><span class="sig-paren">(</span><em>cprid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.get_consents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_consents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the consent form of a participant.</p>
<p>Gets the consent form of an existing participant with the uniquely participant ID &lt;cprid&gt;
which is generated from the system. The ID has to be known and can be seen for Examples via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cprid</strong> (<em>int</em>) – System generated unique ID of the participant. Will get converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the consent form or the openSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_registration">
<code class="descname">get_registration</code><span class="sig-paren">(</span><em>cprid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.get_registration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the details form of a participant.</p>
<p>Gets the details as JSON-dict form of an existing participant with the uniquely participant ID &lt;cprid&gt;
which is generated from the system. The ID has to be known and can be seen for Examples via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cprid</strong> (<em>int</em>) – System generated unique ID of the participant. Will get converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the participant or the openSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_registrations">
<code class="descname">get_registrations</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.get_registrations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_registrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for one or more participants</p>
<p>Gets the details of one or more participants, which are specified in the parameters.
The Parameters are passed via a JSON-formatted string. This function is used in the
os_util class cpr_util, where the specific parameters can be passed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – Json formatted string with keys: cpId, registrationDate[optional], name(substring of first, last or middlename)[optional],
ppid[optional], participantId[optional], dob[optional], specimen[optional], startAt(default=0)[optional],
maxResults(default=100)[optional], includeStats(default=false)[optional], exactMatch(default=false)[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the Participant, who are matching the search criteria.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.merge_participants">
<code class="descname">merge_participants</code><span class="sig-paren">(</span><em>id_from</em>, <em>id_to</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.merge_participants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.merge_participants" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge Participant x to Participant y</p>
<p>Merges Participant with the unique Participant ID &lt;id_from&gt; to the Participant with
unique Participant ID &lt;id_to&gt;. This will move data from all visits and specimens from the source participant to the target participant
and then deletes the source participant.
The Participants unique ID has to be known and can be seen for Examples via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id_from</strong> (<em>int</em>) – System generated unique ID of the source participant. Will get converted to a string.</li>
<li><strong>id_to</strong> (<em>int</em>) – System generated unique ID of the target participant. Will get converted to a string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns details of the merged participants as JSON-dict or OpenSpecimen’s error message.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.register_to_cp">
<code class="descname">register_to_cp</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.register_to_cp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.register_to_cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a participant to another Collection Protocol</p>
<p>Registers an already existing Participant to another Collection Protocol.
The Participants unique ID has to be known and can be seen for Examples via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.
Also, the collection protocol ID of the Protocol in which the participant is registered at has to be known.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON-formatted string with the Parameters: the keys are participant( value is a dict with key id and value
Pariticipant ID[mandatory])[mandatory], registrationDate [mandatory], cpId [mandatory],
ppid[mandatory if manually generated, leave empty if system-generated]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON-dict of the participant which is registred to another protocol.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.update_participant">
<code class="descname">update_participant</code><span class="sig-paren">(</span><em>cprid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/collection_protocol_registration.html#collection_protocol_registration.update_participant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.update_participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a participant already in a Collection Protocol.</p>
<p>This function can update an existing participant with a unique Participant ID &lt;cprid&gt; to an already existing
Collection Protocol. To use this function one has to know either the Collection Protocoll id &lt;cpId&gt;,
the title of the Collection Protocol &lt;cpTitle&gt; or the short title of the Collection Protocol &lt;cpshorttitle&gt; .
Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
collection_protocol_util in os_util. To update a participant, one has to specify the unique ID of the participant.
This Id can be searched via the function get_participant_matches in the os_core class participants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cprid</strong> (<em>int</em>) – System generated unique ID of the participant. Will get converted to a string.</li>
<li><strong>params</strong> (<em>string</em>) – JSON formatted string with the parameters of the participant. The paramter participant is a JSON-formatted string itself,
the parameters which are passed will get updated. The keys of the participant
dict are id[mandatory], firstName, middleName, lastName, uid, birthdate, vitalStatus, deathDate, gender,
race, ethnicities, sexGenotype, pmis, mrn, siteName, empi.</li>
<li><strong>One of the following keys is mandatory to identify the protocol, where the participant is created or updated cpId, cpTitle or cpShortTitle.</strong> – The key ppid has to be left blank, if it is set to be autogenerated by the system and is mandatory, if it is created manually.</li>
<li><strong>registrationDate is a mandatory key, the date format is YYYY-MM-DD .</strong></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Details of the created or updated Participant or the OpenSpecimen error message as Dictionary.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.csv_bulk">
<span id="openspecimenapiconnector-os-core-csv-bulk-module"></span><h2>OpenSpecimenAPIconnector.os_core.csv_bulk module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.csv_bulk" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.csv_bulk.</code><code class="descname">csv_bulk</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_bulk.html#csv_bulk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the OpenSpecimen CSV Bulk Importer via API.</p>
<p>Handles the API calls of the OpenSpecimen’s Bulk Importer for all the different schemas.
This class can get the templates to a schema, upload the csv-files, run the job, get the job status
and get the job report.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The OpenSpecimen Documentation of the Bulk Import can be seen at
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/440434702/Bulk+Import+via+API">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/440434702/Bulk+Import+via+API</a> .
File uploading in OpenSpecimen are two calls, which here are two seperated calls, via the
function bulk_import from the os_util class bulk_operations these calls get one call.</p>
</div>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_bulk.html#csv_bulk.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.get_job_status">
<code class="descname">get_job_status</code><span class="sig-paren">(</span><em>jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_bulk.html#csv_bulk.get_job_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.get_job_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Job status.</p>
<p>Get the status of a job with the ID &lt;jobid&gt; . The status of the job has to be known and
can be seen via GUI in JOBS. The number after # in the title is the ID. The codes are:
200 : Bulk Import request was successfully processed.
401 : Authorisation failed, user doesn’t have the authority.
500 : Internal server error, encountered server error while performing operations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jobid</strong> (<em>int</em>) – ID of the job.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A string with the status code as mentioned above.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.get_template">
<code class="descname">get_template</code><span class="sig-paren">(</span><em>schemaname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_bulk.html#csv_bulk.get_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.get_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Templates to the corresponding schema</p>
<p>Get the Templates of a OpenSpecimen schema and load it into an empty pandas dataframe,
where the OpenSpecimen specific keys are the header of the dataframe. To use this class, one has to know the
schemanames which are used in OpenSpecimen. They are written in camelCase.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The schemanames can be seen at: <a class="reference external" href="https://docs.google.com/spreadsheets/d/1fFcL91jSoTxusoBdxM_sr6TkLt65f25YPgfV-AYps4g/edit#gid=0">https://docs.google.com/spreadsheets/d/1fFcL91jSoTxusoBdxM_sr6TkLt65f25YPgfV-AYps4g/edit#gid=0</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>schemaname</strong> (<em>string</em>) – String in camelCase of the schema, permissable values are: cp, specimen, cpr, user, userRoles, site, shipment,
institute, dpRequirement, distributionProtocol, distributionOrder, storageContainer, storageContainertype,
containerShipment, cpe, masterSpecimen, participant, sr, visit, specimenAliquot, specimenDerivatice,
specimenDisposal, consent</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>pandas core dataframe</em> – Empty dataframe with OpenSpecimen’s keys to the corresponding schema.</li>
<li><em>data binary csv file</em> – The raw csv file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.job_report">
<code class="descname">job_report</code><span class="sig-paren">(</span><em>jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_bulk.html#csv_bulk.job_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.job_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a job report.</p>
<p>Get the status of a job with the ID &lt;jobid&gt; . The status of the job has to be known and
can be seen via GUI in JOBS or in the corresponding schema with View Past Imports. The number
after # in the title is the ID. Generates a JSON-dict of the JOB containing the information
which were uploaded and the additional fields OS_IMPORT_STATUS, OS_ERROR_MESSAGE.
The status and error message can be extracted when converted to a list with location [-2,-1],
or when converted to a dict with keys [‘OS_IMPORT_STATUS’] and [‘OS_ERROR_MESSAGE’].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jobid</strong> (<em>int</em>) – ID of the job.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Job details as CSV like string separated by ‘,’</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.run_upload">
<code class="descname">run_upload</code><span class="sig-paren">(</span><em>schemaname</em>, <em>fileid</em>, <em>operation='CREATE'</em>, <em>dateformat=None</em>, <em>timeformat=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_bulk.html#csv_bulk.run_upload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.run_upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a job which is already created.</p>
<p>Runs a Job, which is already created. The schema and file-ID have to be known. Moreover, one has to specify if
the job updates already existing objects or create new ones.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The date and timeformat can be left empty, if it is compatible with OpenSpecimen.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>schemaname</strong> (<em>string</em>) – String in camelCase of the schema, permissable values are: cp, specimen, cpr, user, userRoles, site, shipment,
institute, dpRequirement, distributionProtocol, distributionOrder, storageContainer, storageContainertype,
containerShipment, cpe, masterSpecimen, participant, sr, visit, specimenAliquot, specimenDerivative,
specimenDisposal, consent</li>
<li><strong>fileid</strong> (<em>string</em>) – The file-ID, from OpenSpecimen generated, which is generated when the file is uploaded.</li>
<li><strong>operation</strong> (<em>string</em>) – The permissable operations are ‘CREATE’ and ‘UPDATE’.</li>
<li><strong>dateformat</strong> (<em>string</em>) – An optional Parameters, which has to be specified if the format is not compatible with OpenSpecimen.</li>
<li><strong>timeformat</strong> (<em>string</em>) – An optional Parameters, which has to be specified if the format is not compatible with OpenSpecimen.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tuple with the format (‘JOBID’, ‘Response Text’).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.upload_csv">
<code class="descname">upload_csv</code><span class="sig-paren">(</span><em>filename</em>, <em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_bulk.html#csv_bulk.upload_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.upload_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a CSV file to OpenSpecimen</p>
<p>This function handles the uploading of a CSV file to OpenSpecimen. This creates a job with a file-ID.
With the file-ID the job then can be started via the function run_upload.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The values are separated by comma ‘,’. This is the OpenSpecimen standard format.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>string</em>) – The name of the file as string with the ending, here .csv .</li>
<li><strong>file</strong> (<em>binary</em>) – The file itself which should get uploaded.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The Job-ID as list with length 1.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.csv_export">
<span id="openspecimenapiconnector-os-core-csv-export-module"></span><h2>OpenSpecimenAPIconnector.os_core.csv_export module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.csv_export" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.csv_export.</code><code class="descname">CSV_exporter</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_export.html#CSV_exporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for CSV file export</p>
<p>This class provides methods to create and fetch the resutls of an internal OpenSpecimen export job.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<p>Just call create export job with the correct data json String like
my_id = CSV_exporter().create_export_job() or supply a job id to call
my_pd_data_frame = CSV_exporter().get_job_output() to retrieve a pandas data frame</p>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter.create_export_job">
<code class="descname">create_export_job</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_export.html#CSV_exporter.create_export_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter.create_export_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Create export job method with the entity (Collection Protocoll, Institutes etc.)
encoded within the data JSON-formated-string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>JSON-formatted-string</em>) – Containing the information needed by the API.
See OpenSpecimenAPIconnector.os_util.Export_OP().export_file to find the JSON
blueprint methods in OpenSpecimenAPIconnector.os_core.Json_Factory().</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>job_id</strong> – A string representing the id (integer number) assigned by the OpenSpecimen API</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter.get_job_output">
<code class="descname">get_job_output</code><span class="sig-paren">(</span><em>job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/csv_export.html#CSV_exporter.get_job_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter.get_job_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the output</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>job_id</strong> – String representing the ID for identifying the output file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>job_data</strong> – A pandas data frame containing the CSV files information. You can easily recover the original file
by using the pandas.to_csv() method.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pandas.DataFrame()</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.institute">
<span id="openspecimenapiconnector-os-core-institute-module"></span><h2>OpenSpecimenAPIconnector.os_core.institute module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.institute" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.institute.</code><code class="descname">institutes</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/institute.html#institutes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for the institutes</p>
<p>Handles the OpenSpecimen API calls for the institutes. This class can
create, delete, update institutes. One can search via different parameters for an institute and
get all Collection protocols corresponding to an institute. Get one or all institutes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<p>Code examples, where the institutes are handled, is in the Jupyter-Notebook:</p>
<blockquote>
<div>$ jupyter notebook main.ipynb</div></blockquote>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/institute.html#institutes.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and Authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.create_institute">
<code class="descname">create_institute</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/institute.html#institutes.create_institute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.create_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an Institute.</p>
<p>Creates an institute in OpenSpecimen. In order to use this function one has to know
the parameters which OpenSpecimen needs to create an institute. One can use it via the os_util class
institute_util. This allows just the basic definition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON formatted string with Parameters: name (Name of the Institute)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Either details of the created institute as JSON-dict or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">json-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.delete_institute">
<code class="descname">delete_institute</code><span class="sig-paren">(</span><em>inid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/institute.html#institutes.delete_institute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.delete_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an Institute</p>
<p>Delete an existing institute in OpenSpecimen with ID &lt;inid&gt;.
The ID is created from OpenSpecimen and can, for Examples, be seen in the GUI
under Institutes. When clicking on the institute, the URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/institutes/{inid}/overview .
Otherwise, one can search with the function search_institutes for Examples by name and extract the ID from there.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inid</strong> (<em>int</em>) – The ID of the Institute, generated by the system, will get converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the deleted institute or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.get_all_institutes">
<code class="descname">get_all_institutes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/institute.html#institutes.get_all_institutes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.get_all_institutes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Institutes</p>
<p>Get all institutes within the OpenSpecimen distribution, which is defined in the base_url.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Details of all institutes which are in the OpenSpecimen Distribution.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.get_institute">
<code class="descname">get_institute</code><span class="sig-paren">(</span><em>inid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/institute.html#institutes.get_institute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.get_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the institute with the ID inid</p>
<p>Get the details of the Institute with the unique ID inid.
This ID is automatically generated by OpenSpecimen at Protocol creation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inid</strong> (<em>int</em>) – The System’s ID of the Institute, will be converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the Institute with the specified ID, or the OpenSpecimen error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.search_institutes">
<code class="descname">search_institutes</code><span class="sig-paren">(</span><em>substring</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/institute.html#institutes.search_institutes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.search_institutes" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for Institutes with specific substring.</p>
<p>Search for one or more institutes with the substring. The search URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/institutes?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>substring</strong> (<em>string</em>) – Substring of the Institutename.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of all matching institutes or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.update_institute">
<code class="descname">update_institute</code><span class="sig-paren">(</span><em>inid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/institute.html#institutes.update_institute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.update_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing Institute with ID inid with the Parameters params</p>
<p>Updates an existing institute with the automatically generated OpenSpecimen’s system wide
unique Institute ID instituteid, with the Parameters params which are passed to the function.
The ID of the institute has to be known and can, for Examples, be seen in the GUI by clicking on
the institutes, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/institutes/{inid}/….or via the function search_institutes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>instituteid</strong> (<em>int</em>) – Unique Institute ID which is generated automatically from the system. It will be converted to a string.</li>
<li><strong>institutename</strong> (<em>string</em>) – New name of the institute, if it is left empty, nothing will be updated.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-dict with the details of the updated institute or the OpenSpecimen’s error message.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.jsons">
<span id="openspecimenapiconnector-os-core-jsons-module"></span><h2>OpenSpecimenAPIconnector.os_core.jsons module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.jsons" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.jsons.</code><code class="descname">Json_factory</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.add_visit_json">
<code class="descname">add_visit_json</code><span class="sig-paren">(</span><em>cprid</em>, <em>name</em>, <em>site</em>, <em>eventid=None</em>, <em>eventlabel=None</em>, <em>ppid=None</em>, <em>cptitle=None</em>, <em>cpshorttitle=None</em>, <em>diagnosis=None</em>, <em>clinicalstatus=None</em>, <em>activity=None</em>, <em>visitstatus='Complete'</em>, <em>missedreason=None</em>, <em>missedby=None</em>, <em>comments=None</em>, <em>pathologynumber=None</em>, <em>cohort=None</em>, <em>visitdate=None</em>, <em>cpid=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.add_visit_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.add_visit_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for adding an visit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cprid</strong> (<em>int</em>) – Identifier of the Collection Protocoll Registration to which the Visit belongs.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</li>
<li><strong>name</strong> (<em>string</em>) – Name of the Visit.</li>
<li><strong>site</strong> (<em>string</em>) – Site to which the Visit belongs.</li>
<li><strong>eventid</strong> (<em>int</em>) – ID of the event to which the visit belongs.[optional]</li>
<li><strong>eventlabel</strong> (<em>string</em>) – Label of the event to which the visit belongs.[optional]</li>
<li><strong>ppid</strong> (<em>string</em>) – Identifier of the Participant to whom the Visit belongs.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</li>
<li><strong>cptitle</strong> (<em>string</em>) – Name of the Collection Protocol.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</li>
<li><strong>cpshorttitle</strong> (<em>title</em>) – Acronym of the Collection Protocol.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</li>
<li><strong>diagnosis</strong> (<em>string</em>) – Name of the diagnoses of the visit.</li>
<li><strong>clinicalstatus</strong> (<em>string</em>) – Clinical Status of the visit.[optional]</li>
<li><strong>activity</strong> (<em>string</em>) – Activity Status of the Visit.[optional]</li>
<li><strong>visitstatus</strong> (<em>string</em>) – Status of the visit.[optional]</li>
<li><strong>missedreason</strong> (<em>string</em>) – Reason why the visit was missed.[optional]</li>
<li><strong>missedby</strong> (<em>string</em>) – Details of the person who missed the visit.[optional]</li>
<li><strong>comments</strong> (<em>string</em>) – Commets regarding the visit.[optional]</li>
<li><strong>pathologynumber</strong> (<em>string</em>) – Surgical Pathology number. [optional]</li>
<li><strong>cohort</strong> (<em>string</em>) – Cohorts to which the Visit belongs. [optional]</li>
<li><strong>visitdate</strong> (<em>string</em>) – Date when the visit will occur, if empty takes the current date.[optional]</li>
<li><strong>cpid</strong> (<em>int</em>) – Identifier of the Collection Protocol.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Json data necessary to add an visit via API call</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formatted string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.assign_user_role_json">
<code class="descname">assign_user_role_json</code><span class="sig-paren">(</span><em>siteid</em>, <em>cpid</em>, <em>role</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.assign_user_role_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.assign_user_role_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign Role</p>
<p>Assign a Role to a Collection Protocol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>siteid</strong> (<em>int</em>) – Integer with the Unique ID of the site, where the User belongs.</li>
<li><strong>cpid</strong> (<em>int</em>) – Integer with the unique ID of the Collection protocol.</li>
<li><strong>role</strong> (<em>string</em>) – String with the name of the Role.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-formatted string such that OpenSpecimen can read it.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.change_user_pw_json">
<code class="descname">change_user_pw_json</code><span class="sig-paren">(</span><em>userid</em>, <em>newpw</em>, <em>oldpw=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.change_user_pw_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.change_user_pw_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Change Password</p>
<p>Change the password of an user via API.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If an user changes its own password, the old password is mandatory.
If the user who changes the password is a superadmin, the new password is enough.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>userid</strong> (<em>int</em>) – Integer with the unique ID of the user, which password should be changed.</li>
<li><strong>newpw</strong> (<em>string</em>) – String with the new password, care about the password complexity.</li>
<li><strong>oldpw</strong> (<em>string</em>) – String with the old password.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSO-formatted string  to change the password, such that OpenSpecimen can read it.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_CP_json">
<code class="descname">create_CP_json</code><span class="sig-paren">(</span><em>short_title=None</em>, <em>title=None</em>, <em>pi_mail=None</em>, <em>time_start=None</em>, <em>time_end=None</em>, <em>sites=None</em>, <em>man_id=False</em>, <em>coords=None</em>, <em>consentsWaived=None</em>, <em>eth_cons_id=None</em>, <em>part_no=None</em>, <em>desc_url=None</em>, <em>visitNameFmt=None</em>, <em>specimenLabelFmt=None</em>, <em>derivativeLabelFmt=None</em>, <em>man_visit_name=False</em>, <em>man_spec_label=True</em>, <em>aliquots_in_same=None</em>, <em>activity=None</em>, <em>aliquotLabelFmt=None</em>, <em>ppidFmt=None</em>, <em>specimenCentric=None</em>, <em>cpid=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_CP_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_CP_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the JSON-formated string corresponding to the collection_protocol_util funciton create_CP</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mandatory paramters are passed as positional args within the calling util class</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>short_title</strong> (<em>string</em>) – Short title of the Collection Protocol.</li>
<li><strong>title</strong> (<em>string</em>) – Title of the Collection Protocol.</li>
<li><strong>pi_mail</strong> (<em>string</em>) – Email Address of the Principal Investigator.</li>
<li><strong>time_start</strong> (<em>string</em>) – String with the start_time of the collection Protocol in the timeformat specified in the System configuration.</li>
<li><strong>time_end</strong> (<em>string</em>) – String with the end_time of the collection Protocol in the timeformat specified in the System configuration.</li>
<li><strong>sites</strong> (<em>list</em>) – Sites which are assigned to the collection Protocol.</li>
<li><strong>man_id</strong> (<em>string</em>) – OpenSpecimen’s boolean true/false if the manual PPID creation is enabled.</li>
<li><strong>coords</strong> (<em>dict</em>) – dict with Coordinators and coordinator ids in it.</li>
<li><strong>consentsWaived</strong> (<em>string</em>) – OpenSpecimen’s boolean true/false if consent should be waived.</li>
<li><strong>eth_cons_id</strong> (<em>string</em>) – Ethical aproavel id.</li>
<li><strong>part_no</strong> (<em>string</em>) – String with number of anticipated Participant count.</li>
<li><strong>desc_url = string</strong> – URL with the decription of the Collection Protocol.</li>
<li><strong>visitNameFMT</strong> (<em>string</em>) – String which contains the OpenSpecimen’s token for creating Visit Names automatically.</li>
<li><strong>man_visit_name</strong> (<em>string</em>) – String with OpenSpecimen’s boolean format if the Visits should be created manually.</li>
<li><strong>man_spec_label</strong> (<em>string</em>) – String with OpenSpecimen’s boolean format if the Specimen Labels should be created manually.</li>
<li><strong>man_spec_label</strong> (<em>string</em>) – String with OpenSpecimen’s boolean format if the Aliquotes are stored in the same Container.</li>
<li><strong>activity</strong> (<em>string</em>) – String with the acitivity status of the Specimen.</li>
<li><strong>cpid</strong> (<em>int</em>) – Integer with the Unique ID of the Collection Protocol.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Collection protocol information neccesary for creation</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated-string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_bulk_import_job">
<code class="descname">create_bulk_import_job</code><span class="sig-paren">(</span><em>schemaname=None</em>, <em>operation=None</em>, <em>fileid=None</em>, <em>dateformat=None</em>, <em>timeformat=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_bulk_import_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_bulk_import_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for creating a bulk import operation to be handled by OpenSpecimen</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>schemaname</strong> (<em>string</em>) – The Openspecimen schematype, that defines the expected CSV file structure for the entity to be created</li>
<li><strong>operation</strong> (<em>string</em>) – Either CREATE or UPDATE duplicate entries will be ignored in case of creation.</li>
<li><strong>fileid</strong> (<em>string</em>) – The file id created internally by OpenSpecimen, which needs to be passed to the API</li>
<li><strong>dateformat</strong> (<em>string</em>) – Specification of date format used in the OpenSpecimen API. See link for details
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/68976690/Date+and+time+formats">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/68976690/Date+and+time+formats</a></li>
<li><strong>timeformat</strong> (<em>string</em>) – Specification of time format used in the OpenSpecimen API. See link for details
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/68976690/Date+and+time+formats">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/68976690/Date+and+time+formats</a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Json data needed for creating an CSV file import job for the given entity</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated-string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_cp_event_json">
<code class="descname">create_cp_event_json</code><span class="sig-paren">(</span><em>label=None</em>, <em>point=None</em>, <em>cp=None</em>, <em>site=None</em>, <em>diagnosis=None</em>, <em>status=None</em>, <em>activity=None</em>, <em>unit=None</em>, <em>code=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_cp_event_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_cp_event_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formated string needed for event creation</p>
<p>Create an event for a given Collection Protocol. Details of the parameters can be found in
the parameters section.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mandatory paramters are passed as positional args within the calling util class</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>label</strong> (<em>string</em>) – Label of the Event, has to be unique.</li>
<li><strong>point</strong> (<em>string or int</em>) – Starting Point of the event, Value + unit (e.g. DAYS).</li>
<li><strong>cp</strong> (<em>string</em>) – title of the collection protocol.</li>
<li><strong>site</strong> (<em>string</em>) – The default Site of the event.</li>
<li><strong>diagnosis</strong> (<em>string</em>) – Defines the permissable values of the diagnosis.</li>
<li><strong>status</strong> (<em>string</em>) – Defines the permissable values of the clinical status.</li>
<li><strong>acitivity</strong> (<em>string</em>) – DEfines the activity status of the event.</li>
<li><strong>unit</strong> (<em>string</em>) – Defines which unit has the starting point.</li>
<li><strong>code</strong> (<em>string</em>) – the Event code, is optional. In order to define condionals in the workflow, one need the Event code.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns a JSON-formated string with the given details for cp event creation</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_csv_export_job">
<code class="descname">create_csv_export_job</code><span class="sig-paren">(</span><em>objecttype=None</em>, <em>recordids=None</em>, <em>cpid=None</em>, <em>ppids=None</em>, <em>entitytype=None</em>, <em>formname=None</em>, <em>specimenlabels=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_csv_export_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_csv_export_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for exporting an collection protocol (should be implemented but is not see OpenSpecimen 7.2)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>objecttype</strong> (<em>string</em>) – Identifying the general object to be exported.
Permissible Values: “institute”, “site”, “user”, “cpr”, “specimen”, “extensions”, “storageContainer”</li>
<li><strong>recordids</strong> (<em>list or string</em>) – Comma seperated list of record ids for fetching selected entries by their identifier. (Sites, Institutes, Users and Containers)</li>
<li><strong>cp_id</strong> (<em>string</em>) – Collection protocol id of export target not neccesary for objects higher in the hierachy like institue or site.
For all others it can be specified or set to “-1” which means all data in the system.</li>
<li><strong>ppids</strong> (<em>list or string</em>) – List of comma seperated participant identifiers; String if its a singular participant to be exported
Used in combination with specimen object type as a paramter</li>
<li><strong>entitytype</strong> (<em>string</em>) – Paramter defining the entity for data extraction (e.g.: attached form at participant level)
used with the extension object type</li>
<li><strong>formname</strong> (<em>string</em>) – Defines the form to be downloaded in context of the extension object type together with the specified entity</li>
<li><strong>specimenlabels</strong> (<em>list or string</em>) – List of comma seperated specimen identifiers; str if its a singular specimen to be exported</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Json data needed for creating an export job for the given entity</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated-string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_extension">
<code class="descname">create_extension</code><span class="sig-paren">(</span><em>attrsmap=None</em>, <em>extensiondict=None</em>, <em>useudn=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_extension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_extension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_institute">
<code class="descname">create_institute</code><span class="sig-paren">(</span><em>institutename=None</em>, <em>inst_id=None</em>, <em>get_csv=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_institute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formatted string to neccesary to retrieve storage location via API</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>institutename</strong> (<em>string</em>) – Name of the institute</li>
<li><strong>inst_id</strong> – institute_id needed for updating when creating an institute via csv</li>
<li><strong>get_csv</strong> (<em>bool</em>) – Return a CSV for creating an institute</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-formated string neccesary for creating an institute</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_participant_json">
<code class="descname">create_participant_json</code><span class="sig-paren">(</span><em>regdate=None</em>, <em>id_=None</em>, <em>cpid=None</em>, <em>cptitle=None</em>, <em>cpshorttitle=None</em>, <em>ppid=None</em>, <em>firstname=None</em>, <em>middlename=None</em>, <em>lastname=None</em>, <em>uid=None</em>, <em>birthdate=None</em>, <em>vitalstatus=None</em>, <em>deathdate=None</em>, <em>gender=None</em>, <em>race=None</em>, <em>ethnicities=None</em>, <em>cprid=None</em>, <em>sexgenotype=None</em>, <em>pmis=None</em>, <em>mrn=None</em>, <em>sitename=None</em>, <em>empi=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_participant_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_participant_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a JSON-formated string for participant creation
This function creates the json corresponding to the cpr_util function
.. note:: Mandatory parameters are passed as positional arguments in the caliing function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>regdate</strong> (<em>string</em>) – Mandatory field with date of registration in the format which is defined in the systemsettings of openSpecimen.</li>
<li><strong>cprid</strong> (<em>int</em>) – Unique ID of the Participant’s Registration.</li>
<li><strong>id_</strong> (<em>int</em>) – Unique ID of the Participant.</li>
<li><strong>cpid</strong> (<em>int</em>) – Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.</li>
<li><strong>cptitle</strong> (<em>string</em>) – Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.</li>
<li><strong>cpshorttitle</strong> (<em>string</em>) – Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.</li>
<li><strong>ppid</strong> (<em>string</em>) – Participant protocol ID, is mandatory if created manaully and have to be empty if it is autogenerated.
This is a protocol setting.</li>
<li><strong>firstname</strong> (<em>string</em>) – Participants first name.</li>
<li><strong>middlename</strong> (<em>string</em>) – Participants middle name.</li>
<li><strong>lastname</strong> (<em>string</em>) – Participants last name.</li>
<li><strong>uid</strong> (<em>string</em>) – Unique identifier e.g. social security number.</li>
<li><strong>birthdate</strong> (<em>string</em>) – Birthdate in the format which is defined in the systemsettings of OpenSpecimen.</li>
<li><strong>vitalstatus</strong> (<em>string</em>) – Vital status of the Participant.</li>
<li><strong>deathdate</strong> (<em>string</em>) – Deathdate in the format which is defined in the systemsettings of OpenSpecimen.</li>
<li><strong>gender</strong> (<em>string</em>) – Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.</li>
<li><strong>race</strong> (<em>string</em>) – Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, black or Afro American, Native Hawaiian
or other Pacific Islander, Not REported, Unknown, White}</li>
<li><strong>ethnicities</strong> (<em>string</em>) – Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}</li>
<li><strong>sexgenotype</strong> (<em>string</em>) – Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome,
XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}</li>
<li><strong>pmis</strong> (<em>string</em>) – Collection of the Participants medical record numner.</li>
<li><strong>mrn</strong> (<em>string</em>) – Participants medical record number.</li>
<li><strong>sitename</strong> (<em>string</em>) – Name of the site, where the participant is registrated.</li>
<li><strong>empi</strong> (<em>string</em>) – Enterprise master patient index number.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Details of the updated Participant or the OpenSpecimen error message as Dictornary.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_site">
<code class="descname">create_site</code><span class="sig-paren">(</span><em>name=None</em>, <em>institutename=None</em>, <em>type_=None</em>, <em>coordinators=None</em>, <em>address=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_site"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Site</p>
<p>Create the payload to create a site in OpenSpecimen via API.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) – String with the name of the site.</li>
<li><strong>institutename</strong> (<em>string</em>) – String with the name of the institute.</li>
<li><strong>type_</strong> (<em>string</em>) – String with the type of the site.</li>
<li><strong>coordinators</strong> (<em>string</em>) – String with the login-name of the coordinators.</li>
<li><strong>address</strong> (<em>string</em>) – String with the address of the institute.</li>
<li><strong>site_id</strong> (<em>string</em>) – String with site id for upadting via csv</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-formatted string to create a site such that OpenSpecimen can read it.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_specimen_json">
<code class="descname">create_specimen_json</code><span class="sig-paren">(</span><em>label=None</em>, <em>specimenclass=None</em>, <em>specimentype=None</em>, <em>pathology=None</em>, <em>anatomic=None</em>, <em>laterality=None</em>, <em>initqty=None</em>, <em>avaqty=None</em>, <em>visitid=None</em>, <em>userid=None</em>, <em>colltime=None</em>, <em>rectime=None</em>, <em>recqlt=None</em>, <em>lineage='New'</em>, <em>status='Collected'</em>, <em>storloc=None</em>, <em>concentration=None</em>, <em>biohazard=None</em>, <em>comments=None</em>, <em>collproc=None</em>, <em>conttype=None</em>, <em>extension=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_specimen_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_specimen_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a API Json String for a Specimen
Create the JSON String neccesary for creating a specimen</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mandatory paramters are passed as positional args within the calling util class</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>label</strong> (<em>string</em>) – UUID of specimen generated automatically if not set to manual in corresponding collection protocol</li>
<li><strong>specimenclass</strong> (<em>string</em>) – Class of the specimen.</li>
<li><strong>specimentype</strong> (<em>string</em>) – Type of the specimen, belongs to the class.</li>
<li><strong>pathology</strong> (<em>string</em>) – Pathologystatus of the Specimen.</li>
<li><strong>anatomic</strong> (<em>string</em>) – The anatomic site of the specimen.</li>
<li><strong>laterality</strong> (<em>string</em>) – The laterality of the specimen.</li>
<li><strong>initqty</strong> (<em>int</em>) – The initial quantity of a specimen.</li>
<li><strong>avaqty</strong> (<em>int</em>) – The available quantity of a specimen.</li>
<li><strong>visitid</strong> (<em>int</em>) – The unique identifier of the visit.</li>
<li><strong>recqlt</strong> (<em>string</em>) – The received quality.</li>
<li><strong>colltime</strong> (<em>string</em>) – Date and Time of the collection event, the format is in the OpenSpecimen’s System configuration.[optional]</li>
<li><strong>rectime</strong> (<em>string</em>) – Date and Time of the received event, the format is in the OpenSpecimen’s System configuration.[optional]</li>
<li><strong>lineage</strong> (<em>string</em>) – Lineage of the specimen, default value is New.</li>
<li><strong>status</strong> (<em>string</em>) – Status of the Specimen, default is ‘Collected’.</li>
<li><strong>stor_name</strong> (<em>string</em>) – Name of the container. [optional]</li>
<li><strong>storlocx</strong> (<em>int</em>) – Position of the specimen in the Container in x direction.[optional]</li>
<li><strong>storlocy</strong> (<em>int</em>) – Position of the specimen int the container in y direction.[optional]</li>
<li><strong>concetration</strong> (<em>int</em>) – Concentration of the specimen[optional].</li>
<li><strong>biohazard</strong> (<em>string</em>) – Biohazards of that specimen.[optional]</li>
<li><strong>userid</strong> (<em>int</em>) – ID of the user who creates the specimen. If not specified the API user is taken.</li>
<li><strong>comments</strong> (<em>string</em>) – Comments regarding to the specimen[optional].</li>
<li><strong>collproc</strong> (<em>string</em>) – The procedure of the collection[otpional].</li>
<li><strong>conttype</strong> (<em>string</em>) – Type of the storage conatiner.</li>
<li><strong>extension</strong> (<em>JSON-String</em>) – JSON-formated-string containing the dict of specimnen extensions created during call to the corresponding util class</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-formated-string with the complete specimen to be created</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_user_json">
<code class="descname">create_user_json</code><span class="sig-paren">(</span><em>first=None</em>, <em>last=None</em>, <em>email=None</em>, <em>phone=None</em>, <em>login=None</em>, <em>institute=None</em>, <em>type_=None</em>, <em>address=None</em>, <em>domain=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.create_user_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_user_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create User</p>
<p>Create the payload for creating a user in OpenSpecimen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>first</strong> (<em>string</em>) – First name of the user.</li>
<li><strong>last</strong> (<em>string</em>) – Last name of the user.</li>
<li><strong>email</strong> (<em>string</em>) – Email-address of the user.</li>
<li><strong>phone</strong> (<em>string</em>) – Phone number of the user.</li>
<li><strong>login</strong> (<em>string</em>) – Login name of the user.</li>
<li><strong>institute</strong> (<em>string</em>) – Institute to which the user belongs.</li>
<li><strong>type_</strong> (<em>string</em>) – Type of the user.</li>
<li><strong>address</strong> (<em>string</em>) – Address of the user.</li>
<li><strong>domain</strong> (<em>string</em>) – Domain where the user belongs to.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON formatted string to create an user such that Openspecimen can read it</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.execute_aql">
<code class="descname">execute_aql</code><span class="sig-paren">(</span><em>cpid</em>, <em>aql</em>, <em>rowmode='OFF'</em>, <em>columnexpr='true'</em>, <em>isodate='true'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.execute_aql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.execute_aql" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string to execute a specified query passed to the method</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp_id</strong> (<em>string</em>) – Collection protocoll id of export target</li>
<li><strong>aql</strong> (<em>string</em>) – query command in the OpenSpecimen Syntax (see OpenSpecimen API)</li>
<li><strong>rowmode</strong> (<em>string</em>) – Specifies whether multi-valued attributes result in a single row or one row per value.
Default value is OFF. Other permitted values are SHALLOW and DEEP.
Try out to see what fits best for your use case.</li>
<li><strong>columnexpr</strong> (<em>string</em>) – Specifies whether the column labels or AQL expression needs to be included in the query response.
By default, user friendly column labels are included in query response.</li>
<li><strong>isodate</strong> (<em>string</em>) – Specifies how the date column values needs to be serialised in the query response.
If true, then date/time values are serialised using ISO format: yyyy-MM-dd’T’HH:mm:ss.
Otherwise, date/time values are serialised using the format specified in OS locale settings</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Json data needed for executing a system query</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated-string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.execute_query">
<code class="descname">execute_query</code><span class="sig-paren">(</span><em>start</em>, <em>results</em>, <em>drivingform='Participant'</em>, <em>rowmode='OFF'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.execute_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.execute_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for execution of a saved query</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start</strong> (<em>string</em>) – Used for paginating the results. If start=5, the output result will start from row number 5.</li>
<li><strong>results</strong> (<em>string</em>) – Used for paginating the results. If results=10, the output result will be maximum 10 rows</li>
<li><strong>drivingform</strong> (<em>string</em>) – Driving form determines the search perspective. When left empty, it defaults to Participant.
(For Examples when drivingForm is Participant, the root table is ‘catissue_coll_prot_reg’
which is then used to join with the other tables.
Similarly when drivingForm is Specimen, the root table will be catissue_specimen,
which will be joined with the other tables.) rowmode: string</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Json data needed for executing a query saved within an Openspecimen appliance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formatted-string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.get_participants">
<code class="descname">get_participants</code><span class="sig-paren">(</span><em>lastname=None</em>, <em>uid=None</em>, <em>birthdate=None</em>, <em>pmi=None</em>, <em>empi=None</em>, <em>reqreginfo=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.get_participants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.get_participants" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formatted string to neccesary to retrieve storage location via API</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lastname</strong> (<em>string</em>) – Substring of the Lastname of a Paritcipant.</li>
<li><strong>uid</strong> (<em>string</em>) – Country specific unique social security number.</li>
<li><strong>birthdate</strong> (<em>string</em>) – The date of registration in the format, which is defined in the System settings.</li>
<li><strong>pmi</strong> (<em>dict</em>) – Dict with details of the Medical records number mrn and the assigned site with key siteName.</li>
<li><strong>empi</strong> (<em>string</em>) – Enterprise wide unique ID assigned to the participant.</li>
<li><strong>reqreginfo</strong> (<em>string</em>) – OpenSpecimen’s boolean (true/false). If true it returns details of the participant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-formated string neccesary for creating an institute</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.get_registrations">
<code class="descname">get_registrations</code><span class="sig-paren">(</span><em>cpid=None</em>, <em>registrationdate=None</em>, <em>ppid=None</em>, <em>name=None</em>, <em>birthdate=None</em>, <em>uid=None</em>, <em>specimen=None</em>, <em>includestats=None</em>, <em>startat=None</em>, <em>maxresults=None</em>, <em>exactmatch=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.get_registrations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.get_registrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for creating a bulk import operation to be handled by OpenSpecimen</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cpid</strong> (<em>string</em>) – Collection protol id of the participants to be queried</li>
<li><strong>registrationdate</strong> (<em>string</em>) – Date formatted string to query participants registered especially on this date</li>
<li><strong>ppid</strong> (<em>string</em>) – OpenSpecimen internal unique id or part of a unique id to be matched (exact matching is defind in exact match)</li>
<li><strong>name</strong> (<em>string</em>) – Name of the participant to be matched</li>
<li><strong>birthdate</strong> (<em>string</em>) – Date formatted string containing the birthdate of a particiapnt to be queried</li>
<li><strong>uid</strong> (<em>string</em>) – Social Security number  or different national identifier</li>
<li><strong>specimen</strong> (<em>string</em>) – Participants whose specimen labels or barcodes contain this Parameters value as a substring will be matched</li>
<li><strong>includestats</strong> (<em>string</em>) – Include additional statitics within the response (visits specimens etc.)</li>
<li><strong>startat</strong> (<em>string</em>) – startat and maxResults are useful in implementing pagination of participants list. When not specified,
startAt defaults to 0. When startAt = n, the first element of the response is (n + 1)th participant satisfying the query criteria.</li>
<li><strong>maxresults</strong> (<em>string</em>) – This Parameters specifies how many participant records should be included in the API response.</li>
<li><strong>exactmatch</strong> (<em>string</em>) – Specifies whether the PPID should be exact match or sub-string match. Boolean true means exact match. Otherwise it is substring match.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">CP id of target of merge action
Json data needed for creating an CSV file import job for the given entity</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated-string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.merge_cps">
<code class="descname">merge_cps</code><span class="sig-paren">(</span><em>src_cp</em>, <em>trg_cp</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.merge_cps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.merge_cps" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formatted string to neccesary to retrieve storage location via API</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src_cp</strong> (<em>string</em>) – CP id of source collection protocoll for merge</li>
<li><strong>trg_cp</strong> (<em>string</em>) – CP id of target of merge action</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-formated string neccesary for merging to CP’s via API</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.register_to_cp">
<code class="descname">register_to_cp</code><span class="sig-paren">(</span><em>cprid</em>, <em>regdate</em>, <em>cpid</em>, <em>ppid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.register_to_cp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.register_to_cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a Registration to another Protocol</p>
<p>Register an existing Registration to another Collection Protocol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cprid</strong> (<em>int</em>) – Integer with the existing Registration Id of the Participant.</li>
<li><strong>regdate</strong> (<em>string</em>) – Dete of the Regisrtation to the new protocol.</li>
<li><strong>cpid</strong> (<em>int</em>) – Integer with the unique ID of the Collection Protocol.</li>
<li><strong>ppid</strong> (<em>string</em>) – String with the Participant protocol ID.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Json-formatted string for register a Participant to another Protocol such that OpenSpecimen can read it.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.storage_location_json">
<code class="descname">storage_location_json</code><span class="sig-paren">(</span><em>id_=None</em>, <em>name=None</em>, <em>xpos=None</em>, <em>ypos=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/jsons.html#Json_factory.storage_location_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.storage_location_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formatted string to neccesary to retrieve storage location via API</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) – Identifier of the Storage Container within OpenSpecimen.</li>
<li><strong>name</strong> (<em>string</em>) – Storage Container name</li>
<li><strong>xpos</strong> (<em>string</em>) – x-coordinate within the given storage conatiner grid (if applicable)</li>
<li><strong>ypos</strong> (<em>string</em>) – y-coordinate within the given storage container grid (if applicable)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON foramted string that is needed to retrieve the storage location of a specimen</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-formated string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.mandatory">
<span id="openspecimenapiconnector-os-core-mandatory-module"></span><h2>OpenSpecimenAPIconnector.os_core.mandatory module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.mandatory" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.mandatory.mark_mandatory">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.mandatory.</code><code class="descname">mark_mandatory</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/mandatory.html#mark_mandatory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.mandatory.mark_mandatory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.mandatory.mark_mandatory.mark_as_mandatory">
<code class="descname">mark_as_mandatory</code><span class="sig-paren">(</span><em>names_list</em>, <em>mandatory_list</em>, <em>mand_ident</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/mandatory.html#mark_mandatory.mark_as_mandatory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.mandatory.mark_mandatory.mark_as_mandatory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.participant">
<span id="openspecimenapiconnector-os-core-participant-module"></span><h2>OpenSpecimenAPIconnector.os_core.participant module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.participant" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.participant.</code><code class="descname">participant</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/participant.html#participant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.participant.participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for the participant</p>
<p>Handles the OpenSpecimen API calls for the participants. This class can
get a participant with a Participant Protocoll ID PPID or via search parameters.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<p>A code Examples, where the institutes are handled, is in the Jupyter-Notebook:</p>
<blockquote>
<div>$ jupyter notebook main.ipynb</div></blockquote>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/participant.html#participant.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.participant.participant.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.get_participant">
<code class="descname">get_participant</code><span class="sig-paren">(</span><em>ppid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/participant.html#participant.get_participant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.participant.participant.get_participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the participant with the Participant Protocol ID ppid</p>
<p>Get the details of the Participant with the Collection protocol wide unique ID ppid.
This ID can be generated automatically from OpenSpecimen or generated manually, which has
to be specified when the Collection Protocol is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ppid</strong> (<em>int</em>) – The Collection Protocol  wide unique Participant Protocol ID of the Institute will be converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the Participant with the specified PPID, or the OpenSpecimen error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.get_participant_matches">
<code class="descname">get_participant_matches</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/participant.html#participant.get_participant_matches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.participant.participant.get_participant_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Participants who matches the params.</p>
<p>Get one or more participants who match the criteria passed with params. This class can be used via
the os_util class cpr_util.py.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the response the matching attributes are listed.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – Json formatted string with parameters: lastName (substring)[optional], uid[optional], birthDate[optional],
pmi(dict with keys mrn[optional], siteName[optional]) [optional], empi[optional], reqRegInfo(default =false)[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of all matching participants or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.query">
<span id="openspecimenapiconnector-os-core-query-module"></span><h2>OpenSpecimenAPIconnector.os_core.query module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.query" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.query.query">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.query.</code><code class="descname">query</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/query.html#query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for the queries</p>
<p>Handles the OpenSpecimen API calls for the queries. This class can
create, execute, search for queries. Also it can create a query in the OpenSpecimen specific Querylanguage AQL.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<p>A code Examples, where the Queries are handled, is in the Jupyter-Notebook:</p>
<blockquote>
<div>$ jupyter notebook main.ipynb</div></blockquote>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.query.query.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/query.html#query.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.query.query.execute_aql">
<code class="descname">execute_aql</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/query.html#query.execute_aql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query.execute_aql" title="Permalink to this definition">¶</a></dt>
<dd><p>Write and Execute a Query in OpenSpecimen</p>
<p>Creates a query which then is executed. The query language AQL can be extracted from the OpenSpecimen GUI query generator.
The possible metainfos are written like schemaname.key. To use this class, one has to know the AQL language.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON-formatted string with the desired parameters. cpId, aql, wideRowMode(default =’OFF’) [optional] ,
outputColumnExprs (default= ‘true’)[optional], outputIsoDateTime (default = ‘true)[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the outcomes of the query with metadata, labels, and columns or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.query.query.execute_query">
<code class="descname">execute_query</code><span class="sig-paren">(</span><em>qryid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/query.html#query.execute_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query.execute_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a saved Query.</p>
<p>Execute an already existing query with the OpenSpecimen’s unique Query ID &lt;qryid&gt; .
The query ID can be seen via clicking on the queries in OpenSpecimen and it is the
number after # in the title.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qryid</strong> (<em>string or int</em>) – The systems ID of the query will be converted to a string.</li>
<li><strong>params</strong> (<em>string</em>) – JSON-formatted string with parameters: drivingForm, wideRowmode,
startAt, maxResults</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Details of all matching queries or the OpenSpecimen’s error message.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.query.query.search_query">
<code class="descname">search_query</code><span class="sig-paren">(</span><em>suburl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/query.html#query.search_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query.search_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for list of queries with specific suburl.</p>
<p>Search for one or more queries with the parameters in the suburl defined. The search URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/saved-queries?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>suburl</strong> (<em>string</em>) – Suburl of the queries with parameters: cpId, searchString, start, max, countReq</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of all matching queries or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.req_util">
<span id="openspecimenapiconnector-os-core-req-util-module"></span><h2>OpenSpecimenAPIconnector.os_core.req_util module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.req_util" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.req_util.</code><code class="descname">OS_request_gen</code><span class="sig-paren">(</span><em>auth</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/req_util.html#OS_request_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generates OpenSpecimen specific requests</p>
<p>This class generates OpenSpecimen specific requests such that headers and authentification are created automatically.
With this class the users have to specify which requests they do need, the url and the payload, which should be sent
to OpenSpecimen. The payload alters for different requests and can be seen in the OpenSpecimen’s API documentation.
The class can handle the following requests: GET, POST(formdata, files, json-formatted string), PUT, DELETE, HEADER.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. The users have to know which requests
are needed and what content should be uploaded. The API documentation of OpenSpecimen is in:
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a></p>
</div>
<p class="rubric">Examples</p>
<dl class="docutils">
<dt>A code Examples, where those requests are used, is in the Jupyter-Notebook</dt>
<dd>$ jupyter notebook main.ipynb</dd>
</dl>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.delete_request">
<code class="descname">delete_request</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/req_util.html#OS_request_gen.delete_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.delete_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates DELETE requests for OpenSpecimen</p>
<p>Generates DELETE request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/{entity}/{objectID} . Is used for deleting objects
of a desired entity e.g. specimens. Usually OpenSpecimen requires the ID of the object in the URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/{entity}/{objectID}</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The response of the request consists of status code, header and body. The type of the body alters
for different requests.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">http(s) response</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.get_request">
<code class="descname">get_request</code><span class="sig-paren">(</span><em>url</em>, <em>stream=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/req_util.html#OS_request_gen.get_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.get_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates GET requests for OpenSpecimen</p>
<p>Generates GET request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/… . It is used for searching objects and
downloading templates or collections. If one downloads a larger file, the Parameters
stream has to be set to “True”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/…</li>
<li><strong>stream</strong> (<em>bool</em>) – Can be set to “True” for larger files, which takes a while to download. Default value is “False”.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The response of the request consists of status code, header and body. The type of the body alters
for different requests.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">http(s) response</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.head_request">
<code class="descname">head_request</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/req_util.html#OS_request_gen.head_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.head_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates HEAD requests for OpenSpecimen</p>
<p>Generates a HEAD request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/{entity} . It is used for getting
the header of an object. Usually OpenSpecimen requires the entity of the object in the URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/{entity}</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The response of the request consists of status code, header and body. The type of the body alters
for different request.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">http(s) response</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.post_request">
<code class="descname">post_request</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>form_data=False</em>, <em>files=None</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/req_util.html#OS_request_gen.post_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.post_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates POST requests for OpenSpecimen</p>
<p>Generates POST request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/… . This request is most times used
for creating or updating objects in OpenSpecimen and the data is either a JSON-dict
with the keys from OpenSpecimen or a binary-file content( this needs a second call to
execute the job)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/…</li>
<li><strong>data</strong> (<em>json-formatted strings</em>) – Json-formatted string, with the keys from OpenSpecimen.</li>
<li><strong>form_data</strong> (<em>bool</em>) – Default value is “False”. Can be set to “True” if, for Examples, forms (.xml-files) are uploaded.</li>
<li><strong>files</strong> (<em>binary</em>) – Default value is “None”. Contains tuple with name + ending and file itself.</li>
<li><strong>params</strong> (<em>json formatted string</em>) – Json-formatted string, with the keys from OpenSpecimen.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The response of the request consists of status code, header and body. The type of the body alters
for different requests.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">http(s) response</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.put_request">
<code class="descname">put_request</code><span class="sig-paren">(</span><em>url</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/req_util.html#OS_request_gen.put_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.put_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates PUT requests for OpenSpecimen</p>
<p>Generates PUT request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/… . This request is most times used
for updating objects in OpenSpecimen and the data is a JSON-dict with the keys
from OpenSpecimen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/…</li>
<li><strong>data</strong> (<em>json-formatted strings</em>) – Json-formatted string, with the keys from OpenSpecimen.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The response of the request consists of status code, header and body. The type of the body alters
for different request.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">http(s) response</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.user_name">
<code class="descname">user_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/req_util.html#OS_request_gen.user_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.user_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the OpenSpecimen Login name</p>
<p>Returns the OpenSpecimen login name of the API-User.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The API-User’s login name.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.site">
<span id="openspecimenapiconnector-os-core-site-module"></span><h2>OpenSpecimenAPIconnector.os_core.site module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.site" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.site.</code><code class="descname">sites</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/site.html#sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the calls for sites</p>
<p>This class handles the API calls for OpenSpecimen Sites. It can create, delete, search
sites with different parameters, get all sites and  get the template of the sites as
Pandas dataframe.  The output is a JSON dict or the error message as JSON dict, except
the Pandas dataframe.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<dl class="docutils">
<dt>A code Examples, where the Collection protocols are handled, is in the Jupyter-Notebook</dt>
<dd>$ jupyter notebook main.ipynb</dd>
</dl>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/site.html#sites.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.
If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data and hand it over to the output terminal.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.create_sites">
<code class="descname">create_sites</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/site.html#sites.create_sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.create_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a site in OpenSpecimen</p>
<p>Create a site in OpenSpecimen with an API call. In order to use this function, one has to know
the OpenSpecimen specific permissable values. With the os_util class site_util.py a site with
standard OpenSpecimen fields can be created, which is calling this function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON-formatted string with parameters: name, instituteName, coordinators, type,
activityStatus, address</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the created site as dictionary or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.delete_sites">
<code class="descname">delete_sites</code><span class="sig-paren">(</span><em>siid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/site.html#sites.delete_sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.delete_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a site with OpenSpecimen’s uniques Site ID</p>
<p>Delete an already existing site. The Parameters &lt;siid&gt; is the uniqe ID of the site
which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the sites
page of the desired site and read it from the URL, with format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/sites/{siid}/overview .
Another possibility is to search via ‘search_sites’ for a specific Parameters and then extract the ID
from the JSON-dict which get returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>siid</strong> (<em>int</em>) – The unique ID of the site which OpenSpecimen creates itself as an integer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the site which is deleted or the OpenSpecimen error message as dict.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.get_all_sites">
<code class="descname">get_all_sites</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/site.html#sites.get_all_sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.get_all_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Sites</p>
<p>Get all sites within the OpenSpecimen distribution defined with the base_url.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Details of all sites as dictionary in the OpenSpecimen distribution</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.get_site">
<code class="descname">get_site</code><span class="sig-paren">(</span><em>siteid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/site.html#sites.get_site"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.get_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Site with the ID siteid</p>
<p>Get the details of a site with the system wide unique ID siteid.
This ID is generated automatically from OpenSpecimen when the site is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>siteid</strong> (<em>int</em>) – The system wide unique ID of the side as int.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the site with the specified ID as dictionary or the OpenSpecimen’ error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.search_sites">
<code class="descname">search_sites</code><span class="sig-paren">(</span><em>search_string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/site.html#sites.search_sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.search_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for sites with specific values.
Search for one or more sites with the values in search_string defined. The search string looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/sites?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}
With the class sites_util from os_util and function &lt;search_sites&gt; the search string is generated
automatically and this function is called. Not all keys from OpenSpecimen can be easily searched for.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>search_string</strong> (<em>string</em>) – String with the following format: ?{param_1}={value_1}&amp;…&amp;{param_x}={value_x} . The parameters can be one of the following:
startAt[optional], maxResults[optional], name[optional], exactMatch[optional], institute[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the matching sites, if no one matches, it is an empty list.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.update_site">
<code class="descname">update_site</code><span class="sig-paren">(</span><em>siid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/site.html#sites.update_site"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.update_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing Site with ID siid with the Parameters params</p>
<p>Updates an existing site with the automatically generated OpsenSpecimen’s system wide
unique site ID siid, with the parameters params which are passed to the function.
The ID of the site has to be known and can, for Examples, be seen in the GUI by clicking on
the site, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/site/{cpid}/… .
Or via the function search_sites or get_all_sites and extracted with key [“id”]</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The optional parameters are those, which are optional for a site. For updating, all parameters are optional,
those which are not passed to the function will stay the same as before.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>siid</strong> (<em>int</em>) – Unique site ID which is generated automatically from the system.</li>
<li><strong>params</strong> (<em>string</em>) – JSON-formatted string with the parameters which should get updated.The keys which can get updated are:
name, instituteName, coordinators, type, activityStatus, address</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-dict with the details of the updated site or the OpenSpecimen’s error message.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.specimen">
<span id="openspecimenapiconnector-os-core-specimen-module"></span><h2>OpenSpecimenAPIconnector.os_core.specimen module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.specimen" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.specimen.</code><code class="descname">specimen</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/specimen.html#specimen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the calls for Specimens</p>
<p>This class handles the API calls for OpenSpecimen Specimens/Aliquots/Derivatives. It can create, delete,
search, and determine the existence of specimens with different parameters. Further, a list of all specimens in the system can be created.
The output is a JSON dict or the error message as dict.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<dl class="docutils">
<dt>A code Examples, where the Specimens/Derivatives/Aliquots are handled, is in the Jupyter-Notebook</dt>
<dd>$ jupyter notebook main.ipynb</dd>
</dl>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/specimen.html#specimen.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.check_specimen">
<code class="descname">check_specimen</code><span class="sig-paren">(</span><em>specimenLabel</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/specimen.html#specimen.check_specimen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.check_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a Specimen with Label exists</p>
<p>Check if a specimen with Label specimenLabel already exists in the System.
Can be interesting if one manually creates a label to avoid specimens with the same label.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>specimenLabel</strong> (<em>string</em>) – Label which should be checked as string. Gets converted to a string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">If Specimen exists, returns “Specimen with label &lt;specimenLabel&gt; exists”.
Or Else “Specimen with label &lt;specimenLabel&gt; does not exist”.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.create_specimen">
<code class="descname">create_specimen</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/specimen.html#specimen.create_specimen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.create_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Specimen</p>
<p>Creates a Specimen. In order to use this function one has to know
the parameters which OpenSpecimen needs to create a Specimen. One can use it via the os_util class
specimen_util.py. This allows just the basic definition, if one has extensions
e.g. BBMRI contact, this fields has to be added separately.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: label[mandatory if its created manually, leave empty if the System creates it
automatically], specimenclass, type, pathology, atomicSite, laterality, initialQty, availableQty, lineage,
visitId,  status, storageLocation(dict with keys positionX[optional],
positionY[optional])[optional], concentration[optional], biohazards[optional], comments[optional],
collectionEvent(DICT with keys user,time, container[otpional], procedure[optional]),
receivedEvent(DICT with keys user, time, receivedQuality), extensionDetails(DICT with keys useUdn, attrsmap,
DICT with extension keys)[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Either details of the created specimen as dictionary or OpenSpecimen’s error message</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">json-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.delete_specimen">
<code class="descname">delete_specimen</code><span class="sig-paren">(</span><em>specimenids</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/specimen.html#specimen.delete_specimen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.delete_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a Specimen/Derivative/Aliquot</p>
<p>Delete an already existing Specimen/Derivative/Aliquot. The Parameters specimenid is the uniqe ID of the Specimen/
Derivative/Aliquot which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the
Specimen/Derivative/Aliquot and read it from the URL, with format:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpid}/specimen/{specimenid}/… .
Another possibility is to search via ‘search_specimens’ for a specific Parameters and then extract the ID
from the JSON-dict which gets returned. The function allows also to delete a list of specimen</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>specimenids</strong> (<em>string</em>) – The unique ID(s) of the Specimen/Aliquot/Derivative which OpenSpecimen creates itself.
Deleting specimens has the form “?id=specimenid_1+…+specimenid_n”</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the Specimens which are deleted or the OpenSpecimen error message as dict.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.get_specimen">
<code class="descname">get_specimen</code><span class="sig-paren">(</span><em>specimenid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/specimen.html#specimen.get_specimen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.get_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Specimen with the ID specimenid</p>
<p>Get the details of the Specimen with the unique ID specimenid.
This ID is generated automatically from OpenSpecimen when the Specimen is created.
It can be seen in the GUI by clicking on the desired Specimen, and read from the URL:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cps/{cpid}/specimens/{specimenid}/… .
Otherwise via search Specimen, for Examples by name and then extract the ID via key [“id”].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>specimenid</strong> (<em>string or int</em>) – The System’s ID of the Specimen, which will be converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the Specimen with the specified ID, or the OpenSpecimen error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">JSON-dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.search_specimens">
<code class="descname">search_specimens</code><span class="sig-paren">(</span><em>search_string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/specimen.html#specimen.search_specimens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.search_specimens" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for  Specimen with specific values.</p>
<p>Search for one or more Specimens with the values in the search_string defined. The search string looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/specimens?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}
With the class specimen_util from os_util and function search_specimens the search string is generated
and this function is called. Not all keys from OpenSpecimen can be easily searched for.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>search_string</strong> (<em>string</em>) – String with the following format: ?{param_1}={value_1}&amp;…&amp;{param_x}={value_x} . The parameters can be one of the following:
label[optional], cprId[optional], eventId[optional], visitId[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the matching Specimens, if no one matches, it is an empty list.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.update_specimen">
<code class="descname">update_specimen</code><span class="sig-paren">(</span><em>specimenid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/specimen.html#specimen.update_specimen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.update_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing Specimen/Aliquot/Derivative</p>
<p>Updates an existing Specimen/Derivative/Aliquot with the automatically generated OpsenSpecimen’s system wide
unique specimen ID specimenid, with the parameters updateparams which are passed to the function.
The ID of the specimen has to be known and can, for Examples, be seen in the GUI by clicking on
theSpecimen, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cps/{cpid}/specimen/{specimenid} .
Or via the function search_specimens and extract from there with the key [“id”]</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The optional parameters are those, which are optional for a Specimen. For updating, all parameters are optional,
those which are not passed to the function will stay the same as before.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cpid</strong> (<em>int</em>) – Unique Collection Protocol ID which is generated automatically from the System.</li>
<li><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: label[mandatory if its created manually, leave empty if the System creates it
automatically], specimenclass, type, pathology, atomicSite, laterality, initialQty, availableQty, lineage,
visitId, parentId[mandatory if Aliquot/Derivative], status, storageLocation(dict with keys positionX[optional],
positionY[optional])[optional], concentration[optional],         biohazards[optional], comments[optional],
collectionEvent(DICT with keys user,time, container[otpional], procedure[optional]),
receivedEvent(DICT with keys user, time, receivedQuality), extensionDetails(DICT with keys useUdn, attrsmap,
DICT with extension keys)[optional]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-dict with the details of the updated Collection Protocol or the OpenSpecimen’s error message.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">JSON-dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.url">
<span id="openspecimenapiconnector-os-core-url-module"></span><h2>OpenSpecimenAPIconnector.os_core.url module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.url" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.url.</code><code class="descname">url_gen</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/url.html#url_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generates the endpoint URL for search- and list operations</p>
<p>This class generates the Parameters string used  in search operations. It can also be used on arrays and lists.
For Examples deleting a list of specimens can be handled with this class.
Parameters strings look like ‘?entity1=value1&amp;…&amp;entityx=valuex’. To specify a list/array operation Parameters string
format follows the following rule ‘?entity=value1,…,valuex&amp;’</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.cp_search_url_gen">
<code class="descname">cp_search_url_gen</code><span class="sig-paren">(</span><em>searchstring=None</em>, <em>title=None</em>, <em>piid=None</em>, <em>reponame=None</em>, <em>startat=None</em>, <em>maxresults=None</em>, <em>detailedlist=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/url.html#url_gen.cp_search_url_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.cp_search_url_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the Parameters string for Collection Protocol search</p>
<p>This function generates the Parameters string to search for collection protocols.
Permissable values are specified within OpenSpecimen.
Values can be passed as lists single parameters will be added as logical AND.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All parameters can be passed to the function as lists and will be reformated to be accepted by Openspecimen.
Parameters permissible to be lists are marked as such within the parameters section.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>searchstring</strong> (<em>string or list</em>) – Substring of the title and short title which want to be searched for as string or list.</li>
<li><strong>title</strong> (<em>string or list</em>) – Substring of the title which wants to be searched for as string or list.</li>
<li><strong>ppid</strong> (<em>string or int</em>) – The ID of the principal investigator as string or int. Gets converted to a string.</li>
<li><strong>reponame</strong> (<em>string or list</em>) – Name of the repositories as string or list.</li>
<li><strong>startat</strong> (<em>string or int</em>) – Defines which row of the search outcome will be the first to show in the return(default n=0)</li>
<li><strong>maxresults</strong> (<em>string or int</em>) – Defines how many rows of the search outcome will be shown, default value is 100.</li>
<li><strong>detailedlist</strong> (<em>string</em>) – String with true or false, if true extension details will be shown.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Parameters string specific for the given  searchoperation to be added to the URL endpoint the e.g.: ‘?query=’searchstring&amp;title=title&amp;…&amp;detailedList=true’.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.delete_specimens">
<code class="descname">delete_specimens</code><span class="sig-paren">(</span><em>specimenids</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/url.html#url_gen.delete_specimens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.delete_specimens" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the URL endpoint for deleting Specimens</p>
<p>Generates the string of the URL endpoint for deleting one or more specimens.
Looks like ‘?id=specimenid1,…,specimenidx’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>specimenids</strong> (<em>string/int or list of string/int</em>) – The specimen IDs which one wants to delete, gets converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The url endpoint as string.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.query_url_gen">
<code class="descname">query_url_gen</code><span class="sig-paren">(</span><em>cpid=None</em>, <em>searchstring=None</em>, <em>start=None</em>, <em>max_=None</em>, <em>countreq=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/url.html#url_gen.query_url_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.query_url_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the URL endpoint for searching a query.</p>
<p>Generates the string of the URL endpoint to searching for queries.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All parameters can be passed to the function as lists and will be reformated to be accepted by Openspecimen.
Parameters permissible to be lists are marked as such within the parameters section.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cpid</strong> (<em>string or int</em>) – ID of the Collection Protocol, where the query is assigned to. Gets converted to a string.</li>
<li><strong>searchstring</strong> (<em>string</em>) – Substring of the query-title.</li>
<li><strong>start</strong> (<em>string or int</em>) – Defines the startrow, of the search outcome. Default is 0, gets converted to a string.</li>
<li><strong>max_</strong> (<em>string or int</em>) – Max results to displayed, default value is 100. Gets converted to a string.</li>
<li><strong>countreq</strong> (<em>true/false</em>) – String with true or false. If true shows the total number of saved queries.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The URL endpoint to search for queries.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.search_specimen">
<code class="descname">search_specimen</code><span class="sig-paren">(</span><em>label=None</em>, <em>cprid=None</em>, <em>eventid=None</em>, <em>visitid=None</em>, <em>maxres='100'</em>, <em>exact='false'</em>, <em>extension='true'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/url.html#url_gen.search_specimen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.search_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the searchstring for Specimens</p>
<p>This function generates the string to search for collection protocols, with the permissable values from OpenSpecimen.
The values can be lists, they are handled as a logical OR. The values not passed to the function will be ignored.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All parameters can be passed to the function as lists and will be reformated to be accepted by Openspecimen.
Parameters permissibke to be lists are marked as such within the paramters section.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>label</strong> (<em>string or list</em>) – The label of the specimen. If a list is passed it searches for multiple labels (logical OR)</li>
<li><strong>cprid</strong> (<em>string or int</em>) – The Collection Protocol Registration ID of the specimen. Gets converted to a string.</li>
<li><strong>enventid</strong> (<em>string or int</em>) – The Event ID of the anticipated Specimen. If searching with cprid the eventid or visitid is mandatory.</li>
<li><strong>visitid</strong> (<em>string or int</em>) – The Visit ID of the anticipated Specimen. If searching with cprid the eventid or visitid is mandatory.</li>
<li><strong>maxres</strong> (<em>string or int</em>) – The maximum results to display as int or string, gets converted to a string. The default value is 100.</li>
<li><strong>exact</strong> (<em>string</em>) – Openspecimen’s boolean true/false. If true, the search parameters have to match exactly.</li>
<li><strong>extensions</strong> (<em>string</em>) – Openspecimen’s boolean value true/false. If true, the extensionDetails will be shown in the results.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">String of the URL endpoint for searching after specimens.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.search_visit_cprid">
<code class="descname">search_visit_cprid</code><span class="sig-paren">(</span><em>cprid</em>, <em>includestats='false'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/url.html#url_gen.search_visit_cprid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.search_visit_cprid" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the URL endpoint for searching a visit</p>
<p>Generates the string of the URL endpoint for searching visits by the
Collection Protocol Registration ID.It looks like ‘?cprId=cprid&amp;includeStats=true/false’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cprid</strong> (<em>string or int</em>) – The Visit ID which one wants to get. Gets converted to a string.</li>
<li><strong>includestats</strong> (<em>string</em>) – OpenSpecimens boolean type true/false. Default is false and thus optional.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The url endpoint as string.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.search_visit_name_spr">
<code class="descname">search_visit_name_spr</code><span class="sig-paren">(</span><em>visitname=None</em>, <em>sprnumber=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/url.html#url_gen.search_visit_name_spr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.search_visit_name_spr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the URL endpoint for searching a Visit</p>
<p>Generates the string of the URL endpoint for searching one or more visits by
the name or surgical pathology number.It looks like ‘?name=visitname&amp;sprNumber=sprnumber’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>visitname</strong> (<em>string</em>) – The visit name which one wants to get.</li>
<li><strong>sprnumber</strong> (<em>string or int</em>) – The surgical pathology number as int or string, gets converted to a string</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The url endpoint as string.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.site_search_url_gen">
<code class="descname">site_search_url_gen</code><span class="sig-paren">(</span><em>sitename=None</em>, <em>institutename=None</em>, <em>maxresults=100</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/url.html#url_gen.site_search_url_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.site_search_url_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the string for Site</p>
<p>This function generates the Parameters string to search for sites, with names or the sites to an institute.
Sitename and Institutename can be lists, they are handled as a logical AND.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sitename</strong> (<em>string or list</em>) – Substring of the Site which wants to be searched for as string or list.</li>
<li><strong>instituename</strong> (<em>string or list</em>) – Substring of the Institute which want to be searched for as string or list.</li>
<li><strong>maxresults</strong> (<em>string or int</em>) – The maximum results what should be shown. OpenSpecimen’s and here the default-value is 100.
Gets converted to a string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">endpoint of the searchoperation, looks like ‘?name=’sitename1&amp;name=sitename2&amp;…&amp;institute=institutenamex’.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.users">
<span id="openspecimenapiconnector-os-core-users-module"></span><h2>OpenSpecimenAPIconnector.os_core.users module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.users" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.users.users">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.users.</code><code class="descname">users</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for Users</p>
<p>This class handles the API calls for users. Get all or specific user information, create a user, change his/her/their password,
get user-roles of or assign a specific role to a user.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. The users have to know which requests
are needed and what content should be uploaded. The API documentation of OpenSpecimen is in:
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a></p>
</div>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.assign_role">
<code class="descname">assign_role</code><span class="sig-paren">(</span><em>userid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.assign_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.assign_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a role to a User</p>
<p>Assign a role to a user with ID in OpenSpecimen. To use this function, one has to know the ID of
the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>userid</strong> (<em>int</em>) – Int of the User ID, which one wants to delete. Gets converted to a string.</li>
<li><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: site(dict with sitedetail), collectionProtocol
(dict with Collection protocol detail), role(dict with detail of the role)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen’s error message.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.change_password">
<code class="descname">change_password</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.change_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.change_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the password of a user</p>
<p>Change the password of a user. If the API-User is Superadmin, the parameters are userId,newPassword.
If the user isn’t a Superadmin nor the Superadmin changes his own password, the parameters are userId,
oldPassword, newPassword.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters userId, oldPassword[mandatory, if not SuperAdmin] newPassword</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dict with status code. 200 password updated, 400 invalid Parameters, 500 unknown error.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.create_user">
<code class="descname">create_user</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.create_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.create_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a user</p>
<p>Create a user in OpenSpecimen. To use this function, one has to know the parameters.
They are explained in the parameters section. Or one can use the os_util class user_util.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
domainName, loginName, instituteName, type, address[optional], activityStatus</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON dict with details of the created user or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.delete_user">
<code class="descname">delete_user</code><span class="sig-paren">(</span><em>userid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.delete_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.delete_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a user</p>
<p>Delete a user in OpenSpecimen. To use this function, one has to know ID of the user.
This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>userid</strong> (<em>int</em>) – String or int of the User Id which one wants to delete. Gets converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON dict with details of the deleted user or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_all_users">
<code class="descname">get_all_users</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.get_all_users"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.get_all_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Users from OpenSpecimen</p>
<p>Returns all users within the OpenSpecimen disrtibution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Returns all users as JSON dict, or an OpenSpecimen’s error message</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_roles">
<code class="descname">get_roles</code><span class="sig-paren">(</span><em>userid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.get_roles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.get_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the roles of a user</p>
<p>Get the roles of a user with ID in OpenSpecimen. To use this function, one has to know the ID of
the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>userid</strong> (<em>int</em>) – Int of the User Id which one wants to delete. Gets converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_user">
<code class="descname">get_user</code><span class="sig-paren">(</span><em>userId</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.get_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.get_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the User with ID</p>
<p>Get the User with ID from OpenSpecimen. To use this function, one has to know the ID of the user.
This can be seen in the GUI if one clicks on the User and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>userId</strong> (<em>int</em>) – ID of the User which one wants to get.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON dict of the details of the specified user with ID or the OpenSpecimen’s error message</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.update_user">
<code class="descname">update_user</code><span class="sig-paren">(</span><em>userid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/users.html#users.update_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.update_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a User</p>
<p>Update a User in OpenSpecimen. To use this function, one has to know the parameters.
They are explained in the parameters section. Or one can use the os_util class user_util.
Also the ID of the user, which gets updated, has to be known.
This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>userid</strong> (<em>int</em>) – ID of the User.</li>
<li><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
domainName, loginName, instituteName, type, address[optional], activityStatus</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON dict with Details of the updated User or the OpenSpecimen’s error message.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.visit">
<span id="openspecimenapiconnector-os-core-visit-module"></span><h2>OpenSpecimenAPIconnector.os_core.visit module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.visit" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit">
<em class="property">class </em><code class="descclassname">OpenSpecimenAPIconnector.os_core.visit.</code><code class="descname">visit</code><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for Visits</p>
<p>This class handles the API calls for OpenSpecimen visits. It can create, delete,
search visits with different parameters. Further visits can be added to a collection protocol within the system.
The outputs are JSON dicts or the error messages as dict.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
</div>
<p class="rubric">Examples</p>
<dl class="docutils">
<dt>A code Examples, where the visits are handled, is in the Jupyter-Notebook</dt>
<dd>$ jupyter notebook main.ipynb</dd>
</dl>
<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.add_visit">
<code class="descname">add_visit</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit.add_visit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.add_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a visit to a Participant.</p>
<p>Add a visit to a participant in OpenSpecimen via API call. To use this function, one has to know the
parameters of the participant, event and site.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mandatory fields are -cprId or (ppid and cpTitle) or (ppid and cpShortTitle)
- name, site</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: cprId, eventId, eventLabel, ppid, cptitle, cpShorttitle, name,
clinicalDiagnoses[optional], clinicalStatus[optional], activityStatus [optional], site, status(permissable
values: COMPLETE, PENDING, MISSED), missedReason[optional], missedBy[optional], comments[optional],
surgicalPathologyNumber[optional], cohort[optional], visitDate[optional]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Details of the visit as JSON dict or the Openspecimen’s error message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.add_visit_specimen">
<code class="descname">add_visit_specimen</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit.add_visit_specimen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.add_visit_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a visit and corresponding specimens</p>
<p>Create a visit and specimens in one call. To use this function one has to know the parameters
of the participants and events. Or one can use the create_visit_specimens function from the os_util
class visit_util.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The visit fields can be seen in add_visit and the ones for specimens are in create specimen.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters visit (dict-like string with details of the visit),
specimens(dict-like string with details of the specimens)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON dict with the details of the created visit and specimens or OpenSpecimen’s error message</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.ausgabe">
<code class="descname">ausgabe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit.ausgabe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.delete_visit">
<code class="descname">delete_visit</code><span class="sig-paren">(</span><em>visitid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit.delete_visit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.delete_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a Visit from OpenSpecimen</p>
<p>Delete an existing visit in OpenSpecimen with the Visit ID visitid. This has to be known and can
be found out in the GUI by clicking on a participant and the visit. It looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspeicmen/cp-view/{cpid}/participant/{cprid}/visits/detail/ocerview?visitId={visitid}&amp;eventId={eventId} .
Or via the function get_visit_namespr, when one knows the name of the visit and then extract the ID from there.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>visitid</strong> (<em>int</em>) – ID of the visit, gets converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON-dict with the details of the deleted visit or the OpenSpecimen’s error message</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.get_visit">
<code class="descname">get_visit</code><span class="sig-paren">(</span><em>visitid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit.get_visit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.get_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a Visit from OpenSpecimen</p>
<p>Get an existing visit in OpenSpecimen with the Visit ID visitid. This has to be known and can
be found out in the GUI by clicking on a participant and the visit. It looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspeicmen/cp-view/{cpid}/participant/{cprid}/visits/detail/ocerview?visitId={visitid}&amp;eventId={eventId} .
Or via the function get_visit_namespr, when one knows the name of the visit and then extract the id from there.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>visitid</strong> (<em>int</em>) – ID of the visit, gets converted to a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON-dict with the details of the visit with ID visitid or the OpenSpecimen’s error message</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.get_visit_namespr">
<code class="descname">get_visit_namespr</code><span class="sig-paren">(</span><em>search_string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit.get_visit_namespr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.get_visit_namespr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a Visit by the Name or the Surgical Pathology Number</p>
<p>Get one or more visits by name or surgical pathology number. Parameters have to be known in advance
in order to use this function. If just the visitname is passed, one returns a visit with the corresponding name.
If just the surgical pathology number is passed, it returns all visits attached to this number. If both are passed,
it works as logical AND.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>search_string</strong> (<em>string</em>) – string in the format ‘?name=visitname(optional)&amp;sprNumer=sprnumber(optional)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON-dict with details of the visits.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.get_visits_cpr">
<code class="descname">get_visits_cpr</code><span class="sig-paren">(</span><em>search_string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit.get_visits_cpr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.get_visits_cpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a Visit by the Collection Protocol Registration ID.</p>
<p>Get a visit by the collection protocoll registration ID. Parameters have to be known in advance
in order to use this function. They can be extracted from calling a search function in the
os_core class visits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>search_string</strong> (<em>string</em>) – string in the format ‘?cprId=cprid&amp;includeStats=true/false(optional)’</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON-dict with details of the visit.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.update_visit">
<code class="descname">update_visit</code><span class="sig-paren">(</span><em>visitid</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/OpenSpecimenAPIconnector/os_core/visit.html#visit.update_visit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.update_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Updating a visit</p>
<p>Update an existing visit with ID visitid and the parameters params. All parameters are
optional for updating and those which are not passed, stay the same. Those parameters and
the visit ID have to be known to use this function and can
be found out in the GUI by clicking on a participant and the visit. It looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspeicmen/cp-view/{cpid}/participant/{cprid}/visits/detail/ocerview?visitId={visitid}&amp;eventId={eventId} .
Or via the function get_visit_namespr, when one knows the name of the visit and then extract the ID from there.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mandatory fields are -cprId or (ppid and cpTitle) or (ppid and cpShortTitle),
- name, -site</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>visitid</strong> (<em>int</em>) – ID of the visit as int or string, gets converted to a string</li>
<li><strong>params</strong> (<em>string</em>) – JSON- formatted string with parameters: cprId, eventId, eventLabel, eventPoint[optional], ppid, cptitle, cpShorttitle, name,
clinicalDiagnoses[optional], clinicalStatus[optional], activityStatus [optional], site, status(permissable
values: COMPLETE, PENDING, MISSED), missedReason[optional], missedBy[optional], comments[optional],
surgicalPathologyNumber[optional], cohort[optional], visitDate[optional]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON-dict with details of the updated visit or OpenSpecimens error message</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Christian Schorn, Simon Streit.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>