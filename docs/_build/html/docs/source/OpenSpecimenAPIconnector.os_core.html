
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenSpecimenAPIconnector.os_core package &#8212; OpenspecimenPyConnector 0.9.1 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="openspecimenapiconnector-os-core-package">
<h1>OpenSpecimenAPIconnector.os_core package<a class="headerlink" href="#openspecimenapiconnector-os-core-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.collection_protocol">
<span id="openspecimenapiconnector-os-core-collection-protocol-module"></span><h2>OpenSpecimenAPIconnector.os_core.collection_protocol module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.collection_protocol.</span></code><code class="sig-name descname"><span class="pre">collection_protocol</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the calls Collection Protocol</p>
<p>This class handles the API calls for OpenSpecimen Collection Protocol. It can create, delete,
search a Protocol with different parameters, can get all Collection Protocols in the system and can
get the template of the Collection Protocols as JSON dict or as Pandas dataframe.
The output is a JSON dict or the error message as JSON dict, except the Pandas dataframe.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<p>A code example, where the Collection protocols are handled, is in the Jupyter-Notebook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ jupyter notebook main.ipynb
</pre></div>
</div>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.create_collection_protocol">
<code class="sig-name descname"><span class="pre">create_collection_protocol</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.create_collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Collection Protocol</p>
<p>Creates a Collection Protocol in OpenSpecimen. In order to use this function, one has to know
the parameters which OpenSpecimen needs to create a protocol. One can use it via the os_util class
collection_protocol_util. This allows just the basic definition, if one has Extensions
e.g. BBMRI contact, this fields have to be added separately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: title, shortTitle, code[optional], startDate[optional],
endDate[optional], principalInvestigator, coordinators[optional], irbId[optonal],
anticipatedParticipantsCount[optional], activityStatus, visitNameFmt[optional],
specimenLabel[optional], derivedlabelFormat[optional], ppIdFormat[optional], cpSites,
manualPpidEnabled[optional], manualVisitNameEnabled[optional], manualSpecLabelEnabled[optional]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either error details of the created protocol</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.delete_collection_protocol">
<code class="sig-name descname"><span class="pre">delete_collection_protocol</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.delete_collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a Collection Protocol with OpenSpecimens unique CollectionProtocolID</p>
<p>Delete an already existing Collection Protocol. The parameter ::cpid:: is the uniqe ID of the Collection Protocol
which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the Collection Protocol
Details button and read it from the URL, with the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cp-view/{cpid}/overview.
Another possibility is to search via ‘search_collection_protocols’ for a specific parameter and then extract the ID
from the JSON-dict which gets returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cpid</strong> (<em>int</em>) – The unique ID of the collection protocol which OpenSpecimen creates itself as a string or integer.
It will get converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the Collection Protocol which is deleted or the OpenSpecimen error message as dict.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_all_collection_protocols">
<code class="sig-name descname"><span class="pre">get_all_collection_protocols</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_all_collection_protocols" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Collection Protocol</p>
<p>Get all Collection Protocols within the OpenSpecimen distribution, which is defined in the base_url.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of all Collection Protocols, which are in the OpenSpecimenDistribution.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_collection_protocol">
<code class="sig-name descname"><span class="pre">get_collection_protocol</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Collection Protocol with the ID ::cpid:</p>
<p>Get the details of the Collection Protocol with the unique ID ::cpid::.
This ID is generated automatically from OpenSpecimen when the Protocol is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cpid</strong> (<em>int</em>) – The System’s ID of the Collection Protocol will be converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the Collection Protocol with the specified ID, or the OpenSpecimen error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_cp_pandas_template">
<code class="sig-name descname"><span class="pre">get_cp_pandas_template</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.get_cp_pandas_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Template for the Collection Protocol</p>
<p>Template for the Collection Protocol as specified within the system. If, for example, some extension details
for the Collection Protocols exists, this function will return also those values. These values are converted into a pandas
dataframe, precisely, it is the header of a pandas data frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Empty pandas dataframe with OpenSpecimen keys as header inclusive extension details.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.core.dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.merge_colelction_protocols">
<code class="sig-name descname"><span class="pre">merge_colelction_protocols</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.merge_colelction_protocols" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge two Collection Protocols</p>
<p>Merge two Collection Protocols which are defined in params. To call this function the short titles of
the source and target collection protocol have to be known. The parameter ::params:: is a json-formatted string,
with keys srcCPShortTitle and tgtCpShorttitle. The merged Protocol is the one with short title tgtCpShortTitle,
with merge logic outer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Merging is restricted to Super Admins. The CPs must have the same format for PPID, visits and specimens.
Or the target CP has no specific formats.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON formatted string with keys srcCpShortTitle and tgtCpShortTitle and the corresponding short titles as values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON dict with the short titles of the source and target Collection Protocols.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.search_collection_protocols">
<code class="sig-name descname"><span class="pre">search_collection_protocols</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.search_collection_protocols" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for  Collection Protocols with specific values.</p>
<p>Search for one or more Collection Protocols with the search_string defined. The search string looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/collection-protocols?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}
With the class collection_protocol_util from os_util and function ::search_cps:: the search string is generated
and this function is called. Not all keys from OpenSpecimen can be easily searched for.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>search_string</strong> (<em>string</em>) – String with the following format: ?{param_1}={value_1}&amp;…&amp;{param_x}={value_x} . The parameters can be one of the following:
searchString (OpenSpecimen’s AQL)[optional], title[optional], piId (Principa Investigator)[optional],
repositoryName[optional], startAt[optional], maxResults[optional], detailedList[optional]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[Details of the matching Collection Protocols, if no one matches it, is an empty list.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.update_collection_protocol">
<code class="sig-name descname"><span class="pre">update_collection_protocol</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol.collection_protocol.update_collection_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing Collection Protocol with ID ::cpid:: with the Parameters ::params:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Updates</span> <span class="n">an</span> <span class="n">existing</span> <span class="n">Collection</span> <span class="n">Protocol</span> <span class="k">with</span> <span class="n">the</span> <span class="n">automatically</span> <span class="n">generated</span> <span class="n">OpenSpecimen</span><span class="s1">&#39;s system wide</span>
<span class="n">unique</span> <span class="n">Collection</span> <span class="n">Protocol</span> <span class="n">ID</span> <span class="p">::</span><span class="n">cpid</span><span class="p">::,</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Parameters</span> <span class="p">::</span><span class="n">params</span><span class="p">::</span> <span class="n">which</span> <span class="n">are</span> <span class="n">passed</span> <span class="n">to</span> <span class="n">the</span> <span class="n">function</span><span class="o">.</span>
<span class="n">The</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Collection</span> <span class="n">Protocol</span> <span class="n">has</span> <span class="n">to</span> <span class="n">be</span> <span class="n">known</span> <span class="ow">and</span> <span class="n">can</span><span class="p">,</span> <span class="k">for</span> <span class="n">example</span><span class="p">,</span> <span class="n">be</span> <span class="n">seen</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">GUI</span> <span class="n">by</span> <span class="n">clicking</span> <span class="n">on</span>
<span class="n">the</span> <span class="n">Collection</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">which</span> <span class="n">has</span> <span class="n">the</span> <span class="nb">format</span> <span class="n">http</span><span class="p">(</span><span class="n">s</span><span class="p">):</span><span class="o">//&lt;</span><span class="n">host</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;/</span><span class="n">openspecimen</span><span class="o">/</span><span class="n">cps</span><span class="o">/</span><span class="p">{</span><span class="n">cpid</span><span class="p">}</span><span class="o">/...</span> <span class="o">.</span>
<span class="n">Or</span> <span class="n">via</span> <span class="n">the</span> <span class="n">function</span> <span class="n">search_collection_protocols</span> <span class="ow">or</span> <span class="n">get_all_collection_protocols</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For updating, all parameters are optional. Those parameters which are not passed to the function, will stay the same as before.</p>
</div>
<dl class="simple">
<dt>cpid<span class="classifier">int</span></dt><dd><p>Unique Collection Protocol ID which is generated automatically from the System. It will be converted to a string.</p>
</dd>
<dt>params<span class="classifier">string</span></dt><dd><p>JSON-formatted string with the parameters should get updated. The keys which can get updated are:
title, shortTitle, code[optional], startDate[optional], endDate[optional], principalInvestigator,
coordinators[optional], irbId[optonal], anticipatedParticipantsCount[optional], activityStatus, visitNameFmt[optional],
specimenLabel[optional], derivedlabelFormat[optional], ppIdFormat[optional], cpSites,
manualPpidEnabled[optional], manualVisitNameEnabled[optional], manualSpecLabelEnabled[optional]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON-dict with the details of the updated Collection Protocol or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.collection_protocol_event">
<span id="openspecimenapiconnector-os-core-collection-protocol-event-module"></span><h2>OpenSpecimenAPIconnector.os_core.collection_protocol_event module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol_event" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.collection_protocol_event.</span></code><code class="sig-name descname"><span class="pre">collection_protocol_event</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the Events of corresponding to a Colelction Protocol</p>
<p>This class allows you to handle the Events in Openspecimen. One can create an event,
but first the corresponding Colelction Protocol have to be created, for example via os_core.collection_protocol.py.
Get all events or just get one event, delete or update an existing event.
The output is a JSON dict with either details or the Openspecimen error message.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<p>A code example, where also Events are handled is in the Jupyter-Notebook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ jupyter notebook main.ipynb
</pre></div>
</div>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors one can easily test if the URL and login data are spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.create_event">
<code class="sig-name descname"><span class="pre">create_event</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.create_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an event for a given Collection Protocol.</p>
<p>Create an event for a given Collection Protocol. In order to use this function one
has to know the parameters, which OpenSpecimen needs for to create an event. Another way
to use it is with the class os_util.cpevent_util.py. An advantage of creating events with
API calls is that the event Code “code” can be set, which is needed to add conditional forms
via the workflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a json dict with the details of the created event, or the OpenSpecimen error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.delete_event">
<code class="sig-name descname"><span class="pre">delete_event</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eventid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.delete_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an event with the ID eventid.</p>
<p>Delete an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
“get_all_events(self, cpid)” for a specific Collection Protocol, with the Collection Protocol ID is called first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>eventid</strong> (<em>int</em>) – The unique ID of the event, which is created by OpenSpecimen.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the deleted event or OpenSpecimens error message as JSON dict.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_all_events">
<code class="sig-name descname"><span class="pre">get_all_events</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_all_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all events for a specific Collection Protocol with ID cpid.</p>
<p>Get the details of all events within a given Collection Protocol with the ID cpid.
For example, the ID can be seen in the URL if one clicks on the overview of a Collection
Protocol. The URL looks like: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{cpid}/overview .
Another possibility is to search via the  function “search_collection_protocols(self, search_params)”
from the class os_core.collection_protocol with an OpenSpecimen specific key and value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cpid</strong> (<em>int</em>) – Unique ID within OpenSpecimen from a given Collection Protocol. OpenSpecimen generates this ID automatically.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of all events within a given Collection Protocol as dict, where each event is a JSON-dict, or
an error message, which is generated from OpenSpecimen.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_event">
<code class="sig-name descname"><span class="pre">get_event</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eventid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the details of an event with the unique ID eventid.</p>
<p>Get the details of an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
“get_all_events(self, cpid)” for a specific Collection Protocol, with the Collection Protocol ID is called first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>eventid</strong> (<em>int</em>) – Unique ID of the event within OpenSpecimen, which is generated automatically.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of an event JSON-dict with  ID eventid, or an error message, which is generated from OpenSpecimen.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.update_event">
<code class="sig-name descname"><span class="pre">update_event</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eventid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.update_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Update an existing event with ID eventid and the parameters params.</p>
<p>Update an existing event with ID eventid. In order to use this function, one
has to know the parameters, which OpenSpecimen allows to update.
For example, one can ‘add’ the parameter “code” to an existing event which was created via GUI.
This is needed if one wants to add conditional forms via the workflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eventid</strong> (<em>string</em><em> or </em><em>int</em>) – Unique ID of the event within OpenSpecimen, which is generated automatically.</p></li>
<li><p><strong>params</strong> (<em>string</em>) – json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the event  as JSON-dict which was updated, or an error message, which is generated from OpenSpecimen.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json-dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.collection_protocol_registration">
<span id="openspecimenapiconnector-os-core-collection-protocol-registration-module"></span><h2>OpenSpecimenAPIconnector.os_core.collection_protocol_registration module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.collection_protocol_registration" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.collection_protocol_registration.</span></code><code class="sig-name descname"><span class="pre">collection_protocol_registration</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls to registrate participants to a Collection Protocol</p>
<p>Handles the OpenSpecimen API calls to registrate participants to an existing Collection Protocol.
This class can create participants, delete participants, register existing participants to another protocol,
merge participants, get the details of an existing participant or more existing participants, update a participant,
get the consent forms of a participant, download a consent form and delete consents form of participants.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<p>A code example, where also Participants are registrated is in the Jupyter-Notebook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ jupyter notebook main.ipynb
</pre></div>
</div>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.create_participant">
<code class="sig-name descname"><span class="pre">create_participant</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.create_participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update a participant to a Collection Protocol.</p>
<p>This function can create a new participant or update an existing participant to an already existing
Collection Protocol. To use this function one has to know either the Collection Protocoll id ::cpId::,
the title of the Collection Protocol ::cpTitle:: or the short title of the Collection Protocol ::cpshorttitle:: .
Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
collection_protocol_util in os_util. To update a participant, one has to specify the unique ID of the participant.
This Id can be searched via the function get_participant_matches in the os_core class participants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>string</em>) – JSON formatted string with the parameters of the participant. The paramter participant is a JSON-formatted string itself,
for creating a participant it can be left empty; for updating the ID of the participant is needed. The keys of the participant
dict are id[mandatory for updating], firstName, middleName, lastName, uid, birthdate, vitalStatus, deathDate, gender,
race, ethnicities, sexGenotype, pmis, mrn, siteName, empi.</p></li>
<li><p><strong>of the following keys is mandatory to identify the protocol where the participant is created</strong><strong> or </strong><strong>updated cpId</strong> (<em>One</em>) – The key ppid has to be left blank, if it is set to be autogenerated by the system and is mandatory, if it is created manually.</p></li>
<li><p><strong>or cpShortTitle.</strong> (<em>cpTitle</em>) – The key ppid has to be left blank, if it is set to be autogenerated by the system and is mandatory, if it is created manually.</p></li>
<li><p><strong>is a mandatory key</strong> (<em>registrationDate</em>) – </p></li>
<li><p><strong>date format is YYYY-MM-DD .</strong> (<em>the</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the created or updated Participant or the OpenSpecimen error message as Dictionary.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.delete_consent">
<code class="sig-name descname"><span class="pre">delete_consent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.delete_consent" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a consent form of a participant.</p>
<p>Deletes a consent form of an existing participant with the uniquely participant ID ::cprid::
which is generated from the system. The ID has to be known and can be seen for example via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<dl class="simple">
<dt>cprid<span class="classifier">int</span></dt><dd><p>System generated unique ID of the participant. Will get converted to a string.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dict with value true or error message</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.delete_participant">
<code class="sig-name descname"><span class="pre">delete_participant</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.delete_participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a participant from a Collection Protocol</p>
<p>Deletes an existing participant with the uniquely participant ID ::cprid::
which is generated from the system. The ID has to be known and can be seen for example via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<dl class="simple">
<dt>cprid<span class="classifier">int</span></dt><dd><p>System generated unique ID of the participant. Will get converted to a string.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of the deleted participant or OpenSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.download_consent_form">
<code class="sig-name descname"><span class="pre">download_consent_form</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.download_consent_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the consent form of a participant.</p>
<p>Downloads the consent form of an existing participant with the uniquely participant ID ::cprid::
which is generated from the system. The ID has to be known and can be seen for example via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<dl class="simple">
<dt>cprid<span class="classifier">int</span></dt><dd><p>System generated unique ID of the participant. Will get converted to a string.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Binary file content of the consent form or a status code.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>binary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_consents">
<code class="sig-name descname"><span class="pre">get_consents</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_consents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the consent form of a participant.</p>
<p>Gets the consent form of an existing participant with the uniquely participant ID ::cprid::
which is generated from the system. The ID has to be known and can be seen for example via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<dl class="simple">
<dt>cprid<span class="classifier">int</span></dt><dd><p>System generated unique ID of the participant. Will get converted to a string.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of the consent form or the openSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_registration">
<code class="sig-name descname"><span class="pre">get_registration</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the details form of a participant.</p>
<p>Gets the details as JSON-dict form of an existing participant with the uniquely participant ID ::cprid::
which is generated from the system. The ID has to be known and can be seen for example via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<dl class="simple">
<dt>cprid<span class="classifier">int</span></dt><dd><p>System generated unique ID of the participant. Will get converted to a string.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of the participant or the openSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_registrations">
<code class="sig-name descname"><span class="pre">get_registrations</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.get_registrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for one or more participants</p>
<p>Gets the details of one or more participants, which are specified in the parameters.
The Parameters are passed via a JSON-formatted string. This function is used in the
os_util class cpr_util, where the specific parameters can be passed.</p>
<dl class="simple">
<dt>params<span class="classifier">string</span></dt><dd><p>Json formatted string with keys: cpId, registrationDate[optional], name(substring of first, last or middlename)[optional],
ppid[optional], participantId[optional], dob[optional], specimen[optional], startAt(default=0)[optional],
maxResults(default=100)[optional], includeStats(default=false)[optional], exactMatch(default=false)[optional]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of the Participant, who are matching the search criteria.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.merge_participants">
<code class="sig-name descname"><span class="pre">merge_participants</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_from</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_to</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.merge_participants" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge Participant x to Participant y</p>
<p>Merges Participant with the unique Participant ID ::id_from:: to the Participant with
unique Participant ID ::id_to::. This will move data from all visits and specimens from the source participant to the target participant
and then deletes the source participant.
The Participants unique ID has to be known and can be seen for example via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id_from</strong> (<em>int</em>) – System generated unique ID of the source participant. Will get converted to a string.</p></li>
<li><p><strong>id_to</strong> (<em>int</em>) – System generated unique ID of the target participant. Will get converted to a string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns details of the merged participants as JSON-dict or OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.register_to_cp">
<code class="sig-name descname"><span class="pre">register_to_cp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.register_to_cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a participant to another Collection Protocol</p>
<p>Registers an already existing Participant to another Collection Protocol.
The Participants unique ID has to be known and can be seen for example via
the GUI in the URL: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpId}/participants/{cprid}/…
or with the function get_participant_matches in the os_core class participants.
Also, the collection protocol ID of the Protocol in which the participant is registered at has to be known.</p>
<dl class="simple">
<dt>params<span class="classifier">string</span></dt><dd><p>JSON-formatted string with the Parameters: the keys are participant( value is a dict with key id and value
Pariticipant ID[mandatory])[mandatory], registrationDate [mandatory], cpId [mandatory],
ppid[mandatory if manually generated, leave empty if system-generated]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON-dict of the participant which is registred to another protocol.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.update_participant">
<code class="sig-name descname"><span class="pre">update_participant</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_registration.collection_protocol_registration.update_participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a participant already in a Collection Protocol.</p>
<p>This function can update an existing participant with a unique Participant ID ::cprid:: to an already existing
Collection Protocol. To use this function one has to know either the Collection Protocoll id ::cpId::,
the title of the Collection Protocol ::cpTitle:: or the short title of the Collection Protocol ::cpshorttitle:: .
Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
collection_protocol_util in os_util. To update a participant, one has to specify the unique ID of the participant.
This Id can be searched via the function get_participant_matches in the os_core class participants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cprid</strong> (<em>int</em>) – System generated unique ID of the participant. Will get converted to a string.</p></li>
<li><p><strong>params</strong> (<em>string</em>) – JSON formatted string with the parameters of the participant. The paramter participant is a JSON-formatted string itself,
the parameters which are passed will get updated. The keys of the participant
dict are id[mandatory], firstName, middleName, lastName, uid, birthdate, vitalStatus, deathDate, gender,
race, ethnicities, sexGenotype, pmis, mrn, siteName, empi.</p></li>
<li><p><strong>of the following keys is mandatory to identify the protocol</strong> (<em>One</em>) – The key ppid has to be left blank, if it is set to be autogenerated by the system and is mandatory, if it is created manually.</p></li>
<li><p><strong>the participant is created</strong><strong> or </strong><strong>updated cpId</strong> (<em>where</em>) – The key ppid has to be left blank, if it is set to be autogenerated by the system and is mandatory, if it is created manually.</p></li>
<li><p><strong>or cpShortTitle.</strong> (<em>cpTitle</em>) – The key ppid has to be left blank, if it is set to be autogenerated by the system and is mandatory, if it is created manually.</p></li>
<li><p><strong>is a mandatory key</strong> (<em>registrationDate</em>) – </p></li>
<li><p><strong>date format is YYYY-MM-DD .</strong> (<em>the</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the created or updated Participant or the OpenSpecimen error message as Dictionary.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.csv_bulk">
<span id="openspecimenapiconnector-os-core-csv-bulk-module"></span><h2>OpenSpecimenAPIconnector.os_core.csv_bulk module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.csv_bulk" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.csv_bulk.</span></code><code class="sig-name descname"><span class="pre">csv_bulk</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the OpenSpecimen CSV Bulk Importer via API.</p>
<p>Handles the API calls of the OpenSpecimen’s Bulk Importer for all the different schemas.
This class can get the templates to a schema, upload the csv-files, run the job, get the job status
and get the job report.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The OpenSpecimen Documentation of the Bulk Import can be seen at
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/440434702/Bulk+Import+via+API">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/440434702/Bulk+Import+via+API</a> .
File uploading in OpenSpecimen are two calls, which here are two seperated calls, via the
function bulk_import from the os_util class bulk_operations these calls get one call.</p>
</div>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.get_job_status">
<code class="sig-name descname"><span class="pre">get_job_status</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jobid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.get_job_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Job status.</p>
<p>Get the status of a job with the ID ::jobid:: . The status of the job has to be known and
can be seen via GUI in JOBS. The number after # in the title is the ID. The codes are:
200 : Bulk Import request was successfully processed.
401 : Authorisation failed, user doesn’t have the authority.
500 : Internal server error, encountered server error while performing operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jobid</strong> (<em>int</em>) – ID of the job.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string with the status code as mentioned above.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.get_template">
<code class="sig-name descname"><span class="pre">get_template</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schemaname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.get_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Templates to the corresponding schema</p>
<p>Get the Templates of a OpenSpecimen schema and load it into an empty pandas dataframe,
where the OpenSpecimen specific keys are the header of the dataframe. To use this class, one has to know the
schemanames which are used in OpenSpecimen. They are written in camelCase.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The schemanames can be seen at: <a class="reference external" href="https://docs.google.com/spreadsheets/d/1fFcL91jSoTxusoBdxM_sr6TkLt65f25YPgfV-AYps4g/edit#gid=0">https://docs.google.com/spreadsheets/d/1fFcL91jSoTxusoBdxM_sr6TkLt65f25YPgfV-AYps4g/edit#gid=0</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>schemaname</strong> (<em>string</em>) – String in camelCase of the schema, permissable values are: cp, specimen, cpr, user, userRoles, site, shipment,
institute, dpRequirement, distributionProtocol, distributionOrder, storageContainer, storageContainertype,
containerShipment, cpe, masterSpecimen, participant, sr, visit, specimenAliquot, specimenDerivatice,
specimenDisposal, consent</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>pandas core dataframe</em> – Empty dataframe with OpenSpecimen’s keys to the corresponding schema.</p></li>
<li><p><em>data binary csv file</em> – The raw csv file</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.job_report">
<code class="sig-name descname"><span class="pre">job_report</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jobid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.job_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a job report.</p>
<p>Get the status of a job with the ID ::jobid:: . The status of the job has to be known and
can be seen via GUI in JOBS or in the corresponding schema with View Past Imports. The number
after # in the title is the ID. Generates a JSON-dict of the JOB containing the information
which were uploaded and the additional fields OS_IMPORT_STATUS, OS_ERROR_MESSAGE.
The status and error message can be extracted when converted to a list with location [-2,-1],
or when converted to a dict with keys [‘OS_IMPORT_STATUS’] and [‘OS_ERROR_MESSAGE’].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jobid</strong> (<em>int</em>) – ID of the job.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Job details as CSV like string separated by ‘,’</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.run_upload">
<code class="sig-name descname"><span class="pre">run_upload</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schemaname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CREATE'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dateformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.run_upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a job which is already created.</p>
<p>Runs a Job, which is already created. The schema and file-ID have to be known. Moreover, one has to specify if
the job updates already existing objects or create new ones.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The date and timeformat can be left empty, if it is compatible with OpenSpecimen.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schemaname</strong> (<em>string</em>) – String in camelCase of the schema, permissable values are: cp, specimen, cpr, user, userRoles, site, shipment,
institute, dpRequirement, distributionProtocol, distributionOrder, storageContainer, storageContainertype,
containerShipment, cpe, masterSpecimen, participant, sr, visit, specimenAliquot, specimenDerivative,
specimenDisposal, consent</p></li>
<li><p><strong>fileid</strong> (<em>string</em>) – The file-ID, from OpenSpecimen generated, which is generated when the file is uploaded.</p></li>
<li><p><strong>operation</strong> (<em>string</em>) – The permissable operations are ‘CREATE’ and ‘UPDATE’.</p></li>
<li><p><strong>dateformat</strong> (<em>string</em>) – An optional parameter, which has to be specified if the format is not compatible with OpenSpecimen.</p></li>
<li><p><strong>timeformat</strong> (<em>string</em>) – An optional parameter, which has to be specified if the format is not compatible with OpenSpecimen.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple with the format (‘JOBID’, ‘Response Text’).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.upload_csv">
<code class="sig-name descname"><span class="pre">upload_csv</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_bulk.csv_bulk.upload_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a CSV file to OpenSpecimen</p>
<p>This function handles the uploading of a CSV file to OpenSpecimen. This creates a job with a file-ID.
With the file-ID the job then can be started via the function run_upload.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The values are separated by comma ‘,’. This is the OpenSpecimen standard format.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>string</em>) – The name of the file as string with the ending, here .csv .</p></li>
<li><p><strong>file</strong> (<em>binary</em>) – The file itself which should get uploaded.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The Job-ID as list with length 1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.csv_export">
<span id="openspecimenapiconnector-os-core-csv-export-module"></span><h2>OpenSpecimenAPIconnector.os_core.csv_export module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.csv_export" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.csv_export.</span></code><code class="sig-name descname"><span class="pre">CSV_exporter</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for CSV file export</p>
<p>This class provides methods to create and fetch the resutls of an internal OpenSpecimen export job.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<p>Just call create export job with the correct data json String like
my_id = CSV_exporter().create_export_job(<a href="#id1"><span class="problematic" id="id2">*</span></a>args) or supply a job id to call
my_pd_data_frame = CSV_exporter().get_job_output(<a href="#id3"><span class="problematic" id="id4">*</span></a>args) to retrieve a pandas data frame</p>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter.create_export_job">
<code class="sig-name descname"><span class="pre">create_export_job</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter.create_export_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Create export job method with the entity (Collection Protocoll, Institutes etc.)
encoded within the data JSON-formated-strig.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>JSON-formatted-string</em>) – </p></li>
<li><p><strong>the information needed by the API.</strong> (<em>Containing</em>) – </p></li>
<li><p><strong>OpenSpecimenAPIconnector.os_util.Export_OP</strong><strong>(</strong><strong>)</strong><strong>export_file to find the JSON</strong> (<em>See</em>) – </p></li>
<li><p><strong>methods in OpenSpecimenAPIconnector.os_core.Json_Factory</strong><strong>(</strong><strong>)</strong><strong></strong> (<em>blueprint</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>job_id</strong> (<em>String</em>)</p></li>
<li><p><em>A string representing the id (integer number) assigned by the OpenSpecimen API</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter.get_job_output">
<code class="sig-name descname"><span class="pre">get_job_output</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.csv_export.CSV_exporter.get_job_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job_id</strong> – String representing the ID for identifying the output file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>job_data</strong> – A pandas data frame containing the CSV files information. You can easily recover the original file
by using the pandas.to_csv() method.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame()</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.institute">
<span id="openspecimenapiconnector-os-core-institute-module"></span><h2>OpenSpecimenAPIconnector.os_core.institute module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.institute" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.institute.</span></code><code class="sig-name descname"><span class="pre">institutes</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for the institutes</p>
<p>Handles the OpenSpecimen API calls for the institutes. This class can
create, delete, update institutes. One can search via different parameters for an institute and
get all Collection protocols corresponding to an institute. Get one or all institutes.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<p>Code examples, where the institutes are handled, is in the Jupyter-Notebook:</p>
<blockquote>
<div><p>$ jupyter notebook main.ipynb</p>
</div></blockquote>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and Authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.create_institute">
<code class="sig-name descname"><span class="pre">create_institute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.create_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an Institute.</p>
<p>Creates an institute in OpenSpecimen. In order to use this function one has to know
the parameters which OpenSpecimen needs to create an institute. One can use it via the os_util class
institute_util. This allows just the basic definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameter: name (Name of the Institute)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either details of the created institute as JSON-dict or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.delete_institute">
<code class="sig-name descname"><span class="pre">delete_institute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.delete_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an Institute</p>
<p>Delete an existing institute in OpenSpecimen with ID ::inid::.
The ID is created from OpenSpecimen and can, for example, be seen in the GUI
under Institutes. When clicking on the institute, the URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/institutes/{inid}/overview .
Otherwise, one can search with the function search_institutes for example by name and extract the ID from there.</p>
<dl class="simple">
<dt>inid<span class="classifier">int</span></dt><dd><p>The ID of the Institute, generated by the system, will get converted to a string.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of the deleted institute or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.get_all_institutes">
<code class="sig-name descname"><span class="pre">get_all_institutes</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.get_all_institutes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Institutes</p>
<p>Get all institutes within the OpenSpecimen distribution, which is defined in the base_url.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of all institutes which are in the OpenSpecimen Distribution.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.get_institute">
<code class="sig-name descname"><span class="pre">get_institute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.get_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the institute with the ID ::inid:</p>
<p>Get the details of the Institute with the unique ID ::inid::.
This ID is automatically generated by OpenSpecimen at Protocol creation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inid</strong> (<em>int</em>) – The System’s ID of the Institute, will be converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the Institute with the specified ID, or the OpenSpecimen error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.search_institutes">
<code class="sig-name descname"><span class="pre">search_institutes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">substring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.search_institutes" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for Institutes with specific substring.</p>
<p>Search for one or more institutes with the substring. The search URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/institutes?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>substring</strong> (<em>string</em>) – Substring of the Institutename.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of all matching institutes or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.institute.institutes.update_institute">
<code class="sig-name descname"><span class="pre">update_institute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.institute.institutes.update_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing Institute with ID ::inid:: with the Parameters ::params:</p>
<p>Updates an existing institute with the automatically generated OpenSpecimen’s system wide
unique Institute ID ::instituteid::, with the parameter ::params:: which are passed to the function.
The ID of the institute has to be known and can, for example, be seen in the GUI by clicking on
the institutes, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/institutes/{inid}/….or via the function search_institutes.</p>
<dl class="simple">
<dt>instituteid<span class="classifier">int</span></dt><dd><p>Unique Institute ID which is generated automatically from the system. It will be converted to a string.</p>
</dd>
<dt>institutename<span class="classifier">string</span></dt><dd><p>New name of the institute, if it is left empty, nothing will be updated.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON-dict with the details of the updated institute or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.jsons">
<span id="openspecimenapiconnector-os-core-jsons-module"></span><h2>OpenSpecimenAPIconnector.os_core.jsons module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.jsons" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.jsons.</span></code><code class="sig-name descname"><span class="pre">Json_factory</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.add_visit_json">
<code class="sig-name descname"><span class="pre">add_visit_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eventid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eventlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cptitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpshorttitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diagnosis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clinicalstatus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">activity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visitstatus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Complete'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missedreason</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missedby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathologynumber</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cohort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visitdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.add_visit_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for adding an visit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cprid</strong> (<em>int</em>) – Identifier of the Collection Protocoll Registration to which the Visit belongs.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</p>
</dd>
</dl>
<dl class="simple">
<dt>name<span class="classifier">string</span></dt><dd><p>Name of the Visit.</p>
</dd>
<dt>site<span class="classifier">string</span></dt><dd><p>Site to which the Visit belongs.</p>
</dd>
<dt>eventid<span class="classifier">int</span></dt><dd><p>ID of the event to which the visit belongs.[optional]</p>
</dd>
<dt>eventlabel<span class="classifier">string</span></dt><dd><p>Label of the event to which the visit belongs.[optional]</p>
</dd>
<dt>ppid<span class="classifier">string</span></dt><dd><p>Identifier of the Participant to whom the Visit belongs.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</p>
</dd>
<dt>cptitle<span class="classifier">string</span></dt><dd><p>Name of the Collection Protocol.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</p>
</dd>
<dt>cpshorttitle<span class="classifier">title</span></dt><dd><p>Acronym of the Collection Protocol.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</p>
</dd>
<dt>diagnosis<span class="classifier">string</span></dt><dd><p>Name of the diagnoses of the visit.</p>
</dd>
<dt>clinicalstatus<span class="classifier">string</span></dt><dd><p>Clinical Status of the visit.[optional]</p>
</dd>
<dt>activity<span class="classifier">string</span></dt><dd><p>Activity Status of the Visit.[optional]</p>
</dd>
<dt>visitstatus<span class="classifier">string</span></dt><dd><p>Status of the visit.[optional]</p>
</dd>
<dt>missedreason<span class="classifier">string</span></dt><dd><p>Reason why the visit was missed.[optional]</p>
</dd>
<dt>missedby<span class="classifier">string</span></dt><dd><p>Details of the person who missed the visit.[optional]</p>
</dd>
<dt>comments<span class="classifier">string</span></dt><dd><p>Commets regarding the visit.[optional]</p>
</dd>
<dt>pathologynumber<span class="classifier">string</span></dt><dd><p>Surgical Pathology number. [optional]</p>
</dd>
<dt>cohort<span class="classifier">string</span></dt><dd><p>Cohorts to which the Visit belongs. [optional]</p>
</dd>
<dt>visitdate<span class="classifier">string</span></dt><dd><p>Date when the visit will occur, if empty takes the current date.[optional]</p>
</dd>
<dt>cpid<span class="classifier">int</span></dt><dd><p>Identifier of the Collection Protocol.
cprid or (cptitle and ppid) or (cpid and ppid) or (cpshorttitle and ppid) are mandatory.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Json data necessary to add an visit via API call</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-formatted string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.assign_user_role_json">
<code class="sig-name descname"><span class="pre">assign_user_role_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">siteid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.assign_user_role_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign Role</p>
<p>Assign a Role to a Collection Protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>siteid</strong> (<em>int</em>) – Integer with the Unique ID of the site, where the User belongs.</p></li>
<li><p><strong>cpid</strong> (<em>int</em>) – Integer with the unique ID of the Collection protocol.</p></li>
<li><p><strong>role</strong> (<em>string</em>) – String with the name of the Role.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-formatted string such that OpenSpecimen can read it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.change_user_pw_json">
<code class="sig-name descname"><span class="pre">change_user_pw_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newpw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oldpw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.change_user_pw_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Change Password</p>
<p>Change the password of an user via API.</p>
<p class="rubric">Notes</p>
<p>If an user changes its one password, the old password is mandatory.
If the user who changes the password is a superadmin, the new password is enough.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>userid</strong> (<em>int</em>) – Integer with the unique ID of the user, which password should be changed.</p></li>
<li><p><strong>newpw</strong> (<em>string</em>) – String with the new password, care about the password complexity.</p></li>
<li><p><strong>oldpw</strong> (<em>string</em>) – String with the old password.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSO-formatted string  to change the password, such that OpenSpecimen can read it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_CP_json">
<code class="sig-name descname"><span class="pre">create_CP_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">short_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi_mail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">man_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consentsWaived</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eth_cons_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part_no</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visitNameFmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specimenLabelFmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">derivativeLabelFmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">man_visit_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">man_spec_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aliquots_in_same</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">activity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aliquotLabelFmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppidFmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specimenCentric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_CP_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the JSON-formated string corresponding to the collection_protocol_util funciton create_CP</p>
<p class="rubric">Notes</p>
<p>Mandatory paramters are passed as positional args within the calling util class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>short_title</strong> (<em>string</em>) – Short title of the Collection Protocol.</p></li>
<li><p><strong>title</strong> (<em>string</em>) – Title of the Collection Protocol.</p></li>
<li><p><strong>pi_mail</strong> (<em>string</em>) – Email Address of the Principal Investigator.</p></li>
<li><p><strong>time_start</strong> (<em>string</em>) – String with the start_time of the collection Protocol in the timeformat specified in the System configuration.</p></li>
<li><p><strong>time_end</strong> (<em>string</em>) – String with the end_time of the collection Protocol in the timeformat specified in the System configuration.</p></li>
<li><p><strong>sites</strong> (<em>list</em>) – Sites which are assigned to the collection Protocol.</p></li>
<li><p><strong>man_id</strong> (<em>string</em>) – OpenSpecimen’s boolean true/false if the manual PPID creation is enabled.</p></li>
<li><p><strong>coords</strong> (<em>dict</em>) – dict with Coordinators and coordinator ids in it.</p></li>
<li><p><strong>consentsWaived</strong> (<em>string</em>) – OpenSpecimen’s boolean true/false if consent should be waived.</p></li>
<li><p><strong>eth_cons_id</strong> (<em>string</em>) – Ethical aproavel id.</p></li>
<li><p><strong>part_no</strong> (<em>string</em>) – String with number of anticipated Participant count.</p></li>
<li><p><strong>= string</strong> (<em>desc_url</em>) – URL with the decription of the Collection Protocol.</p></li>
<li><p><strong>visitNameFMT</strong> (<em>string</em>) – String which contains the OpenSpecimen’s token for creating Visit Names automatically.</p></li>
<li><p><strong>man_visit_name</strong> (<em>string</em>) – String with OpenSpecimen’s boolean format if the Visits should be created manually.</p></li>
<li><p><strong>man_spec_label</strong> (<em>string</em>) – String with OpenSpecimen’s boolean format if the Specimen Labels should be created manually.</p></li>
<li><p><strong>man_spec_label</strong> – String with OpenSpecimen’s boolean format if the Aliquotes are stored in the same Container.</p></li>
<li><p><strong>activity</strong> (<em>string</em>) – String with the acitivity status of the Specimen.</p></li>
<li><p><strong>cpid</strong> (<em>int</em>) – Integer with the Unique ID of the Collection Protocol.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-formated-string containing the collection protocol information neccesary for creation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_bulk_import_job">
<code class="sig-name descname"><span class="pre">create_bulk_import_job</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schemaname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dateformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_bulk_import_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for creating a bulk import operation to be handled by OpenSpecimen</p>
<p>Parameters
schemaname : string</p>
<blockquote>
<div><p>The Openspecimen schematype, that defines the expected CSV file structure for the entity to be created</p>
</div></blockquote>
<dl class="simple">
<dt>operation<span class="classifier">string</span></dt><dd><p>Either CREATE or UPDATE duplicate entries will be ignored in case of creation.</p>
</dd>
<dt>fileid: string</dt><dd><p>The file id created internally by OpenSpecimen, which needs to be passed to the API</p>
</dd>
<dt>dateformat: string</dt><dd><p>Specification of date format used in the OpenSpecimen API. See link for details
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/68976690/Date+and+time+formats">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/68976690/Date+and+time+formats</a></p>
</dd>
<dt>timeformat: string</dt><dd><p>Specification of time format used in the OpenSpecimen API. See link for details
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/68976690/Date+and+time+formats">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/68976690/Date+and+time+formats</a></p>
</dd>
</dl>
<p>Returns
JSON-formated-string</p>
<blockquote>
<div><p>Json data needed for creating an CSV file import job for the given entity</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_cp_event_json">
<code class="sig-name descname"><span class="pre">create_cp_event_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diagnosis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">activity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_cp_event_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formated string needed for event creation</p>
<p>Create an event for a given Collection Protocol. Details of the parameters can be found in
the parameters section.
.. rubric:: Notes</p>
<p>Mandatory paramters are passed as positional args within the calling util class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>string</em>) – Label of the Event, has to be unique.</p></li>
<li><p><strong>point</strong> (<em>string</em><em> or </em><em>int</em>) – Starting Point of the event, Value + unit (e.g. DAYS).</p></li>
<li><p><strong>cp</strong> (<em>string</em>) – title of the collection protocol.</p></li>
<li><p><strong>site</strong> (<em>string</em>) – The default Site of the event.</p></li>
<li><p><strong>diagnosis</strong> (<em>string</em>) – Defines the permissable values of the diagnosis.</p></li>
<li><p><strong>status</strong> (<em>string</em>) – Defines the permissable values of the clinical status.</p></li>
<li><p><strong>acitivity</strong> (<em>string</em>) – DEfines the activity status of the event.</p></li>
<li><p><strong>unit</strong> (<em>string</em>) – Defines which unit has the starting point.</p></li>
<li><p><strong>code</strong> (<em>string</em>) – the Event code, is optional. In order to define condionals in the workflow, one need the Event code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a JSON-formated string with the given details for cp event creation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-formated string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_csv_export_job">
<code class="sig-name descname"><span class="pre">create_csv_export_job</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objecttype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recordids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entitytype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specimenlabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_csv_export_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for exporting an collection protocol (should be implemented but is not see OpenSpecimen 7.2)</p>
<p>Parameters
objecttype: string</p>
<blockquote>
<div><p>Identifying the general object to be exported.
Permissible Values: “institute”, “site”, “user”, “cpr”, “specimen”, “extensions”, “storageContainer”</p>
</div></blockquote>
<dl class="simple">
<dt>recordids: list or string</dt><dd><p>Comma seperated list of record ids for fetching selected entries by their identifier. (Sites, Institutes, Users and Containers)</p>
</dd>
<dt>cp_id: string</dt><dd><p>Collection protocol id of export target not neccesary for objects higher in the hierachy like institue or site.
For all others it can be specified or set to “-1” which means all data in the system.</p>
</dd>
<dt>ppids: list or string</dt><dd><p>List of comma seperated participant identifiers; String if its a singular participant to be exported
Used in combination with specimen object type as a paramter</p>
</dd>
<dt>entitytype: string</dt><dd><p>Paramter defining the entity for data extraction (e.g.: attached form at participant level)
used with the extension object type</p>
</dd>
<dt>formname: string</dt><dd><p>Defines the form to be downloaded in context of the extension object type together with the specified entity</p>
</dd>
<dt>specimenlabels: list or string</dt><dd><p>List of comma seperated specimen identifiers; str if its a singular specimen to be exported</p>
</dd>
</dl>
<dl class="simple">
<dt>Returns JSON-formated-string</dt><dd><p>Json data needed for creating an export job for the given entity</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_extension">
<code class="sig-name descname"><span class="pre">create_extension</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attrsmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extensiondict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useudn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_extension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_institute">
<code class="sig-name descname"><span class="pre">create_institute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">institutename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inst_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_csv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_institute" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formatted string to neccesary to retrieve storage location via API</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>institutename</strong> (<em>string</em>) – Name of the institute</p></li>
<li><p><strong>inst_id</strong> – institute_id needed for updating when creating an institute via csv</p></li>
<li><p><strong>get_csv</strong> (<em>bool</em>) – Return a CSV for creating an institute</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-formated string neccesary for creating an institute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-formated string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_participant_json">
<code class="sig-name descname"><span class="pre">create_participant_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cptitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpshorttitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">middlename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lastname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">birthdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vitalstatus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deathdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gender</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">race</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ethnicities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cprid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sexgenotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mrn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sitename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_participant_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a JSON-formated string for participant creation
This function creates the json corresponding to the cpr_util function
.. rubric:: Notes</p>
<p>Mandatory parameters are passed as positional arguments in the caliing function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regdate</strong> (<em>string</em>) – Mandatory field with date of registration in the format which is defined in the systemsettings of openSpecimen.</p></li>
<li><p><strong>cprid</strong> (<em>int</em>) – Unique ID of the Participant’s Registration.</p></li>
<li><p><strong>id</strong> (<em>int</em>) – Unique ID of the Participant.</p></li>
<li><p><strong>cpid</strong> (<em>int</em>) – Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.</p></li>
<li><p><strong>cptitle</strong> (<em>string</em>) – Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.</p></li>
<li><p><strong>cpshorttitle</strong> (<em>string</em>) – Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.</p></li>
<li><p><strong>ppid</strong> (<em>string</em>) – Participant protocol ID, is mandatory if created manaully and have to be empty if it is autogenerated.
This is a protocol setting.</p></li>
<li><p><strong>firstname</strong> (<em>string</em>) – Participants first name.</p></li>
<li><p><strong>middlename</strong> (<em>string</em>) – Participants middle name.</p></li>
<li><p><strong>lastname</strong> (<em>string</em>) – Participants last name.</p></li>
<li><p><strong>uid</strong> (<em>string</em>) – Unique identifier e.g. social security number.</p></li>
<li><p><strong>birthdate</strong> (<em>string</em>) – Birthdate in the format which is defined in the systemsettings of OpenSpecimen.</p></li>
<li><p><strong>vitalstatus</strong> (<em>string</em>) – Vital status of the Participant.</p></li>
<li><p><strong>deathdate</strong> (<em>string</em>) – Deathdate in the format which is defined in the systemsettings of OpenSpecimen.</p></li>
<li><p><strong>gender</strong> (<em>string</em>) – Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.</p></li>
<li><p><strong>race</strong> (<em>string</em>) – Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, black or Afro American, Native Hawaiian
or other Pacific Islander, Not REported, Unknown, White}</p></li>
<li><p><strong>ethnicities</strong> (<em>string</em>) – Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}</p></li>
<li><p><strong>sexgenotype</strong> (<em>string</em>) – Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome,
XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}</p></li>
<li><p><strong>pmis</strong> (<em>string</em>) – Collection of the Participants medical record numner.</p></li>
<li><p><strong>mrn</strong> (<em>string</em>) – Participants medical record number.</p></li>
<li><p><strong>sitename</strong> (<em>string</em>) – Name of the site, where the participant is registrated.</p></li>
<li><p><strong>empi</strong> (<em>string</em>) – Enterprise master patient index number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the updated Participant or the OpenSpecimen error message as Dictornary.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_site">
<code class="sig-name descname"><span class="pre">create_site</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">institutename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Site</p>
<p>Create the payload to create a site in OpenSpecimen via API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – String with the name of the site.</p></li>
<li><p><strong>institutename</strong> (<em>string</em>) – String with the name of the institute.</p></li>
<li><p><strong>type</strong> (<em>string</em>) – String with the type of the site.</p></li>
<li><p><strong>coordinators</strong> (<em>string</em>) – String with the login-name of the coordinators.</p></li>
<li><p><strong>address</strong> (<em>string</em>) – String with the address of the institute.</p></li>
<li><p><strong>site_id</strong> (<em>string</em>) – String with site id for upadting via csv</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-formatted string to create a site such that OpenSpecimen can read it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_specimen_json">
<code class="sig-name descname"><span class="pre">create_specimen_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specimenclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specimentype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathology</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anatomic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">laterality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initqty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avaqty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visitid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colltime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rectime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recqlt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lineage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'New'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Collected'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storloc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concentration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">biohazard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collproc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conttype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_specimen_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a API Json String for a Specimen
Create the JSON String neccesary for creating a specimen</p>
<p class="rubric">Notes</p>
<p>Mandatory paramters are passed as positional args within the calling util class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>string</em>) – UUID of specimen generated automatically if not set to manual in corresponding collection protocol</p></li>
<li><p><strong>specimenclass</strong> (<em>string</em>) – Class of the specimen.</p></li>
<li><p><strong>specimentype</strong> (<em>string</em>) – Type of the specimen, belongs to the class.</p></li>
<li><p><strong>pathology</strong> (<em>string</em>) – Pathologystatus of the Specimen.</p></li>
<li><p><strong>anatomic</strong> (<em>string</em>) – The anatomic site of the specimen.</p></li>
<li><p><strong>laterality</strong> (<em>string</em>) – The laterality of the specimen.</p></li>
<li><p><strong>initqty</strong> (<em>int</em>) – The initial quantity of a specimen.</p></li>
<li><p><strong>avaqty</strong> (<em>int</em>) – The available quantity of a specimen.</p></li>
<li><p><strong>visitid</strong> (<em>int</em>) – The unique identifier of the visit.</p></li>
<li><p><strong>recqlt</strong> (<em>string</em>) – The received quality.</p></li>
<li><p><strong>colltime</strong> (<em>string</em>) – Date and Time of the collection event, the format is in the OpenSpecimen’s System configuration.[optional]</p></li>
<li><p><strong>rectime</strong> (<em>string</em>) – Date and Time of the received event, the format is in the OpenSpecimen’s System configuration.[optional]</p></li>
<li><p><strong>lineage</strong> (<em>string</em>) – Lineage of the specimen, default value is New.</p></li>
<li><p><strong>status</strong> (<em>string</em>) – Status of the Specimen, default is ‘Collected’.</p></li>
<li><p><strong>stor_name</strong> (<em>string</em>) – Name of the container. [optional]</p></li>
<li><p><strong>storlocx</strong> (<em>int</em>) – Position of the specimen in the Container in x direction.[optional]</p></li>
<li><p><strong>storlocy</strong> (<em>int</em>) – Position of the specimen int the container in y direction.[optional]</p></li>
<li><p><strong>concetration</strong> (<em>int</em>) – Concentration of the specimen[optional].</p></li>
<li><p><strong>biohazard</strong> (<em>string</em>) – Biohazards of that specimen.[optional]</p></li>
<li><p><strong>userid</strong> (<em>int</em>) – ID of the user who creates the specimen. If not specified the API user is taken.</p></li>
<li><p><strong>comments</strong> (<em>string</em>) – Comments regarding to the specimen[optional].</p></li>
<li><p><strong>collproc</strong> (<em>string</em>) – The procedure of the collection[otpional].</p></li>
<li><p><strong>conttype</strong> (<em>string</em>) – Type of the storage conatiner.</p></li>
<li><p><strong>extension</strong> (<em>JSON-String</em>) – JSON-formated-string containing the dict of specimnen extensions created during call to the corresponding util class</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-formated-string with the complete specimen to be created</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_user_json">
<code class="sig-name descname"><span class="pre">create_user_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">login</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">institute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.create_user_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create User</p>
<p>Create the payload for creating a user in OpenSpecimen.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first</strong> (<em>string</em>) – First name of the user.</p></li>
<li><p><strong>last</strong> (<em>string</em>) – Last name of the user.</p></li>
<li><p><strong>email</strong> (<em>string</em>) – Email-address of the user.</p></li>
<li><p><strong>phone</strong> (<em>string</em>) – Phone number of the user.</p></li>
<li><p><strong>login</strong> (<em>string</em>) – Login name of the user.</p></li>
<li><p><strong>institute</strong> (<em>string</em>) – Institute to which the user belongs.</p></li>
<li><p><strong>type</strong> (<em>string</em>) – Type of the user.</p></li>
<li><p><strong>address</strong> (<em>string</em>) – Address of the user.</p></li>
<li><p><strong>domain</strong> (<em>string</em>) – Domain where the user belongs to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON formatted string to create an user such that Openspecimen can read it</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.execute_aql">
<code class="sig-name descname"><span class="pre">execute_aql</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OFF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnexpr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'true'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isodate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'true'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.execute_aql" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string to execute a specified query passed to the method</p>
<p>Parameters
cp_id: string</p>
<blockquote>
<div><p>Collection protocoll id of export target</p>
</div></blockquote>
<dl class="simple">
<dt>aql: string</dt><dd><p>query command in the OpenSpecimen Syntax (see OpenSpecimen API)</p>
</dd>
<dt>rowmode: string</dt><dd><p>Specifies whether multi-valued attributes result in a single row or one row per value.
Default value is OFF. Other permitted values are SHALLOW and DEEP.
Try out to see what fits best for your use case.</p>
</dd>
<dt>columnexpr: string</dt><dd><p>Specifies whether the column labels or AQL expression needs to be included in the query response.
By default, user friendly column labels are included in query response.</p>
</dd>
<dt>isodate: string</dt><dd><p>Specifies how the date column values needs to be serialised in the query response.
If true, then date/time values are serialised using ISO format: yyyy-MM-dd’T’HH:mm:ss.
Otherwise, date/time values are serialised using the format specified in OS locale settings</p>
</dd>
</dl>
<p>Returns
JSON-formated-string</p>
<blockquote>
<div><p>Json data needed for executing a system query</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.execute_query">
<code class="sig-name descname"><span class="pre">execute_query</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drivingform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Participant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OFF'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.execute_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for execution of a saved query
Parameters
start: string</p>
<blockquote>
<div><p>Used for paginating the results. If start=5, the output result will start from row number 5.</p>
</div></blockquote>
<dl class="simple">
<dt>resutls: string</dt><dd><p>Used for paginating the results. If results=10, the output result will be maximum 10 rows</p>
</dd>
<dt>drivingform: string</dt><dd><p>Driving form determines the search perspective. When left empty, it defaults to Participant.
(For example when drivingForm is Participant, the root table is ‘catissue_coll_prot_reg’
which is then used to join with the other tables.
Similarly when drivingForm is Specimen, the root table will be catissue_specimen,
which will be joined with the other tables.) rowmode: string</p>
</dd>
</dl>
<p>Returns
JSON-formated-string</p>
<blockquote>
<div><p>Json data needed for executing a query saved within an Openspecimen appliance</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.get_participants">
<code class="sig-name descname"><span class="pre">get_participants</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lastname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">birthdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reqreginfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.get_participants" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formatted string to neccesary to retrieve storage location via API</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lastname</strong> (<em>string</em>) – Substring of the Lastname of a Paritcipant.</p></li>
<li><p><strong>uid</strong> (<em>string</em>) – Country specific unique social security number.</p></li>
<li><p><strong>birthdate</strong> (<em>string</em>) – The date of registration in the format, which is defined in the System settings.</p></li>
<li><p><strong>pmi</strong> (<em>dict</em>) – Dict with details of the Medical records number mrn and the assigned site with key siteName.</p></li>
<li><p><strong>empi</strong> (<em>string</em>) – Enterprise wide unique ID assigned to the participant.</p></li>
<li><p><strong>reqreginfo</strong> (<em>string</em>) – OpenSpecimen’s boolean (true/false). If true it returns details of the participant</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-formated string neccesary for creating an institute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-formated string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.get_registrations">
<code class="sig-name descname"><span class="pre">get_registrations</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registrationdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">birthdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specimen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includestats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxresults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exactmatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.get_registrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON formated string neccesary for creating a bulk import operation to be handled by OpenSpecimen</p>
<p>Parameters
cpid : string</p>
<blockquote>
<div><p>Collection protol id of the participants to be queried</p>
</div></blockquote>
<dl class="simple">
<dt>registrationdate: string</dt><dd><p>Date formatted string to query participants registered especially on this date</p>
</dd>
<dt>ppid: string</dt><dd><p>OpenSpecimen internal unique id or part of a unique id to be matched (exact matching is defind in exact match)</p>
</dd>
<dt>name: string</dt><dd><p>Name of the participant to be matched</p>
</dd>
<dt>birthdate: string</dt><dd><p>Date formatted string containing the birthdate of a particiapnt to be queried</p>
</dd>
<dt>uid: string</dt><dd><p>Social Security number  or different national identifier</p>
</dd>
<dt>specimen: string</dt><dd><p>Participants whose specimen labels or barcodes contain this parameter value as a substring will be matched</p>
</dd>
<dt>includestats: string</dt><dd><p>Include additional statitics within the response (visits specimens etc.)</p>
</dd>
<dt>startat: string</dt><dd><p>startat and maxResults are useful in implementing pagination of participants list. When not specified,
startAt defaults to 0. When startAt = n, the first element of the response is (n + 1)th participant satisfying the query criteria.</p>
</dd>
<dt>maxresults: string</dt><dd><p>This parameter specifies how many participant records should be included in the API response.</p>
</dd>
<dt>exactmatch: string</dt><dd><p>Specifies whether the PPID should be exact match or sub-string match. Boolean true means exact match. Otherwise it is substring match.</p>
</dd>
</dl>
<p>Returns
JSON-formated-string   trg_cp: string</p>
<blockquote>
<div><p>CP id of target of merge action
Json data needed for creating an CSV file import job for the given entity</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.merge_cps">
<code class="sig-name descname"><span class="pre">merge_cps</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_cp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trg_cp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.merge_cps" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formatted string to neccesary to retrieve storage location via API</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_cp</strong> (<em>string</em>) – CP id of source collection protocoll for merge</p></li>
<li><p><strong>trg_cp</strong> (<em>string</em>) – CP id of target of merge action</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-formated string neccesary for merging to CP’s via API</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-formated string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.register_to_cp">
<code class="sig-name descname"><span class="pre">register_to_cp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.register_to_cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a Registration to another Protocol</p>
<p>Register an existing Registration to another Collection Protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cprid</strong> (<em>int</em>) – Integer with the existing Registration Id of the Participant.</p></li>
<li><p><strong>regdate</strong> (<em>string</em>) – Dete of the Regisrtation to the new protocol.</p></li>
<li><p><strong>cpid</strong> (<em>int</em>) – Integer with the unique ID of the Collection Protocol.</p></li>
<li><p><strong>ppid</strong> (<em>string</em>) – String with the Participant protocol ID.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Json-formatted string for register a Participant to another Protocol such that OpenSpecimen can read it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.jsons.Json_factory.storage_location_json">
<code class="sig-name descname"><span class="pre">storage_location_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xpos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ypos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.jsons.Json_factory.storage_location_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create JSON-formatted string to neccesary to retrieve storage location via API</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>string</em>) – Identifier of the Storage Container within OpenSpecimen.</p></li>
<li><p><strong>name</strong> (<em>string</em>) – Storage Container name</p></li>
<li><p><strong>xpos</strong> (<em>string</em>) – x-coordinate within the given storage conatiner grid (if applicable)</p></li>
<li><p><strong>ypos</strong> (<em>string</em>) – y-coordinate within the given storage container grid (if applicable)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON foramted string that is needed to retrieve the storage location of a specimen</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-formated string</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.mandatory">
<span id="openspecimenapiconnector-os-core-mandatory-module"></span><h2>OpenSpecimenAPIconnector.os_core.mandatory module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.mandatory" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.mandatory.mark_mandatory">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.mandatory.</span></code><code class="sig-name descname"><span class="pre">mark_mandatory</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.mandatory.mark_mandatory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.mandatory.mark_mandatory.mark_as_mandatory">
<code class="sig-name descname"><span class="pre">mark_as_mandatory</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mandatory_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mand_ident</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.mandatory.mark_mandatory.mark_as_mandatory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.participant">
<span id="openspecimenapiconnector-os-core-participant-module"></span><h2>OpenSpecimenAPIconnector.os_core.participant module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.participant" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.participant.</span></code><code class="sig-name descname"><span class="pre">participant</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.participant.participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for the participant</p>
<p>Handles the OpenSpecimen API calls for the participants. This class can
get a participant with a Participant Protocoll ID PPID or via search parameters.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<p>A code example, where the institutes are handled, is in the Jupyter-Notebook:</p>
<blockquote>
<div><p>$ jupyter notebook main.ipynb</p>
</div></blockquote>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.participant.participant.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.get_participant">
<code class="sig-name descname"><span class="pre">get_participant</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ppid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.participant.participant.get_participant" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the participant with the Participant Protocol ID ::ppid:</p>
<p>Get the details of the Participant with the Collection protocol wide unique ID ::ppid::.
This ID can be generated automatically from OpenSpecimen or generated manually, which has
to be specified when the Collection Protocol is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ppid</strong> (<em>int</em>) – The Collection Protocol  wide unique Participant Protocol ID of the Institute will be converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the Participant with the specified PPID, or the OpenSpecimen error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.get_participant_matches">
<code class="sig-name descname"><span class="pre">get_participant_matches</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.participant.participant.get_participant_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Participants who matches the params.</p>
<p>Get one or more participants who match the criteria passed with params. This class can be used via
the os_util class cpr_util.py.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the response the matching attributes are listed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – Json formatted string with parameters: lastName (substring)[optional], uid[optional], birthDate[optional],
pmi(dict with keys mrn[optional], siteName[optional]) [optional], empi[optional], reqRegInfo(default =false)[optional]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of all matching participants or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.query">
<span id="openspecimenapiconnector-os-core-query-module"></span><h2>OpenSpecimenAPIconnector.os_core.query module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.query" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.query.query">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.query.</span></code><code class="sig-name descname"><span class="pre">query</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for the queries</p>
<p>Handles the OpenSpecimen API calls for the queries. This class can
create, execute, search for queries. Also it can create a query in the OpenSpecimen specific Querylanguage AQL.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<p>A code example, where the Queries are handled, is in the Jupyter-Notebook:</p>
<blockquote>
<div><p>$ jupyter notebook main.ipynb</p>
</div></blockquote>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.query.query.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.query.query.execute_aql">
<code class="sig-name descname"><span class="pre">execute_aql</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query.execute_aql" title="Permalink to this definition">¶</a></dt>
<dd><p>Write and Execute a Query in OpenSpecimen</p>
<p>Creates a query which then is executed. The query language AQL can be extracted from the OpenSpecimen GUI query generator.
The possible metainfos are written like schemaname.key. To use this class, one has to know the AQL language.</p>
<dl class="simple">
<dt>params<span class="classifier">string</span></dt><dd><p>JSON-formatted string with the desired parameters. cpId, aql, wideRowMode(default =’OFF’) [optional] ,
outputColumnExprs (default= ‘true’)[optional], outputIsoDateTime (default = ‘true)[optional]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of the outcomes of the query with metadata, labels, and columns or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.query.query.execute_query">
<code class="sig-name descname"><span class="pre">execute_query</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qryid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query.execute_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a saved Query.</p>
<p>Execute an already existing query with the OpenSpecimen’s unique Query ID ::qryid:: .
The query ID can be seen via clicking on the queries in OpenSpecimen and it is the
number after # in the title.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qryid</strong> (<em>string</em><em> or </em><em>int</em>) – The systems ID of the query will be converted to a string.</p></li>
<li><p><strong>params</strong> (<em>string</em>) – JSON-formatted string with parameters: drivingForm, wideRowmode,
startAt, maxResults</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of all matching queries or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.query.query.search_query">
<code class="sig-name descname"><span class="pre">search_query</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suburl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.query.query.search_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for list of queries with specific suburl.</p>
<p>Search for one or more queries with the parameters in the suburl defined. The search URL looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/saved-queries?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>suburl</strong> (<em>string</em>) – Suburl of the queries with parameters: cpId, searchString, start, max, countReq</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of all matching queries or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.req_util">
<span id="openspecimenapiconnector-os-core-req-util-module"></span><h2>OpenSpecimenAPIconnector.os_core.req_util module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.req_util" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.req_util.</span></code><code class="sig-name descname"><span class="pre">OS_request_gen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">auth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generates OpenSpecimen specific requests</p>
<p>This class generates OpenSpecimen specific requests such that headers and authentification are created automatically.
With this class the users have to specify which requests they do need, the url and the payload, which should be sent
to OpenSpecimen. The payload alters for different requests and can be seen in the OpenSpecimen’s API documentation.
The class can handle the following requests: GET, POST(formdata, files, json-formatted string), PUT, DELETE, HEADER.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. The users have to know which requests
are needed and what content should be uploaded. The API documentation of OpenSpecimen is in:
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a></p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>A code example, where those requests are used, is in the Jupyter-Notebook::</dt><dd><p>$ jupyter notebook main.ipynb</p>
</dd>
</dl>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.delete_request">
<code class="sig-name descname"><span class="pre">delete_request</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.delete_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates DELETE requests for OpenSpecimen</p>
<p>Generates DELETE request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/{entity}/{objectID} . Is used for deleting objects
of a desired entity e.g. specimens. Usually OpenSpecimen requires the ID of the object in the URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/{entity}/{objectID}</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response of the request consists of status code, header and body. The type of the body alters
for different requests.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>http(s) response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.get_request">
<code class="sig-name descname"><span class="pre">get_request</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.get_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates GET requests for OpenSpecimen</p>
<p>Generates GET request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/… . It is used for searching objects and
downloading templates or collections. If one downloads a larger file, the parameter
stream has to be set to “True”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/…</p></li>
<li><p><strong>stream</strong> (<em>bool</em>) – Can be set to “True” for larger files, which takes a while to download. Default value is “False”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response of the request consists of status code, header and body. The type of the body alters
for different requests.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>http(s) response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.head_request">
<code class="sig-name descname"><span class="pre">head_request</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.head_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates HEAD requests for OpenSpecimen</p>
<p>Generates a HEAD request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/{entity} . It is used for getting
the header of an object. Usually OpenSpecimen requires the entity of the object in the URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/{entity}</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response of the request consists of status code, header and body. The type of the body alters
for different request.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>http(s) response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.post_request">
<code class="sig-name descname"><span class="pre">post_request</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.post_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates POST requests for OpenSpecimen</p>
<p>Generates POST request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/… . This request is most times used
for creating or updating objects in OpenSpecimen and the data is either a JSON-dict
with the keys from OpenSpecimen or a binary-file content( this needs a second call to
execute the job)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/…</p></li>
<li><p><strong>data</strong> (<em>json-formatted strings</em>) – Json-formatted string, with the keys from OpenSpecimen.</p></li>
<li><p><strong>form_data</strong> (<em>bool</em>) – Default value is “False”. Can be set to “True” if, for example, forms (.xml-files) are uploaded.</p></li>
<li><p><strong>files</strong> (<em>binary</em>) – Default value is “None”. Contains tuple with name + ending and file itself.</p></li>
<li><p><strong>params</strong> (<em>json formatted string</em>) – Json-formatted string, with the keys from OpenSpecimen.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response of the request consists of status code, header and body. The type of the body alters
for different requests.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>http(s) response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.put_request">
<code class="sig-name descname"><span class="pre">put_request</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.put_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates PUT requests for OpenSpecimen</p>
<p>Generates PUT request for OpenSpecimen, which always contains the URL in the format
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/… . This request is most times used
for updating objects in OpenSpecimen and the data is a JSON-dict with the keys
from OpenSpecimen.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>string</em>) – URL for the get request as string has the form: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng/…</p></li>
<li><p><strong>data</strong> (<em>json-formatted strings</em>) – Json-formatted string, with the keys from OpenSpecimen.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response of the request consists of status code, header and body. The type of the body alters
for different request.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>http(s) response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.user_name">
<code class="sig-name descname"><span class="pre">user_name</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.req_util.OS_request_gen.user_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the OpenSpecimen Login name</p>
<p>Returns the OpenSpecimen login name of the API-User.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The API-User’s login name.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.site">
<span id="openspecimenapiconnector-os-core-site-module"></span><h2>OpenSpecimenAPIconnector.os_core.site module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.site" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.site.</span></code><code class="sig-name descname"><span class="pre">sites</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the calls for sites</p>
<p>This class handles the API calls for OpenSpecimen Sites. It can create, delete, search
sites with different parameters, get all sites and  get the template of the sites as
Pandas dataframe.  The output is a JSON dict or the error message as JSON dict, except
the Pandas dataframe.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>A code example, where the Collection protocols are handled, is in the Jupyter-Notebook::</dt><dd><p>$ jupyter notebook main.ipynb</p>
</dd>
</dl>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.
If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data and hand it over to the output terminal.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.create_sites">
<code class="sig-name descname"><span class="pre">create_sites</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.create_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a site in OpenSpecimen</p>
<p>Create a site in OpenSpecimen with an API call. In order to use this function, one has to know
the OpenSpecimen specific permissable values. With the os_util class site_util.py a site with
standard OpenSpecimen fields can be created, which is calling this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON-formatted string with parameters: name, instituteName, coordinators, type,
activityStatus, address</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the created site as dictionary or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.delete_sites">
<code class="sig-name descname"><span class="pre">delete_sites</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">siid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.delete_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a site with OpenSpecimen’s uniques Site ID</p>
<p>Delete an already existing site. The parameter ::siid:: is the uniqe ID of the site
which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the sites
page of the desired site and read it from the URL, with format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/sites/{siid}/overview .
Another possibility is to search via ‘search_sites’ for a specific parameter and then extract the ID
from the JSON-dict which get returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>siid</strong> (<em>int</em>) – The unique ID of the site which OpenSpecimen creates itself as an integer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the site which is deleted or the OpenSpecimen error message as dict.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.get_all_sites">
<code class="sig-name descname"><span class="pre">get_all_sites</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.get_all_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Sites</p>
<p>Get all sites within the OpenSpecimen distribution defined with the base_url.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Details of all sites as dictionary in the OpenSpecimen distribution</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.get_site">
<code class="sig-name descname"><span class="pre">get_site</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">siteid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.get_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Site with the ID ::siteid:</p>
<p>Get the details of a site with the system wide unique ID ::siteid::.
This ID is generated automatically from OpenSpecimen when the site is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>siteid</strong> (<em>int</em>) – The system wide unique ID of the side as int.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the site with the specified ID as dictionary or the OpenSpecimen’ error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.search_sites">
<code class="sig-name descname"><span class="pre">search_sites</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.search_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for sites with specific values.
Search for one or more sites with the values in search_string defined. The search string looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/sites?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}
With the class sites_util from os_util and function ::search_sites:: the search string is generated
automatically and this function is called. Not all keys from OpenSpecimen can be easily searched for.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>search_string</strong> (<em>string</em>) – String with the following format: ?{param_1}={value_1}&amp;…&amp;{param_x}={value_x} . The parameters can be one of the following:
startAt[optional], maxResults[optional], name[optional], exactMatch[optional], institute[optional]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the matching sites, if no one matches, it is an empty list.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.update_site">
<code class="sig-name descname"><span class="pre">update_site</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">siid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.site.sites.update_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing Site with ID ::siid:: with the Parameters ::params:</p>
<p>Updates an existing site with the automatically generated OpsenSpecimen’s system wide
unique site ID ::siid::, with the parameters ::params:: which are passed to the function.
The ID of the site has to be known and can, for example, be seen in the GUI by clicking on
the site, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/site/{cpid}/… .
Or via the function search_sites or get_all_sites and extracted with key [“id”]</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The optional parameters are those, which are optional for a site. For updating, all parameters are optional,
those which are not passed to the function will stay the same as before.</p>
<dl class="simple">
<dt>siid<span class="classifier">int</span></dt><dd><p>Unique site ID which is generated automatically from the system.</p>
</dd>
<dt>params<span class="classifier">string</span></dt><dd><p>JSON-formatted string with the parameters which should get updated.The keys which can get updated are:
name, instituteName, coordinators, type, activityStatus, address</p>
</dd>
</dl>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON-dict with the details of the updated site or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.specimen">
<span id="openspecimenapiconnector-os-core-specimen-module"></span><h2>OpenSpecimenAPIconnector.os_core.specimen module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.specimen" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.specimen.</span></code><code class="sig-name descname"><span class="pre">specimen</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the calls for Specimens</p>
<p>This class handles the API calls for OpenSpecimen Specimens/Aliquots/Derivatives. It can create, delete,
search, and determine the existence of specimens with different parameters. Further, a list of all specimens in the system can be created.
The output is a JSON dict or the error message as dict.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>A code example, where the Specimens/Derivatives/Aliquots are handled, is in the Jupyter-Notebook::</dt><dd><p>$ jupyter notebook main.ipynb</p>
</dd>
</dl>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.check_specimen">
<code class="sig-name descname"><span class="pre">check_specimen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specimenLabel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.check_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a Specimen with Label exists</p>
<p>Check if a specimen with Label ::specimenLabel:: already exists in the System.
Can be interesting if one manually creates a label to avoid specimens with the same label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>specimenLabel</strong> (<em>string</em>) – Label which should be checked as string. Gets converted to a string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If Specimen exists, returns “Specimen with label &lt;specimenLabel&gt; exists”.
Or Else “Specimen with label &lt;specimenLabel&gt; does not exist”.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.create_specimen">
<code class="sig-name descname"><span class="pre">create_specimen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.create_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Specimen</p>
<p>Creates a Specimen. In order to use this function one has to know
the parameters which OpenSpecimen needs to create a Specimen. One can use it via the os_util class
specimen_util.py. This allows just the basic definition, if one has extensions
e.g. BBMRI contact, this fields has to be added separately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: label[mandatory if its created manually, leave empty if the System creates it
automatically], specimenclass, type, pathology, atomicSite, laterality, initialQty, availableQty, lineage,
visitId,  status, storageLocation(dict with keys positionX[optional],
positionY[optional])[optional], concentration[optional], biohazards[optional], comments[optional],
collectionEvent(DICT with keys user,time, container[otpional], procedure[optional]),
receivedEvent(DICT with keys user, time, receivedQuality), extensionDetails(DICT with keys useUdn, attrsmap,
DICT with extension keys)[optional]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either details of the created specimen as dictionary or OpenSpecimen’s error message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.delete_specimen">
<code class="sig-name descname"><span class="pre">delete_specimen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specimenids</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.delete_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a Specimen/Derivative/Aliquot</p>
<p>Delete an already existing Specimen/Derivative/Aliquot. The parameter ::specimenid:: is the uniqe ID of the Specimen/
Derivative/Aliquot which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the
Specimen/Derivative/Aliquot and read it from the URL, with format:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cp-view/{cpid}/specimen/{specimenid}/… .
Another possibility is to search via ‘search_specimens’ for a specific parameter and then extract the ID
from the JSON-dict which gets returned. The function allows also to delete a list of specimen</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>specimenids</strong> (<em>string</em>) – The unique ID(s) of the Specimen/Aliquot/Derivative which OpenSpecimen creates itself.
Deleting specimens has the form “?id=specimenid_1+…+specimenid_n”</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the Specimens which are deleted or the OpenSpecimen error message as dict.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.get_specimen">
<code class="sig-name descname"><span class="pre">get_specimen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specimenid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.get_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Specimen with the ID ::specimenid:</p>
<p>Get the details of the Specimen with the unique ID ::cspecimenid::.
This ID is generated automatically from OpenSpecimen when the Specimen is created.
It can be seen in the GUI by clicking on the desired Specimen, and read from the URL:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cps/{cpid}/specimens/{specimenid}/… .
Otherwise via search Specimen, for example by name and then extract the ID via key [“id”].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>specimenid</strong> (<em>string</em><em> or </em><em>int</em>) – The System’s ID of the Specimen, which will be converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the Specimen with the specified ID, or the OpenSpecimen error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.search_specimens">
<code class="sig-name descname"><span class="pre">search_specimens</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.search_specimens" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for  Specimen with specific values.</p>
<p>Search for one or more Specimens with the values in the search_string defined. The search string looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/specimens?{param_1}={value_1}&amp;…&amp;{param_x}={value_x}
With the class specimen_util from os_util and function ::search_specimens:: the search string is generated
and this function is called. Not all keys from OpenSpecimen can be easily searched for.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>search_string</strong> (<em>string</em>) – String with the following format: ?{param_1}={value_1}&amp;…&amp;{param_x}={value_x} . The parameters can be one of the following:
label[optional], cprId[optional], eventId[optional], visitId[optional]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the matching Specimens, if no one matches, it is an empty list.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.specimen.specimen.update_specimen">
<code class="sig-name descname"><span class="pre">update_specimen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specimenid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.specimen.specimen.update_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing Specimen/Aliquot/Derivative</p>
<p>Updates an existing Specimen/Derivative/Aliquot with the automatically generated OpsenSpecimen’s system wide
unique specimen ID ::specimenid::, with the parameters ::updateparams:: which are passed to the function.
The ID of the specimen has to be known and can, for example, be seen in the GUI by clicking on
theSpecimen, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/cps/{cpid}/specimen/{specimenid} .
Or via the function search_specimens and extract from there with the key [“id”]</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The optional parameters are those, which are optional for a Specimen. For updating, all parameters are optional,
those which are not passed to the function will stay the same as before.</p>
<dl class="simple">
<dt>cpid<span class="classifier">int</span></dt><dd><p>Unique Collection Protocol ID which is generated automatically from the System.</p>
</dd>
<dt>params<span class="classifier">string</span></dt><dd><p>JSON formatted string with parameters: label[mandatory if its created manually, leave empty if the System creates it
automatically], specimenclass, type, pathology, atomicSite, laterality, initialQty, availableQty, lineage,
visitId, parentId[mandatory if Aliquot/Derivative], status, storageLocation(dict with keys positionX[optional],
positionY[optional])[optional], concentration[optional],         biohazards[optional], comments[optional],
collectionEvent(DICT with keys user,time, container[otpional], procedure[optional]),
receivedEvent(DICT with keys user, time, receivedQuality), extensionDetails(DICT with keys useUdn, attrsmap,
DICT with extension keys)[optional]</p>
</dd>
</dl>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON-dict with the details of the updated Collection Protocol or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>JSON-dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.url">
<span id="openspecimenapiconnector-os-core-url-module"></span><h2>OpenSpecimenAPIconnector.os_core.url module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.url" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.url.</span></code><code class="sig-name descname"><span class="pre">url_gen</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generates the endpoint URL for search- and list operations</p>
<p>This class generates the parameter string used  in search operations. It can also be used on arrays and lists.
For example deleting a list of specimens can be handled with this class.
Parameter strings look like ‘?entity1=value1&amp;…&amp;entityx=valuex’. To specify a list/array operation parameter string
format follows the following rule ‘?entity=value1,…,valuex&amp;’</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.cp_search_url_gen">
<code class="sig-name descname"><span class="pre">cp_search_url_gen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searchstring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">piid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reponame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxresults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detailedlist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.cp_search_url_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the parameter string for Collection Protocol search</p>
<p>This function generates the parameter string to search for collection protocols.
Permissable values are specified within OpenSpecimen.
Values can be passed as lists single parameters will be added as logical AND.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All parameters can be passed to the function as lists and will be reformated to be accepted by Openspecimen.
Parameters permissible to be lists are marked as such within the parameters section.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searchstring</strong> (<em>string</em><em> or </em><em>list</em>) – Substring of the title and short title which want to be searched for as string or list.</p></li>
<li><p><strong>title</strong> (<em>string</em><em> or </em><em>list</em>) – Substring of the title which wants to be searched for as string or list.</p></li>
<li><p><strong>ppid</strong> (<em>string</em><em> or </em><em>int</em>) – The ID of the principal investigator as string or int. Gets converted to a string.</p></li>
<li><p><strong>reponame</strong> (<em>string</em><em> or </em><em>list</em>) – Name of the repositories as string or list.</p></li>
<li><p><strong>startat</strong> (<em>string</em><em> or </em><em>int</em>) – Defines which row of the search outcome will be the first to show in the return(default n=0)</p></li>
<li><p><strong>maxresults</strong> (<em>string</em><em> or </em><em>int</em>) – Defines how many rows of the search outcome will be shown, default value is 100.</p></li>
<li><p><strong>detailedlist</strong> (<em>string</em>) – String with true or false, if true extension details will be shown.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Parameter string specific for the given  searchoperation to be added to the URL endpoint the e.g.: ‘?query=’searchstring&amp;title=title&amp;…&amp;detailedList=true’.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.delete_specimens">
<code class="sig-name descname"><span class="pre">delete_specimens</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specimenids</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.delete_specimens" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the URL endpoint for deleting Specimens</p>
<p>Generates the string of the URL endpoint for deleting one or more specimens.
Looks like ‘?id=specimenid1,…,specimenidx’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>specimenids</strong> (<em>string/int</em><em> or </em><em>list of string/int</em>) – The specimen IDs which one wants to delete, gets converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The url endpoint as string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.query_url_gen">
<code class="sig-name descname"><span class="pre">query_url_gen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">searchstring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">countreq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.query_url_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the URL endpoint for searching a query.</p>
<p>Generates the string of the URL endpoint to searching for queries.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All parameters can be passed to the function as lists and will be reformated to be accepted by Openspecimen.
Parameters permissible to be lists are marked as such within the parameters section.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpid</strong> (<em>string</em><em> or </em><em>int</em>) – ID of the Collection Protocol, where the query is assigned to. Gets converted to a string.</p></li>
<li><p><strong>searchstring</strong> (<em>string</em>) – Substring of the query-title.</p></li>
<li><p><strong>start</strong> (<em>string</em><em> or </em><em>int</em>) – Defines the startrow, of the search outcome. Default is 0, gets converted to a string.</p></li>
<li><p><strong>max</strong> (<em>string</em><em> or </em><em>int</em>) – Max results to displayed, default value is 100. Gets converted to a string.</p></li>
<li><p><strong>countreq</strong> (<em>true/false</em>) – String with true or false. If true shows the total number of saved queries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The URL endpoint to search for queries.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.search_specimen">
<code class="sig-name descname"><span class="pre">search_specimen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cprid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eventid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visitid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'100'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'false'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'true'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.search_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the searchstring for Specimens</p>
<p>This function generates the string to search for collection protocols, with the permissable values from OpenSpecimen.
The values can be lists, they are handled as a logical OR. The values not passed to the function will be ignored.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All parameters can be passed to the function as lists and will be reformated to be accepted by Openspecimen.
Parameters permissibke to be lists are marked as such within the paramters section.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>string</em><em> or </em><em>list</em>) – The label of the specimen. If a list is passed it searches for multiple labels (logical OR)</p></li>
<li><p><strong>cprid</strong> (<em>string</em><em> or </em><em>int</em>) – The Collection Protocol Registration ID of the specimen. Gets converted to a string.</p></li>
<li><p><strong>enventid</strong> (<em>string</em><em> or </em><em>int</em>) – The Event ID of the anticipated Specimen. If searching with cprid the eventid or visitid is mandatory.</p></li>
<li><p><strong>visitid</strong> (<em>string</em><em> or </em><em>int</em>) – The Visit ID of the anticipated Specimen. If searching with cprid the eventid or visitid is mandatory.</p></li>
<li><p><strong>maxres</strong> (<em>string</em><em> or </em><em>int</em>) – The maximum results to display as int or string, gets converted to a string. The default value is 100.</p></li>
<li><p><strong>exact</strong> (<em>string</em>) – Openspecimen’s boolean true/false. If true, the search parameters have to match exactly.</p></li>
<li><p><strong>extensions</strong> (<em>string</em>) – Openspecimen’s boolean value true/false. If true, the extensionDetails will be shown in the results.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>String of the URL endpoint for searching after specimens.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.search_visit_cprid">
<code class="sig-name descname"><span class="pre">search_visit_cprid</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cprid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includestats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'false'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.search_visit_cprid" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the URL endpoint for searching a visit</p>
<p>Generates the string of the URL endpoint for searching visits by the
Collection Protocol Registration ID.It looks like ‘?cprId=cprid&amp;includeStats=true/false’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cprid</strong> (<em>string</em><em> or </em><em>int</em>) – The Visit ID which one wants to get. Gets converted to a string.</p></li>
<li><p><strong>includestats</strong> (<em>string</em>) – OpenSpecimens boolean type true/false. Default is false and thus optional.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The url endpoint as string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.search_visit_name_spr">
<code class="sig-name descname"><span class="pre">search_visit_name_spr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visitname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sprnumber</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.search_visit_name_spr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the URL endpoint for searching a Visit</p>
<p>Generates the string of the URL endpoint for searching one or more visits by
the name or surgical pathology number.It looks like ‘?name=visitname&amp;sprNumber=sprnumber’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>visitname</strong> (<em>string</em>) – The visit name which one wants to get.</p></li>
<li><p><strong>sprnumber</strong> (<em>string</em><em> or </em><em>int</em>) – The surgical pathology number as int or string, gets converted to a string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The url endpoint as string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.url.url_gen.site_search_url_gen">
<code class="sig-name descname"><span class="pre">site_search_url_gen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sitename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">institutename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxresults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.url.url_gen.site_search_url_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the string for Site</p>
<p>This function generates the parameter string to search for sites, with names or the sites to an institute.
Sitename and Institutename can be lists, they are handled as a logical AND.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sitename</strong> (<em>string</em><em> or </em><em>list</em>) – Substring of the Site which wants to be searched for as string or list.</p></li>
<li><p><strong>instituename</strong> (<em>string</em><em> or </em><em>list</em>) – Substring of the Institute which want to be searched for as string or list.</p></li>
<li><p><strong>maxresults</strong> (<em>string</em><em> or </em><em>int</em>) – The maximum results what should be shown. OpenSpecimen’s and here the default-value is 100.
Gets converted to a string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>endpoint of the searchoperation, looks like ‘?name=’sitename1&amp;name=sitename2&amp;…&amp;institute=institutenamex’.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.users">
<span id="openspecimenapiconnector-os-core-users-module"></span><h2>OpenSpecimenAPIconnector.os_core.users module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.users" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.users.users">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.users.</span></code><code class="sig-name descname"><span class="pre">users</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for Users</p>
<p>This class handles the API calls for users. Get all or specific user information, create a user, change his/her/their password,
get user-roles of or assign a specific role to a user.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. The users have to know which requests
are needed and what content should be uploaded. The API documentation of OpenSpecimen is in:
<a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a></p>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.assign_role">
<code class="sig-name descname"><span class="pre">assign_role</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.assign_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a role to a User</p>
<p>Assign a role to a user with ID in OpenSpecimen. To use this function, one has to know the ID of
the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>userid</strong> (<em>int</em>) – Int of the User ID, which one wants to delete. Gets converted to a string.</p></li>
<li><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: site(dict with sitedetail), collectionProtocol
(dict with Collection protocol detail), role(dict with detail of the role)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.change_password">
<code class="sig-name descname"><span class="pre">change_password</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.change_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the password of a user</p>
<p>Change the password of a user. If the API-User is Superadmin, the parameters are userId,newPassword.
If the user isn’t a Superadmin nor the Superadmin changes his own password, the parameters are userId,
oldPassword, newPassword.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters userId, oldPassword[mandatory, if not SuperAdmin] newPassword</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dict with status code. 200 password updated, 400 invalid Parameters, 500 unknown error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.create_user">
<code class="sig-name descname"><span class="pre">create_user</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.create_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a user</p>
<p>Create a user in OpenSpecimen. To use this function, one has to know the parameters.
They are explained in the parameters section. Or one can use the os_util class user_util.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
domainName, loginName, instituteName, type, address[optional], activityStatus</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON dict with details of the created user or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.delete_user">
<code class="sig-name descname"><span class="pre">delete_user</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.delete_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a user</p>
<p>Delete a user in OpenSpecimen. To use this function, one has to know ID of the user.
This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>userid</strong> (<em>int</em>) – String or int of the User Id which one wants to delete. Gets converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON dict with details of the deleted user or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_all_users">
<code class="sig-name descname"><span class="pre">get_all_users</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.get_all_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Users from OpenSpecimen</p>
<p>Returns all users within the OpenSpecimen disrtibution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns all users as JSON dict, or an OpenSpecimen’s error message</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_roles">
<code class="sig-name descname"><span class="pre">get_roles</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.get_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the roles of a user</p>
<p>Get the roles of a user with ID in OpenSpecimen. To use this function, one has to know the ID of
the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>userid</strong> (<em>int</em>) – Int of the User Id which one wants to delete. Gets converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_user">
<code class="sig-name descname"><span class="pre">get_user</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userId</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.get_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the User with ID</p>
<p>Get the User with ID from OpenSpecimen. To use this function, one has to know the ID of the user.
This can be seen in the GUI if one clicks on the User and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>userId</strong> (<em>int</em>) – ID of the User which one wants to get.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON dict of the details of the specified user with ID or the OpenSpecimen’s error message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.users.users.update_user">
<code class="sig-name descname"><span class="pre">update_user</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.users.users.update_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a User</p>
<p>Update a User in OpenSpecimen. To use this function, one has to know the parameters.
They are explained in the parameters section. Or one can use the os_util class user_util.
Also the ID of the user, which gets updated, has to be known.
This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/… .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>userid</strong> (<em>int</em>) – ID of the User.</p></li>
<li><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
domainName, loginName, instituteName, type, address[optional], activityStatus</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON dict with Details of the updated User or the OpenSpecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core.visit">
<span id="openspecimenapiconnector-os-core-visit-module"></span><h2>OpenSpecimenAPIconnector.os_core.visit module<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core.visit" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">OpenSpecimenAPIconnector.os_core.visit.</span></code><code class="sig-name descname"><span class="pre">visit</span></code><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the API calls for Visits</p>
<p>This class handles the API calls for OpenSpecimen visits. It can create, delete,
search visits with different parameters. Further visits can be added to a collection protocol within the system.
The outputs are JSON dicts or the error messages as dict.</p>
<p class="rubric">Notes</p>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a class="reference external" href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>A code example, where the visits are handled, is in the Jupyter-Notebook::</dt><dd><p>$ jupyter notebook main.ipynb</p>
</dd>
</dl>
<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.add_visit">
<code class="sig-name descname"><span class="pre">add_visit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.add_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a visit to a Participant.</p>
<p>Add a visit to a participant in OpenSpecimen via API call. To use this function, one has to know the
parameters of the participant, event and site.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mandatory fields are -cprId or (ppid and cpTitle) or (ppid and cpShortTitle)
- name, site</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters: cprId, eventId, eventLabel, ppid, cptitle, cpShorttitle, name,
clinicalDiagnoses[optional], clinicalStatus[optional], activityStatus [optional], site, status(permissable
values: COMPLETE, PENDING, MISSED), missedReason[optional], missedBy[optional], comments[optional],
surgicalPathologyNumber[optional], cohort[optional], visitDate[optional]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Details of the visit as JSON dict or the Openspecimen’s error message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.add_visit_specimen">
<code class="sig-name descname"><span class="pre">add_visit_specimen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.add_visit_specimen" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a visit and corresponding specimens</p>
<p>Create a visit and specimens in one call. To use this function one has to know the parameters
of the participants and events. Or one can use the create_visit_specimens function from the os_util
class visit_util.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The visit fields can be seen in add_visit and the ones for specimens are in create specimen.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>string</em>) – JSON formatted string with parameters visit (dict-like string with details of the visit),
specimens(dict-like string with details of the specimens)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON dict with the details of the created visit and specimens or OpenSpecimen’s error message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.ausgabe">
<code class="sig-name descname"><span class="pre">ausgabe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.ausgabe" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data  to the output terminal, which was handed over to the class.</p>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.delete_visit">
<code class="sig-name descname"><span class="pre">delete_visit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visitid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.delete_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a Visit from OpenSpecimen</p>
<p>Delete an existing visit in OpenSpecimen with the Visit ID visitid. This has to be known and can
be found out in the GUI by clicking on a participant and the visit. It looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspeicmen/cp-view/{cpid}/participant/{cprid}/visits/detail/ocerview?visitId={visitid}&amp;eventId={eventId} .
Or via the function get_visit_namespr, when one knows the name of the visit and then extract the ID from there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>visitid</strong> (<em>int</em>) – ID of the visit, gets converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-dict with the details of the deleted visit or the OpenSpecimen’s error message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.get_visit">
<code class="sig-name descname"><span class="pre">get_visit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visitid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.get_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a Visit from OpenSpecimen</p>
<p>Get an existing visit in OpenSpecimen with the Visit ID visitid. This has to be known and can
be found out in the GUI by clicking on a participant and the visit. It looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspeicmen/cp-view/{cpid}/participant/{cprid}/visits/detail/ocerview?visitId={visitid}&amp;eventId={eventId} .
Or via the function get_visit_namespr, when one knows the name of the visit and then extract the id from there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>visitid</strong> (<em>int</em>) – ID of the visit, gets converted to a string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-dict with the details of the visit with ID visitid or the OpenSpecimen’s error message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.get_visit_namespr">
<code class="sig-name descname"><span class="pre">get_visit_namespr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.get_visit_namespr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a Visit by the Name or the Surgical Pathology Number</p>
<p>Get one or more visits by name or surgical pathology number. Parameters have to be known in advance
in order to use this function. If just the visitname is passed, one returns a visit with the corresponding name.
If just the surgical pathology number is passed, it returns all visits attached to this number. If both are passed,
it works as logical AND.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>search_string</strong> (<em>string</em>) – string in the format ‘?name=visitname(optional)&amp;sprNumer=sprnumber(optional)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-dict with details of the visits.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.get_visits_cpr">
<code class="sig-name descname"><span class="pre">get_visits_cpr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.get_visits_cpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a Visit by the Collection Protocol Registration ID.</p>
<p>Get a visit by the collection protocoll registration ID. Parameters have to be known in advance
in order to use this function. They can be extracted from calling a search function in the
os_core class visits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>search_string</strong> (<em>string</em>) – string in the format ‘?cprId=cprid&amp;includeStats=true/false(optional)’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-dict with details of the visit.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="OpenSpecimenAPIconnector.os_core.visit.visit.update_visit">
<code class="sig-name descname"><span class="pre">update_visit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visitid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OpenSpecimenAPIconnector.os_core.visit.visit.update_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Updating a visit</p>
<p>Update an existing visit with ID visitid and the parameters params. All parameters are
optional for updating and those which are not passed, stay the same. Those parameters and
the visit ID have to be known to use this function and can
be found out in the GUI by clicking on a participant and the visit. It looks like:
http(s)://&lt;host&gt;:&lt;port&gt;/openspeicmen/cp-view/{cpid}/participant/{cprid}/visits/detail/ocerview?visitId={visitid}&amp;eventId={eventId} .
Or via the function get_visit_namespr, when one knows the name of the visit and then extract the ID from there.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mandatory fields are -cprId or (ppid and cpTitle) or (ppid and cpShortTitle),
- name, -site</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>visitid</strong> (<em>int</em>) – ID of the visit as int or string, gets converted to a string</p></li>
<li><p><strong>params</strong> (<em>string</em>) – JSON- formatted string with parameters: cprId, eventId, eventLabel, eventPoint[optional], ppid, cptitle, cpShorttitle, name,
clinicalDiagnoses[optional], clinicalStatus[optional], activityStatus [optional], site, status(permissable
values: COMPLETE, PENDING, MISSED), missedReason[optional], missedBy[optional], comments[optional],
surgicalPathologyNumber[optional], cohort[optional], visitDate[optional]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON-dict with details of the updated visit or OpenSpecimens error message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-OpenSpecimenAPIconnector.os_core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-OpenSpecimenAPIconnector.os_core" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">OpenspecimenPyConnector</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Christian Schorn, Simon Streit.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/docs/source/OpenSpecimenAPIconnector.os_core.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>