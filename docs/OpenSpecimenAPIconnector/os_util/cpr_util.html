<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>OpenSpecimenAPIconnector.os_util.cpr_util API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>OpenSpecimenAPIconnector.os_util.cpr_util</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#! /bin/python3

from ..os_core.collection_protocol_registration import collection_protocol_registration
from ..os_core.jsons import Json_factory
from ..os_core.participant import participant
import json
import io
import pandas
import time

class cpr_util:

    &#34;&#34;&#34;Handles the API calls to registrate participants to a Collection Protocol

    Handles the OpenSpecimen API calls to registrate participants to an existing Collection Protocol.
    This class can create participants, register existing participants to another protocol,
    get the details of an existing participant or more existing participants, update a participant.

    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. 
    The API calls are documented in https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs and 
    the calls refer to this site. More details can be seen in the documentation.

    Example
    -------

    A code example, where the Institutes are handled is in the Jupyter-Notebook:

        $ jupyter notebook main.ipynb
    &#34;&#34;&#34;

    def __init__(self):

        &#34;&#34;&#34;Constructor of the Class cpr_util

        Constructor of the class cpr_util (Collection protocol Registration) can handle the  API-calls
        of the collection protocol registration in OpenSpecimen. It also connects this class to the os_core
        classes collection_protocol-registration, participant and Json_factory

        Parameters
        ----------
        base_url : string
            URL to openspecimen, has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consists of two strings ( loginname , password)
        &#34;&#34;&#34;

        self.cpr = collection_protocol_registration()
        self.participant = participant()
        self.jsons = Json_factory()


    def get_registrations(self, cpid = None, registrationdate = None, ppid = None, name = None, birthdate = None,
                            uid = None, specimen = None, includestats = None, startat = None, maxresults = None):

        &#34;&#34;&#34;Search for one or more participants

        Get the details of one or more participants, which are sepecified with the parameters from the function.
        The parameters are optional and if its all empty 100 participants will get returned, default order is with PPID.

        Parameter
        ---------
        cpid : int
            The collection protocols Id where the participant is registrered.
        
        registrationdate : string
            The date of registration in the format, which is defined in the system settings.
        
        ppid : string
            The Participant protocoll ID.

        name : string
            Substring of the first, middle or last name.
        
        birthdate : string
            The date of registration in the format, which is defined in the system settings.
        
        uid : string
            Social Security Number or another unique national ID.
        
        specimen : string
            The label or barcode of a specimen from the participant.
        
        includestats : string
            OpenSpecimen&#39;s boolean (true/false). If true, it returns the number of specimens and visits.
        
        startat : int
            Defines which line of the matches is the first to show, the rows before get ignored in the return.
        
        maxresults : int
            Defines how many rows should be displayed. OpenSpecimen&#39;s default is 100.

        Returns
        -------
        JSON-dict
            Details of the Participant, who are matching the search criteria.
        &#34;&#34;&#34;

        params = self.jsons.get_registrations(cpid = cpid, registrationdate = registrationdate, ppid = ppid, name = name,
                        birthdate = birthdate, uid = uid, specimen = specimen, includestats = includestats, 
                        startat = startat, maxresults = maxresults)

        r = self.cpr.get_registrations(params = params)

        return r


    def get_participants(self, lastname=None, uid = None, birthdate = None, pmi = None, empi = None, reqreginfo = None):

        &#34;&#34;&#34;Search for one or more participants

        Get the details of one or more participants, which are sepecified with the parameters from the function.
        The parameters are optional and if its all empty 100 participants will get returned, default order is with PPID.
        This function should be used before creating a participant to see if a participant is already in the system.

        Parameter
        ---------
        lastname : string
            Substring of the Lastname of a Participant.
        
        uid : string
            Country specific unique social security number.

        birthdate : string
            The date of registration in the format, which is defined in the system settings.
        
        pmi : dict
            Dict with details of the Medical records number mrn and the assigned site with key siteName.

        empi : string
            Enterprise wide unique ID assigned to the participant.

               
        reqreginfo : string
            OpenSpecimen&#39;s boolean (true/false). If true, it returns details of the participant
        
        Returns
        -------
        JSON-dict
            Details of the matching parameter, if reqreginfo is true, return additional the participant info.
        &#34;&#34;&#34;

        params = self.jsons.get_participants(lastname = lastname, uid = uid, birthdate = birthdate,
                                            pmi = pmi, empi = empi, reqreginfo = reqreginfo)
        r = self.participant.get_participant_matches(params)

        return r


    def create_registration(self, regdate, cpid = None, cptitle = None, cpshorttitle = None, ppid = None,
                firstname = None, middlename = None, lastname = None, uid = None, birthdate = None, vitalstatus = None,
                deathdate = None, gender = None, race = None, ethnicities = None, sexgenotype = None, pmis = None,
                mrn = None, sitename = None, empi = None):
            
        &#34;&#34;&#34;Register a participant to a Collection Protocol.

        This function can create a new participant to an already existing Collection Protocol. To use this function one
        has to known either the Collection Protocoll id ::cpId::,the title of the Collection Protocol ::cpTitle:: or 
        the short title of the Collection Protocol ::cpshorttitle:: .
        Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
        collection_protocol_util in os_util. 

        Notes
        ----- 
        Either cpid or cptitle or cpshorttitle are mandatory to identify the Collection Protocol.
        ppid has to be left empty if PPID is auto-generated at protocol level, else it is mandatory.
        regdate is mandatory.
        For creating a Participant, all Participant fields can be left empty, except the first five have special rules.

        Parameters
        ----------
        regdate : string
            Mandatory field with date of registration in the format which is defined in the systemsettings of OpenSpecimen.
        
        cpid : int
            Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.
        
        cptitle : string
            Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.

        cpshorttitle : string
            Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.
        
        ppid : string
            Participant protocol ID, is mandatory if created manually and have to be empty if it is autogenerated.
            This is a protocol setting.
        
        firstname : string
            Participants first name.
        
        middlename : string
            Participants middle name.
        
        lastname : string
            Participants last name.
        
        uid : string
            Unique identifier e.g. social security number.
        
        birthdate : string
            Birthdate in the format which is defined in the systemsettings of OpenSpecimen.

        vitalstatus : string
            Vital status of the Participant.
        
        deathdate : string
            Deathdate in the format which is defined in the systemsettings of OpenSpecimen.
        
        gender : string
            Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.
        
        race : string
            Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, Black or Afro American, Native Hawaiian
            or other Pacific Islander, Not Reported, Unknown, White}
        
        ethnicities : string
            Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}
        
        sexgenotype : string
            Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome, 
            XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}
        
        pmis : string
            Collection of the Participants medical record number.
        
        mrn : string
            Participants medical record number.

        sitename : string
            Name of the site, where the participant is registered.

        empi : string
            Enterprise master patient index number

        Returns
        -------
        JSON-dict
            Details of the created Participant or the OpenSpecimen error message as Dictionary.
        &#34;&#34;&#34;

        params = self.jsons.create_participant_json(regdate = regdate, cpid = cpid, cptitle = cptitle, cpshorttitle =cpshorttitle,
                        ppid = ppid, firstname = firstname, middlename = middlename, lastname = lastname, uid = uid,
                        birthdate = birthdate, vitalstatus = vitalstatus, deathdate = deathdate, gender = gender,
                        race = race, ethnicities = ethnicities, sexgenotype = sexgenotype, pmis = pmis, mrn = mrn,
                        sitename = sitename, empi =empi)
        r = self.cpr.create_participant(params)

        return r


    def update_registration(self, regdate, cprid, id_, cpid = None, cptitle = None, cpshorttitle = None, ppid = None,
            firstname = None, middlename = None, lastname = None, uid = None, birthdate = None, vitalstatus = None,
            deathdate = None, gender = None, race = None, ethnicities = None, sexgenotype = None, pmis = None,
            mrn = None, sitename = None, empi = None):
            
        &#34;&#34;&#34;Register a Participant to a Collection Protocol.

        This function can create a new participant to an already existing Collection Protocol. To use this function one
        has to know either the Collection Protocoll id ::cpId::,the title of the Collection Protocol ::cpTitle:: or 
        the short title of the Collection Protocol ::cpshorttitle:: .
        Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
        collection_protocol_util in os_util.  For updating a participant the cprid has to be known. This can be seen via GUI
        or with searching the participant first.

        Notes
        ----- 
        Either cpid or cptitle or cpshorttitle are mandatory to identify the Collection Protocol.
        ppid has to be left empty, if PPID is auto-generated at protocol level, else it is mandatory.
        regdate is mandatory.
        For creating a participant, all participant fields can be left empty, except the first five have special rules.

        Parameters
        ----------
        regdate : string
            Mandatory field with date of registration in the format which is defined in the systemsettings of OpenSpecimen.

        cprid : int
            Unique ID of the Participant&#39;s Registration.
        
        cpid : int
            Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.
        
        cptitle : string
            Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.

        cpshorttitle : string
            Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.
        
        ppid : string
            Participant protocol ID, is mandatory if created manually and has to be empty if it is autogenerated.
            This is a protocol setting.
        
        firstname : string
            Participants first name.
        
        middlename : string
            Participants middle name.
        
        lastname : string
            Participants last name.
        
        uid : string
            Unique identifier e.g. social security number.
        
        birthdate : string
            Birthdate in the format which is defined in the systemsettings of OpenSpecimen.

        vitalstatus : string
            Vital status of the Participant.
        
        deathdate : string
            Deathdate in the format which is defined in the systemsettings of OpenSpecimen.
        
        gender : string
            Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.
        
        race : string
            Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, Black or Afro American, Native Hawaiian
            or other Pacific Islander, Not Reported, Unknown, White}
        
        ethnicities : string
            Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}
        
        sexgenotype : string
            Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome, 
            XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}
        
        pmis : string
            Collection of the Participants medical record number.
        
        mrn : string
            Participants medical record number.

        sitename : string
            Name of the site, where the participant is registered.

        empi : string
            Enterprise master patient index number.

        Returns
        -------
        JSON-dict
            Details of the updated Participant or the OpenSpecimen error message as Dictionary.
        &#34;&#34;&#34;

        params = self.jsons.create_participant_json(regdate = regdate, id_ = id_,cprid = cprid, cpid = cpid, cptitle = cptitle, 
                        cpshorttitle =cpshorttitle, ppid = ppid, firstname = firstname, middlename = middlename, 
                        lastname = lastname, uid = uid, birthdate = birthdate, vitalstatus = vitalstatus, 
                        deathdate = deathdate, gender = gender, race = race, ethnicities = ethnicities, 
                        sexgenotype = sexgenotype, pmis = pmis, mrn = mrn, sitename = sitename, empi =empi)
        r = self.cpr.update_participant(cprid = cprid, params = params)

        return r

    def register_to_cp(self, cprid, regdate, cpid, ppid):

        &#34;&#34;&#34;Register a Participant to another protocol

        Register an existing Participant to another Collection protocol.

        Parameters
        ----------
        cprid : int
            Unique ID of the Participant&#39;s Registration.

        regdate: string
            Date of the registration.
        
        cpid : int
            Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.

        ppid : string
            Participant protocol ID, is mandatory if created manually and has to be empty if it is autogenerated.
            This is a protocol setting.

        Returns
        -------
        dict
            JSON-dict with details of the new participant, or the OS specific error message.
        &#34;&#34;&#34;

        params = self.jsons.register_to_cp(cprid = cprid, regdate = regdate, cpid =cpid, ppid =ppid)

        r = self.cpr.register_to_cp(params = params)

        return r</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util"><code class="flex name class">
<span>class <span class="ident">cpr_util</span></span>
</code></dt>
<dd>
<div class="desc"><p>Handles the API calls to registrate participants to a Collection Protocol</p>
<p>Handles the OpenSpecimen API calls to registrate participants to an existing Collection Protocol.
This class can create participants, register existing participants to another protocol,
get the details of an existing participant or more existing participants, update a participant.</p>
<h2 id="notes">Notes</h2>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen.
The API calls are documented in <a href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<h2 id="example">Example</h2>
<p>A code example, where the Institutes are handled is in the Jupyter-Notebook:</p>
<pre><code>$ jupyter notebook main.ipynb
</code></pre>
<p>Constructor of the Class cpr_util</p>
<p>Constructor of the class cpr_util (Collection protocol Registration) can handle the
API-calls
of the collection protocol registration in OpenSpecimen. It also connects this class to the os_core
classes collection_protocol-registration, participant and Json_factory</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>base_url</code></strong> :&ensp;<code>string</code></dt>
<dd>URL to openspecimen, has the format: http(s)://<host>:<port>/openspecimen/rest/ng</dd>
<dt><strong><code>auth</code></strong> :&ensp;<code>tuple</code></dt>
<dd>Consists of two strings ( loginname , password)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class cpr_util:

    &#34;&#34;&#34;Handles the API calls to registrate participants to a Collection Protocol

    Handles the OpenSpecimen API calls to registrate participants to an existing Collection Protocol.
    This class can create participants, register existing participants to another protocol,
    get the details of an existing participant or more existing participants, update a participant.

    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. 
    The API calls are documented in https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs and 
    the calls refer to this site. More details can be seen in the documentation.

    Example
    -------

    A code example, where the Institutes are handled is in the Jupyter-Notebook:

        $ jupyter notebook main.ipynb
    &#34;&#34;&#34;

    def __init__(self):

        &#34;&#34;&#34;Constructor of the Class cpr_util

        Constructor of the class cpr_util (Collection protocol Registration) can handle the  API-calls
        of the collection protocol registration in OpenSpecimen. It also connects this class to the os_core
        classes collection_protocol-registration, participant and Json_factory

        Parameters
        ----------
        base_url : string
            URL to openspecimen, has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consists of two strings ( loginname , password)
        &#34;&#34;&#34;

        self.cpr = collection_protocol_registration()
        self.participant = participant()
        self.jsons = Json_factory()


    def get_registrations(self, cpid = None, registrationdate = None, ppid = None, name = None, birthdate = None,
                            uid = None, specimen = None, includestats = None, startat = None, maxresults = None):

        &#34;&#34;&#34;Search for one or more participants

        Get the details of one or more participants, which are sepecified with the parameters from the function.
        The parameters are optional and if its all empty 100 participants will get returned, default order is with PPID.

        Parameter
        ---------
        cpid : int
            The collection protocols Id where the participant is registrered.
        
        registrationdate : string
            The date of registration in the format, which is defined in the system settings.
        
        ppid : string
            The Participant protocoll ID.

        name : string
            Substring of the first, middle or last name.
        
        birthdate : string
            The date of registration in the format, which is defined in the system settings.
        
        uid : string
            Social Security Number or another unique national ID.
        
        specimen : string
            The label or barcode of a specimen from the participant.
        
        includestats : string
            OpenSpecimen&#39;s boolean (true/false). If true, it returns the number of specimens and visits.
        
        startat : int
            Defines which line of the matches is the first to show, the rows before get ignored in the return.
        
        maxresults : int
            Defines how many rows should be displayed. OpenSpecimen&#39;s default is 100.

        Returns
        -------
        JSON-dict
            Details of the Participant, who are matching the search criteria.
        &#34;&#34;&#34;

        params = self.jsons.get_registrations(cpid = cpid, registrationdate = registrationdate, ppid = ppid, name = name,
                        birthdate = birthdate, uid = uid, specimen = specimen, includestats = includestats, 
                        startat = startat, maxresults = maxresults)

        r = self.cpr.get_registrations(params = params)

        return r


    def get_participants(self, lastname=None, uid = None, birthdate = None, pmi = None, empi = None, reqreginfo = None):

        &#34;&#34;&#34;Search for one or more participants

        Get the details of one or more participants, which are sepecified with the parameters from the function.
        The parameters are optional and if its all empty 100 participants will get returned, default order is with PPID.
        This function should be used before creating a participant to see if a participant is already in the system.

        Parameter
        ---------
        lastname : string
            Substring of the Lastname of a Participant.
        
        uid : string
            Country specific unique social security number.

        birthdate : string
            The date of registration in the format, which is defined in the system settings.
        
        pmi : dict
            Dict with details of the Medical records number mrn and the assigned site with key siteName.

        empi : string
            Enterprise wide unique ID assigned to the participant.

               
        reqreginfo : string
            OpenSpecimen&#39;s boolean (true/false). If true, it returns details of the participant
        
        Returns
        -------
        JSON-dict
            Details of the matching parameter, if reqreginfo is true, return additional the participant info.
        &#34;&#34;&#34;

        params = self.jsons.get_participants(lastname = lastname, uid = uid, birthdate = birthdate,
                                            pmi = pmi, empi = empi, reqreginfo = reqreginfo)
        r = self.participant.get_participant_matches(params)

        return r


    def create_registration(self, regdate, cpid = None, cptitle = None, cpshorttitle = None, ppid = None,
                firstname = None, middlename = None, lastname = None, uid = None, birthdate = None, vitalstatus = None,
                deathdate = None, gender = None, race = None, ethnicities = None, sexgenotype = None, pmis = None,
                mrn = None, sitename = None, empi = None):
            
        &#34;&#34;&#34;Register a participant to a Collection Protocol.

        This function can create a new participant to an already existing Collection Protocol. To use this function one
        has to known either the Collection Protocoll id ::cpId::,the title of the Collection Protocol ::cpTitle:: or 
        the short title of the Collection Protocol ::cpshorttitle:: .
        Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
        collection_protocol_util in os_util. 

        Notes
        ----- 
        Either cpid or cptitle or cpshorttitle are mandatory to identify the Collection Protocol.
        ppid has to be left empty if PPID is auto-generated at protocol level, else it is mandatory.
        regdate is mandatory.
        For creating a Participant, all Participant fields can be left empty, except the first five have special rules.

        Parameters
        ----------
        regdate : string
            Mandatory field with date of registration in the format which is defined in the systemsettings of OpenSpecimen.
        
        cpid : int
            Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.
        
        cptitle : string
            Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.

        cpshorttitle : string
            Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.
        
        ppid : string
            Participant protocol ID, is mandatory if created manually and have to be empty if it is autogenerated.
            This is a protocol setting.
        
        firstname : string
            Participants first name.
        
        middlename : string
            Participants middle name.
        
        lastname : string
            Participants last name.
        
        uid : string
            Unique identifier e.g. social security number.
        
        birthdate : string
            Birthdate in the format which is defined in the systemsettings of OpenSpecimen.

        vitalstatus : string
            Vital status of the Participant.
        
        deathdate : string
            Deathdate in the format which is defined in the systemsettings of OpenSpecimen.
        
        gender : string
            Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.
        
        race : string
            Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, Black or Afro American, Native Hawaiian
            or other Pacific Islander, Not Reported, Unknown, White}
        
        ethnicities : string
            Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}
        
        sexgenotype : string
            Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome, 
            XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}
        
        pmis : string
            Collection of the Participants medical record number.
        
        mrn : string
            Participants medical record number.

        sitename : string
            Name of the site, where the participant is registered.

        empi : string
            Enterprise master patient index number

        Returns
        -------
        JSON-dict
            Details of the created Participant or the OpenSpecimen error message as Dictionary.
        &#34;&#34;&#34;

        params = self.jsons.create_participant_json(regdate = regdate, cpid = cpid, cptitle = cptitle, cpshorttitle =cpshorttitle,
                        ppid = ppid, firstname = firstname, middlename = middlename, lastname = lastname, uid = uid,
                        birthdate = birthdate, vitalstatus = vitalstatus, deathdate = deathdate, gender = gender,
                        race = race, ethnicities = ethnicities, sexgenotype = sexgenotype, pmis = pmis, mrn = mrn,
                        sitename = sitename, empi =empi)
        r = self.cpr.create_participant(params)

        return r


    def update_registration(self, regdate, cprid, id_, cpid = None, cptitle = None, cpshorttitle = None, ppid = None,
            firstname = None, middlename = None, lastname = None, uid = None, birthdate = None, vitalstatus = None,
            deathdate = None, gender = None, race = None, ethnicities = None, sexgenotype = None, pmis = None,
            mrn = None, sitename = None, empi = None):
            
        &#34;&#34;&#34;Register a Participant to a Collection Protocol.

        This function can create a new participant to an already existing Collection Protocol. To use this function one
        has to know either the Collection Protocoll id ::cpId::,the title of the Collection Protocol ::cpTitle:: or 
        the short title of the Collection Protocol ::cpshorttitle:: .
        Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
        collection_protocol_util in os_util.  For updating a participant the cprid has to be known. This can be seen via GUI
        or with searching the participant first.

        Notes
        ----- 
        Either cpid or cptitle or cpshorttitle are mandatory to identify the Collection Protocol.
        ppid has to be left empty, if PPID is auto-generated at protocol level, else it is mandatory.
        regdate is mandatory.
        For creating a participant, all participant fields can be left empty, except the first five have special rules.

        Parameters
        ----------
        regdate : string
            Mandatory field with date of registration in the format which is defined in the systemsettings of OpenSpecimen.

        cprid : int
            Unique ID of the Participant&#39;s Registration.
        
        cpid : int
            Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.
        
        cptitle : string
            Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.

        cpshorttitle : string
            Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.
        
        ppid : string
            Participant protocol ID, is mandatory if created manually and has to be empty if it is autogenerated.
            This is a protocol setting.
        
        firstname : string
            Participants first name.
        
        middlename : string
            Participants middle name.
        
        lastname : string
            Participants last name.
        
        uid : string
            Unique identifier e.g. social security number.
        
        birthdate : string
            Birthdate in the format which is defined in the systemsettings of OpenSpecimen.

        vitalstatus : string
            Vital status of the Participant.
        
        deathdate : string
            Deathdate in the format which is defined in the systemsettings of OpenSpecimen.
        
        gender : string
            Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.
        
        race : string
            Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, Black or Afro American, Native Hawaiian
            or other Pacific Islander, Not Reported, Unknown, White}
        
        ethnicities : string
            Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}
        
        sexgenotype : string
            Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome, 
            XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}
        
        pmis : string
            Collection of the Participants medical record number.
        
        mrn : string
            Participants medical record number.

        sitename : string
            Name of the site, where the participant is registered.

        empi : string
            Enterprise master patient index number.

        Returns
        -------
        JSON-dict
            Details of the updated Participant or the OpenSpecimen error message as Dictionary.
        &#34;&#34;&#34;

        params = self.jsons.create_participant_json(regdate = regdate, id_ = id_,cprid = cprid, cpid = cpid, cptitle = cptitle, 
                        cpshorttitle =cpshorttitle, ppid = ppid, firstname = firstname, middlename = middlename, 
                        lastname = lastname, uid = uid, birthdate = birthdate, vitalstatus = vitalstatus, 
                        deathdate = deathdate, gender = gender, race = race, ethnicities = ethnicities, 
                        sexgenotype = sexgenotype, pmis = pmis, mrn = mrn, sitename = sitename, empi =empi)
        r = self.cpr.update_participant(cprid = cprid, params = params)

        return r

    def register_to_cp(self, cprid, regdate, cpid, ppid):

        &#34;&#34;&#34;Register a Participant to another protocol

        Register an existing Participant to another Collection protocol.

        Parameters
        ----------
        cprid : int
            Unique ID of the Participant&#39;s Registration.

        regdate: string
            Date of the registration.
        
        cpid : int
            Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.

        ppid : string
            Participant protocol ID, is mandatory if created manually and has to be empty if it is autogenerated.
            This is a protocol setting.

        Returns
        -------
        dict
            JSON-dict with details of the new participant, or the OS specific error message.
        &#34;&#34;&#34;

        params = self.jsons.register_to_cp(cprid = cprid, regdate = regdate, cpid =cpid, ppid =ppid)

        r = self.cpr.register_to_cp(params = params)

        return r</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.create_registration"><code class="name flex">
<span>def <span class="ident">create_registration</span></span>(<span>self, regdate, cpid=None, cptitle=None, cpshorttitle=None, ppid=None, firstname=None, middlename=None, lastname=None, uid=None, birthdate=None, vitalstatus=None, deathdate=None, gender=None, race=None, ethnicities=None, sexgenotype=None, pmis=None, mrn=None, sitename=None, empi=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register a participant to a Collection Protocol.</p>
<p>This function can create a new participant to an already existing Collection Protocol. To use this function one
has to known either the Collection Protocoll id ::cpId::,the title of the Collection Protocol ::cpTitle:: or
the short title of the Collection Protocol ::cpshorttitle:: .
Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
collection_protocol_util in os_util. </p>
<h2 id="notes">Notes</h2>
<p>Either cpid or cptitle or cpshorttitle are mandatory to identify the Collection Protocol.
ppid has to be left empty if PPID is auto-generated at protocol level, else it is mandatory.
regdate is mandatory.
For creating a Participant, all Participant fields can be left empty, except the first five have special rules.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>regdate</code></strong> :&ensp;<code>string</code></dt>
<dd>Mandatory field with date of registration in the format which is defined in the systemsettings of OpenSpecimen.</dd>
<dt><strong><code>cpid</code></strong> :&ensp;<code>int</code></dt>
<dd>Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.</dd>
<dt><strong><code>cptitle</code></strong> :&ensp;<code>string</code></dt>
<dd>Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.</dd>
<dt><strong><code>cpshorttitle</code></strong> :&ensp;<code>string</code></dt>
<dd>Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.</dd>
<dt><strong><code>ppid</code></strong> :&ensp;<code>string</code></dt>
<dd>Participant protocol ID, is mandatory if created manually and have to be empty if it is autogenerated.
This is a protocol setting.</dd>
<dt><strong><code>firstname</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants first name.</dd>
<dt><strong><code>middlename</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants middle name.</dd>
<dt><strong><code>lastname</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants last name.</dd>
<dt><strong><code>uid</code></strong> :&ensp;<code>string</code></dt>
<dd>Unique identifier e.g. social security number.</dd>
<dt><strong><code>birthdate</code></strong> :&ensp;<code>string</code></dt>
<dd>Birthdate in the format which is defined in the systemsettings of OpenSpecimen.</dd>
<dt><strong><code>vitalstatus</code></strong> :&ensp;<code>string</code></dt>
<dd>Vital status of the Participant.</dd>
<dt><strong><code>deathdate</code></strong> :&ensp;<code>string</code></dt>
<dd>Deathdate in the format which is defined in the systemsettings of OpenSpecimen.</dd>
<dt><strong><code>gender</code></strong> :&ensp;<code>string</code></dt>
<dd>Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.</dd>
<dt><strong><code>race</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, Black or Afro American, Native Hawaiian
or other Pacific Islander, Not Reported, Unknown, White}</dd>
<dt><strong><code>ethnicities</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}</dd>
<dt><strong><code>sexgenotype</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome,
XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}</dd>
<dt><strong><code>pmis</code></strong> :&ensp;<code>string</code></dt>
<dd>Collection of the Participants medical record number.</dd>
<dt><strong><code>mrn</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants medical record number.</dd>
<dt><strong><code>sitename</code></strong> :&ensp;<code>string</code></dt>
<dd>Name of the site, where the participant is registered.</dd>
<dt><strong><code>empi</code></strong> :&ensp;<code>string</code></dt>
<dd>Enterprise master patient index number</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>Details of the created Participant or the OpenSpecimen error message as Dictionary.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_registration(self, regdate, cpid = None, cptitle = None, cpshorttitle = None, ppid = None,
            firstname = None, middlename = None, lastname = None, uid = None, birthdate = None, vitalstatus = None,
            deathdate = None, gender = None, race = None, ethnicities = None, sexgenotype = None, pmis = None,
            mrn = None, sitename = None, empi = None):
        
    &#34;&#34;&#34;Register a participant to a Collection Protocol.

    This function can create a new participant to an already existing Collection Protocol. To use this function one
    has to known either the Collection Protocoll id ::cpId::,the title of the Collection Protocol ::cpTitle:: or 
    the short title of the Collection Protocol ::cpshorttitle:: .
    Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
    collection_protocol_util in os_util. 

    Notes
    ----- 
    Either cpid or cptitle or cpshorttitle are mandatory to identify the Collection Protocol.
    ppid has to be left empty if PPID is auto-generated at protocol level, else it is mandatory.
    regdate is mandatory.
    For creating a Participant, all Participant fields can be left empty, except the first five have special rules.

    Parameters
    ----------
    regdate : string
        Mandatory field with date of registration in the format which is defined in the systemsettings of OpenSpecimen.
    
    cpid : int
        Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.
    
    cptitle : string
        Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.

    cpshorttitle : string
        Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.
    
    ppid : string
        Participant protocol ID, is mandatory if created manually and have to be empty if it is autogenerated.
        This is a protocol setting.
    
    firstname : string
        Participants first name.
    
    middlename : string
        Participants middle name.
    
    lastname : string
        Participants last name.
    
    uid : string
        Unique identifier e.g. social security number.
    
    birthdate : string
        Birthdate in the format which is defined in the systemsettings of OpenSpecimen.

    vitalstatus : string
        Vital status of the Participant.
    
    deathdate : string
        Deathdate in the format which is defined in the systemsettings of OpenSpecimen.
    
    gender : string
        Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.
    
    race : string
        Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, Black or Afro American, Native Hawaiian
        or other Pacific Islander, Not Reported, Unknown, White}
    
    ethnicities : string
        Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}
    
    sexgenotype : string
        Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome, 
        XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}
    
    pmis : string
        Collection of the Participants medical record number.
    
    mrn : string
        Participants medical record number.

    sitename : string
        Name of the site, where the participant is registered.

    empi : string
        Enterprise master patient index number

    Returns
    -------
    JSON-dict
        Details of the created Participant or the OpenSpecimen error message as Dictionary.
    &#34;&#34;&#34;

    params = self.jsons.create_participant_json(regdate = regdate, cpid = cpid, cptitle = cptitle, cpshorttitle =cpshorttitle,
                    ppid = ppid, firstname = firstname, middlename = middlename, lastname = lastname, uid = uid,
                    birthdate = birthdate, vitalstatus = vitalstatus, deathdate = deathdate, gender = gender,
                    race = race, ethnicities = ethnicities, sexgenotype = sexgenotype, pmis = pmis, mrn = mrn,
                    sitename = sitename, empi =empi)
    r = self.cpr.create_participant(params)

    return r</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.get_participants"><code class="name flex">
<span>def <span class="ident">get_participants</span></span>(<span>self, lastname=None, uid=None, birthdate=None, pmi=None, empi=None, reqreginfo=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Search for one or more participants</p>
<p>Get the details of one or more participants, which are sepecified with the parameters from the function.
The parameters are optional and if its all empty 100 participants will get returned, default order is with PPID.
This function should be used before creating a participant to see if a participant is already in the system.</p>
<h2 id="parameter">Parameter</h2>
<p>lastname : string
Substring of the Lastname of a Participant.</p>
<p>uid : string
Country specific unique social security number.</p>
<p>birthdate : string
The date of registration in the format, which is defined in the system settings.</p>
<p>pmi : dict
Dict with details of the Medical records number mrn and the assigned site with key siteName.</p>
<p>empi : string
Enterprise wide unique ID assigned to the participant.</p>
<p>reqreginfo : string
OpenSpecimen's boolean (true/false). If true, it returns details of the participant</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>Details of the matching parameter, if reqreginfo is true, return additional the participant info.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_participants(self, lastname=None, uid = None, birthdate = None, pmi = None, empi = None, reqreginfo = None):

    &#34;&#34;&#34;Search for one or more participants

    Get the details of one or more participants, which are sepecified with the parameters from the function.
    The parameters are optional and if its all empty 100 participants will get returned, default order is with PPID.
    This function should be used before creating a participant to see if a participant is already in the system.

    Parameter
    ---------
    lastname : string
        Substring of the Lastname of a Participant.
    
    uid : string
        Country specific unique social security number.

    birthdate : string
        The date of registration in the format, which is defined in the system settings.
    
    pmi : dict
        Dict with details of the Medical records number mrn and the assigned site with key siteName.

    empi : string
        Enterprise wide unique ID assigned to the participant.

           
    reqreginfo : string
        OpenSpecimen&#39;s boolean (true/false). If true, it returns details of the participant
    
    Returns
    -------
    JSON-dict
        Details of the matching parameter, if reqreginfo is true, return additional the participant info.
    &#34;&#34;&#34;

    params = self.jsons.get_participants(lastname = lastname, uid = uid, birthdate = birthdate,
                                        pmi = pmi, empi = empi, reqreginfo = reqreginfo)
    r = self.participant.get_participant_matches(params)

    return r</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.get_registrations"><code class="name flex">
<span>def <span class="ident">get_registrations</span></span>(<span>self, cpid=None, registrationdate=None, ppid=None, name=None, birthdate=None, uid=None, specimen=None, includestats=None, startat=None, maxresults=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Search for one or more participants</p>
<p>Get the details of one or more participants, which are sepecified with the parameters from the function.
The parameters are optional and if its all empty 100 participants will get returned, default order is with PPID.</p>
<h2 id="parameter">Parameter</h2>
<p>cpid : int
The collection protocols Id where the participant is registrered.</p>
<p>registrationdate : string
The date of registration in the format, which is defined in the system settings.</p>
<p>ppid : string
The Participant protocoll ID.</p>
<p>name : string
Substring of the first, middle or last name.</p>
<p>birthdate : string
The date of registration in the format, which is defined in the system settings.</p>
<p>uid : string
Social Security Number or another unique national ID.</p>
<p>specimen : string
The label or barcode of a specimen from the participant.</p>
<p>includestats : string
OpenSpecimen's boolean (true/false). If true, it returns the number of specimens and visits.</p>
<p>startat : int
Defines which line of the matches is the first to show, the rows before get ignored in the return.</p>
<p>maxresults : int
Defines how many rows should be displayed. OpenSpecimen's default is 100.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>Details of the Participant, who are matching the search criteria.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_registrations(self, cpid = None, registrationdate = None, ppid = None, name = None, birthdate = None,
                        uid = None, specimen = None, includestats = None, startat = None, maxresults = None):

    &#34;&#34;&#34;Search for one or more participants

    Get the details of one or more participants, which are sepecified with the parameters from the function.
    The parameters are optional and if its all empty 100 participants will get returned, default order is with PPID.

    Parameter
    ---------
    cpid : int
        The collection protocols Id where the participant is registrered.
    
    registrationdate : string
        The date of registration in the format, which is defined in the system settings.
    
    ppid : string
        The Participant protocoll ID.

    name : string
        Substring of the first, middle or last name.
    
    birthdate : string
        The date of registration in the format, which is defined in the system settings.
    
    uid : string
        Social Security Number or another unique national ID.
    
    specimen : string
        The label or barcode of a specimen from the participant.
    
    includestats : string
        OpenSpecimen&#39;s boolean (true/false). If true, it returns the number of specimens and visits.
    
    startat : int
        Defines which line of the matches is the first to show, the rows before get ignored in the return.
    
    maxresults : int
        Defines how many rows should be displayed. OpenSpecimen&#39;s default is 100.

    Returns
    -------
    JSON-dict
        Details of the Participant, who are matching the search criteria.
    &#34;&#34;&#34;

    params = self.jsons.get_registrations(cpid = cpid, registrationdate = registrationdate, ppid = ppid, name = name,
                    birthdate = birthdate, uid = uid, specimen = specimen, includestats = includestats, 
                    startat = startat, maxresults = maxresults)

    r = self.cpr.get_registrations(params = params)

    return r</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.register_to_cp"><code class="name flex">
<span>def <span class="ident">register_to_cp</span></span>(<span>self, cprid, regdate, cpid, ppid)</span>
</code></dt>
<dd>
<div class="desc"><p>Register a Participant to another protocol</p>
<p>Register an existing Participant to another Collection protocol.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>cprid</code></strong> :&ensp;<code>int</code></dt>
<dd>Unique ID of the Participant's Registration.</dd>
<dt><strong><code>regdate</code></strong> :&ensp;<code>string</code></dt>
<dd>Date of the registration.</dd>
<dt><strong><code>cpid</code></strong> :&ensp;<code>int</code></dt>
<dd>Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.</dd>
<dt><strong><code>ppid</code></strong> :&ensp;<code>string</code></dt>
<dd>Participant protocol ID, is mandatory if created manually and has to be empty if it is autogenerated.
This is a protocol setting.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>JSON-dict with details of the new participant, or the OS specific error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def register_to_cp(self, cprid, regdate, cpid, ppid):

    &#34;&#34;&#34;Register a Participant to another protocol

    Register an existing Participant to another Collection protocol.

    Parameters
    ----------
    cprid : int
        Unique ID of the Participant&#39;s Registration.

    regdate: string
        Date of the registration.
    
    cpid : int
        Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.

    ppid : string
        Participant protocol ID, is mandatory if created manually and has to be empty if it is autogenerated.
        This is a protocol setting.

    Returns
    -------
    dict
        JSON-dict with details of the new participant, or the OS specific error message.
    &#34;&#34;&#34;

    params = self.jsons.register_to_cp(cprid = cprid, regdate = regdate, cpid =cpid, ppid =ppid)

    r = self.cpr.register_to_cp(params = params)

    return r</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.update_registration"><code class="name flex">
<span>def <span class="ident">update_registration</span></span>(<span>self, regdate, cprid, id_, cpid=None, cptitle=None, cpshorttitle=None, ppid=None, firstname=None, middlename=None, lastname=None, uid=None, birthdate=None, vitalstatus=None, deathdate=None, gender=None, race=None, ethnicities=None, sexgenotype=None, pmis=None, mrn=None, sitename=None, empi=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register a Participant to a Collection Protocol.</p>
<p>This function can create a new participant to an already existing Collection Protocol. To use this function one
has to know either the Collection Protocoll id ::cpId::,the title of the Collection Protocol ::cpTitle:: or
the short title of the Collection Protocol ::cpshorttitle:: .
Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
collection_protocol_util in os_util.
For updating a participant the cprid has to be known. This can be seen via GUI
or with searching the participant first.</p>
<h2 id="notes">Notes</h2>
<p>Either cpid or cptitle or cpshorttitle are mandatory to identify the Collection Protocol.
ppid has to be left empty, if PPID is auto-generated at protocol level, else it is mandatory.
regdate is mandatory.
For creating a participant, all participant fields can be left empty, except the first five have special rules.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>regdate</code></strong> :&ensp;<code>string</code></dt>
<dd>Mandatory field with date of registration in the format which is defined in the systemsettings of OpenSpecimen.</dd>
<dt><strong><code>cprid</code></strong> :&ensp;<code>int</code></dt>
<dd>Unique ID of the Participant's Registration.</dd>
<dt><strong><code>cpid</code></strong> :&ensp;<code>int</code></dt>
<dd>Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.</dd>
<dt><strong><code>cptitle</code></strong> :&ensp;<code>string</code></dt>
<dd>Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.</dd>
<dt><strong><code>cpshorttitle</code></strong> :&ensp;<code>string</code></dt>
<dd>Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.</dd>
<dt><strong><code>ppid</code></strong> :&ensp;<code>string</code></dt>
<dd>Participant protocol ID, is mandatory if created manually and has to be empty if it is autogenerated.
This is a protocol setting.</dd>
<dt><strong><code>firstname</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants first name.</dd>
<dt><strong><code>middlename</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants middle name.</dd>
<dt><strong><code>lastname</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants last name.</dd>
<dt><strong><code>uid</code></strong> :&ensp;<code>string</code></dt>
<dd>Unique identifier e.g. social security number.</dd>
<dt><strong><code>birthdate</code></strong> :&ensp;<code>string</code></dt>
<dd>Birthdate in the format which is defined in the systemsettings of OpenSpecimen.</dd>
<dt><strong><code>vitalstatus</code></strong> :&ensp;<code>string</code></dt>
<dd>Vital status of the Participant.</dd>
<dt><strong><code>deathdate</code></strong> :&ensp;<code>string</code></dt>
<dd>Deathdate in the format which is defined in the systemsettings of OpenSpecimen.</dd>
<dt><strong><code>gender</code></strong> :&ensp;<code>string</code></dt>
<dd>Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.</dd>
<dt><strong><code>race</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, Black or Afro American, Native Hawaiian
or other Pacific Islander, Not Reported, Unknown, White}</dd>
<dt><strong><code>ethnicities</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}</dd>
<dt><strong><code>sexgenotype</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome,
XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}</dd>
<dt><strong><code>pmis</code></strong> :&ensp;<code>string</code></dt>
<dd>Collection of the Participants medical record number.</dd>
<dt><strong><code>mrn</code></strong> :&ensp;<code>string</code></dt>
<dd>Participants medical record number.</dd>
<dt><strong><code>sitename</code></strong> :&ensp;<code>string</code></dt>
<dd>Name of the site, where the participant is registered.</dd>
<dt><strong><code>empi</code></strong> :&ensp;<code>string</code></dt>
<dd>Enterprise master patient index number.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>Details of the updated Participant or the OpenSpecimen error message as Dictionary.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_registration(self, regdate, cprid, id_, cpid = None, cptitle = None, cpshorttitle = None, ppid = None,
        firstname = None, middlename = None, lastname = None, uid = None, birthdate = None, vitalstatus = None,
        deathdate = None, gender = None, race = None, ethnicities = None, sexgenotype = None, pmis = None,
        mrn = None, sitename = None, empi = None):
        
    &#34;&#34;&#34;Register a Participant to a Collection Protocol.

    This function can create a new participant to an already existing Collection Protocol. To use this function one
    has to know either the Collection Protocoll id ::cpId::,the title of the Collection Protocol ::cpTitle:: or 
    the short title of the Collection Protocol ::cpshorttitle:: .
    Those values can be seen via GUI, extracted from the responses with the class collection_protocol in os_core or
    collection_protocol_util in os_util.  For updating a participant the cprid has to be known. This can be seen via GUI
    or with searching the participant first.

    Notes
    ----- 
    Either cpid or cptitle or cpshorttitle are mandatory to identify the Collection Protocol.
    ppid has to be left empty, if PPID is auto-generated at protocol level, else it is mandatory.
    regdate is mandatory.
    For creating a participant, all participant fields can be left empty, except the first five have special rules.

    Parameters
    ----------
    regdate : string
        Mandatory field with date of registration in the format which is defined in the systemsettings of OpenSpecimen.

    cprid : int
        Unique ID of the Participant&#39;s Registration.
    
    cpid : int
        Unique ID of the Collection Protocol, which is autogenerated from OpenSpecimen. cpid or cptitle or cpshorttile is mandatory.
    
    cptitle : string
        Unique title of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.

    cpshorttitle : string
        Unique Acronym of the Collection Protocol. cpid or cptitle or cpshorttile is mandatory.
    
    ppid : string
        Participant protocol ID, is mandatory if created manually and has to be empty if it is autogenerated.
        This is a protocol setting.
    
    firstname : string
        Participants first name.
    
    middlename : string
        Participants middle name.
    
    lastname : string
        Participants last name.
    
    uid : string
        Unique identifier e.g. social security number.
    
    birthdate : string
        Birthdate in the format which is defined in the systemsettings of OpenSpecimen.

    vitalstatus : string
        Vital status of the Participant.
    
    deathdate : string
        Deathdate in the format which is defined in the systemsettings of OpenSpecimen.
    
    gender : string
        Gender of the participant, permissable values are Male, Female, Unknown, Unspecified.
    
    race : string
        Participants racial origination, permissable values are {American Indian or Alaska Native, Asian, Black or Afro American, Native Hawaiian
        or other Pacific Islander, Not Reported, Unknown, White}
    
    ethnicities : string
        Participants ethnicities, permissable values are: {Hispanic or Latino, Not Hispanic or Latino, Not Reported, Unknown}
    
    sexgenotype : string
        Participants sex Genotype, permissable values are {XX Genotype, XY Genotype, XXX, Klinefelter’s Syndrome, XXXY syndrome, 
        XXYY syndrome, Mosaic including XXXXY, Penta X syndrome}
    
    pmis : string
        Collection of the Participants medical record number.
    
    mrn : string
        Participants medical record number.

    sitename : string
        Name of the site, where the participant is registered.

    empi : string
        Enterprise master patient index number.

    Returns
    -------
    JSON-dict
        Details of the updated Participant or the OpenSpecimen error message as Dictionary.
    &#34;&#34;&#34;

    params = self.jsons.create_participant_json(regdate = regdate, id_ = id_,cprid = cprid, cpid = cpid, cptitle = cptitle, 
                    cpshorttitle =cpshorttitle, ppid = ppid, firstname = firstname, middlename = middlename, 
                    lastname = lastname, uid = uid, birthdate = birthdate, vitalstatus = vitalstatus, 
                    deathdate = deathdate, gender = gender, race = race, ethnicities = ethnicities, 
                    sexgenotype = sexgenotype, pmis = pmis, mrn = mrn, sitename = sitename, empi =empi)
    r = self.cpr.update_participant(cprid = cprid, params = params)

    return r</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="OpenSpecimenAPIconnector.os_util" href="index.html">OpenSpecimenAPIconnector.os_util</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util" href="#OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util">cpr_util</a></code></h4>
<ul class="">
<li><code><a title="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.create_registration" href="#OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.create_registration">create_registration</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.get_participants" href="#OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.get_participants">get_participants</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.get_registrations" href="#OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.get_registrations">get_registrations</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.register_to_cp" href="#OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.register_to_cp">register_to_cp</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.update_registration" href="#OpenSpecimenAPIconnector.os_util.cpr_util.cpr_util.update_registration">update_registration</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>