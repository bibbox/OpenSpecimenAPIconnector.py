<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>OpenSpecimenAPIconnector.os_core.collection_protocol_event API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>OpenSpecimenAPIconnector.os_core.collection_protocol_event</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#! /bin/python3

# Import
import json

from .req_util import OS_request_gen
from .. import config_manager

class collection_protocol_event:

    &#34;&#34;&#34;Handles the Events of corresponding to a Colelction Protocol

    This class allows you to handle the Events in Openspecimen. One can create an event,
    but first the corresponding Colelction Protocol have to be created, for example via os_core.collection_protocol.py.
    Get all events or just get one event, delete or update an existing event.
    The output is a JSON dict with either details or the Openspecimen error message.

    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
    just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
    The API calls are documented in https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs and 
    the calls refer to this site. More details can be seen in the documentation.

    Example
    -------

    A code example, where also Events are handled is in the Jupyter-Notebook::

        $ jupyter notebook main.ipynb
    &#34;&#34;&#34;

    def __init__(self):

        &#34;&#34;&#34;Constructor of the Class collection_protocol_event

        Constructor of the class collection_protocol_event can handle the basic API-calls
        of the collection protocol events in OpenSpecimen which connects this class to OpenSpecimen&#39;s
        specific request handle (os_core.request_util.py).

        Parameters
        ----------
        base_url : string
            URL to openspecimen, has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consits of two strings ( loginname , password)
        &#34;&#34;&#34;
        self.base_url = config_manager.get_url() + &#39;/collection-protocol-events&#39; 
        self.auth = config_manager.get_auth()
        self.OS_request_gen = OS_request_gen(self.auth)

    def ausgabe(self):

        &#34;&#34;&#34;Testing of the URL and authentification.

        If there are any unexpected errors one can easily test if the URL and login data are spelled correctly.
        The function prints the URL and login data to the output terminal, which was handed over to the class.
        &#34;&#34;&#34;

        print(self.base_url, self.OS_request_gen.auth)


    def create_event(self, params):

        &#34;&#34;&#34;Create an event for a given Collection Protocol.

        Create an event for a given Collection Protocol. In order to use this function one
        has to know the parameters, which OpenSpecimen needs for to create an event. Another way
        to use it is with the class os_util.cpevent_util.py. An advantage of creating events with
        API calls is that the event Code &#34;code&#34; can be set, which is needed to add conditional forms
        via the workflow.

        Parameters
        ----------
        params : string
            json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
            clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]

        Returns
        -------
        json dict
            Returns a json dict with the details of the created event, or the OpenSpecimen error message. 
        &#34;&#34;&#34;

        url = self.base_url
        payload = params
        r = self.OS_request_gen.post_request(url, payload)

        return json.loads(r.text)


    def delete_event(self, eventid):

        &#34;&#34;&#34;Delete an event with the ID eventid.

        Delete an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
        and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
        http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
        For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
        &#34;get_all_events(self, cpid)&#34; for a specific Collection Protocol, with the Collection Protocol ID is called first.


        Parameters
        ----------
        eventid : int
            The unique ID of the event, which is created by OpenSpecimen.

        Returns
        -------
        json dict
            Details of the deleted event or OpenSpecimens error message as JSON dict.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(eventid)
        url = self.base_url + endpoint

        r = self.OS_request_gen.delete_request(url)

        return json.loads(r.text)


    def get_all_events(self, cpid):

        &#34;&#34;&#34;Get all events for a specific Collection Protocol with ID cpid.

        Get the details of all events within a given Collection Protocol with the ID cpid.
        For example, the ID can be seen in the URL if one clicks on the overview of a Collection
        Protocol. The URL looks like: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{cpid}/overview .
        Another possibility is to search via the  function &#34;search_collection_protocols(self, search_params)&#34;
        from the class os_core.collection_protocol with an OpenSpecimen specific key and value.

        Parameters
        ----------
        cpid : int
            Unique ID within OpenSpecimen from a given Collection Protocol. OpenSpecimen generates this ID automatically.

        Returns
        -------
        json-dict
            Details of all events within a given Collection Protocol as dict, where each event is a JSON-dict, or
            an error message, which is generated from OpenSpecimen.
        &#34;&#34;&#34;

        endpoint = &#39;?cpId=&#39; + str(cpid)
        url= self.base_url + endpoint
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def get_event(self, eventid):

        &#34;&#34;&#34;Get the details of an event with the unique ID eventid.

        Get the details of an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
        and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
        http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
        For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
        &#34;get_all_events(self, cpid)&#34; for a specific Collection Protocol, with the Collection Protocol ID is called first.

        Parameters
        ----------
        eventid : int
            Unique ID of the event within OpenSpecimen, which is generated automatically.
        Returns
        -------
        json-dict
            Details of an event JSON-dict with  ID eventid, or an error message, which is generated from OpenSpecimen.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(eventid)
        url = self.base_url + endpoint
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def update_event(self, eventid, params):

        &#34;&#34;&#34;Update an existing event with ID eventid and the parameters params.

        Update an existing event with ID eventid. In order to use this function, one
        has to know the parameters, which OpenSpecimen allows to update. 
        For example, one can &#39;add&#39; the parameter &#34;code&#34; to an existing event which was created via GUI.
        This is needed if one wants to add conditional forms via the workflow.

        Parameters
        ----------
        eventid : string or int
            Unique ID of the event within OpenSpecimen, which is generated automatically.
        params : string
            json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
            clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]
        
        Returns
        -------
        json-dict
            Details of the event  as JSON-dict which was updated, or an error message, which is generated from OpenSpecimen.
        &#34;&#34;&#34;
        
        endpoint = &#39;/&#39; + str(eventid)
        url = self.base_url + endpoint
        payload = params
        r = self.OS_request_gen.get_request(url, payload)

        return json.loads(r.text)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event"><code class="flex name class">
<span>class <span class="ident">collection_protocol_event</span></span>
</code></dt>
<dd>
<div class="desc"><p>Handles the Events of corresponding to a Colelction Protocol</p>
<p>This class allows you to handle the Events in Openspecimen. One can create an event,
but first the corresponding Colelction Protocol have to be created, for example via os_core.collection_protocol.py.
Get all events or just get one event, delete or update an existing event.
The output is a JSON dict with either details or the Openspecimen error message.</p>
<h2 id="notes">Notes</h2>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<h2 id="example">Example</h2>
<p>A code example, where also Events are handled is in the Jupyter-Notebook::</p>
<pre><code>$ jupyter notebook main.ipynb
</code></pre>
<p>Constructor of the Class collection_protocol_event</p>
<p>Constructor of the class collection_protocol_event can handle the basic API-calls
of the collection protocol events in OpenSpecimen which connects this class to OpenSpecimen's
specific request handle (os_core.request_util.py).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>base_url</code></strong> :&ensp;<code>string</code></dt>
<dd>URL to openspecimen, has the format: http(s)://<host>:<port>/openspecimen/rest/ng</dd>
<dt><strong><code>auth</code></strong> :&ensp;<code>tuple</code></dt>
<dd>Consits of two strings ( loginname , password)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class collection_protocol_event:

    &#34;&#34;&#34;Handles the Events of corresponding to a Colelction Protocol

    This class allows you to handle the Events in Openspecimen. One can create an event,
    but first the corresponding Colelction Protocol have to be created, for example via os_core.collection_protocol.py.
    Get all events or just get one event, delete or update an existing event.
    The output is a JSON dict with either details or the Openspecimen error message.

    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
    just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
    The API calls are documented in https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs and 
    the calls refer to this site. More details can be seen in the documentation.

    Example
    -------

    A code example, where also Events are handled is in the Jupyter-Notebook::

        $ jupyter notebook main.ipynb
    &#34;&#34;&#34;

    def __init__(self):

        &#34;&#34;&#34;Constructor of the Class collection_protocol_event

        Constructor of the class collection_protocol_event can handle the basic API-calls
        of the collection protocol events in OpenSpecimen which connects this class to OpenSpecimen&#39;s
        specific request handle (os_core.request_util.py).

        Parameters
        ----------
        base_url : string
            URL to openspecimen, has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consits of two strings ( loginname , password)
        &#34;&#34;&#34;
        self.base_url = config_manager.get_url() + &#39;/collection-protocol-events&#39; 
        self.auth = config_manager.get_auth()
        self.OS_request_gen = OS_request_gen(self.auth)

    def ausgabe(self):

        &#34;&#34;&#34;Testing of the URL and authentification.

        If there are any unexpected errors one can easily test if the URL and login data are spelled correctly.
        The function prints the URL and login data to the output terminal, which was handed over to the class.
        &#34;&#34;&#34;

        print(self.base_url, self.OS_request_gen.auth)


    def create_event(self, params):

        &#34;&#34;&#34;Create an event for a given Collection Protocol.

        Create an event for a given Collection Protocol. In order to use this function one
        has to know the parameters, which OpenSpecimen needs for to create an event. Another way
        to use it is with the class os_util.cpevent_util.py. An advantage of creating events with
        API calls is that the event Code &#34;code&#34; can be set, which is needed to add conditional forms
        via the workflow.

        Parameters
        ----------
        params : string
            json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
            clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]

        Returns
        -------
        json dict
            Returns a json dict with the details of the created event, or the OpenSpecimen error message. 
        &#34;&#34;&#34;

        url = self.base_url
        payload = params
        r = self.OS_request_gen.post_request(url, payload)

        return json.loads(r.text)


    def delete_event(self, eventid):

        &#34;&#34;&#34;Delete an event with the ID eventid.

        Delete an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
        and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
        http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
        For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
        &#34;get_all_events(self, cpid)&#34; for a specific Collection Protocol, with the Collection Protocol ID is called first.


        Parameters
        ----------
        eventid : int
            The unique ID of the event, which is created by OpenSpecimen.

        Returns
        -------
        json dict
            Details of the deleted event or OpenSpecimens error message as JSON dict.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(eventid)
        url = self.base_url + endpoint

        r = self.OS_request_gen.delete_request(url)

        return json.loads(r.text)


    def get_all_events(self, cpid):

        &#34;&#34;&#34;Get all events for a specific Collection Protocol with ID cpid.

        Get the details of all events within a given Collection Protocol with the ID cpid.
        For example, the ID can be seen in the URL if one clicks on the overview of a Collection
        Protocol. The URL looks like: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{cpid}/overview .
        Another possibility is to search via the  function &#34;search_collection_protocols(self, search_params)&#34;
        from the class os_core.collection_protocol with an OpenSpecimen specific key and value.

        Parameters
        ----------
        cpid : int
            Unique ID within OpenSpecimen from a given Collection Protocol. OpenSpecimen generates this ID automatically.

        Returns
        -------
        json-dict
            Details of all events within a given Collection Protocol as dict, where each event is a JSON-dict, or
            an error message, which is generated from OpenSpecimen.
        &#34;&#34;&#34;

        endpoint = &#39;?cpId=&#39; + str(cpid)
        url= self.base_url + endpoint
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def get_event(self, eventid):

        &#34;&#34;&#34;Get the details of an event with the unique ID eventid.

        Get the details of an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
        and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
        http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
        For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
        &#34;get_all_events(self, cpid)&#34; for a specific Collection Protocol, with the Collection Protocol ID is called first.

        Parameters
        ----------
        eventid : int
            Unique ID of the event within OpenSpecimen, which is generated automatically.
        Returns
        -------
        json-dict
            Details of an event JSON-dict with  ID eventid, or an error message, which is generated from OpenSpecimen.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(eventid)
        url = self.base_url + endpoint
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def update_event(self, eventid, params):

        &#34;&#34;&#34;Update an existing event with ID eventid and the parameters params.

        Update an existing event with ID eventid. In order to use this function, one
        has to know the parameters, which OpenSpecimen allows to update. 
        For example, one can &#39;add&#39; the parameter &#34;code&#34; to an existing event which was created via GUI.
        This is needed if one wants to add conditional forms via the workflow.

        Parameters
        ----------
        eventid : string or int
            Unique ID of the event within OpenSpecimen, which is generated automatically.
        params : string
            json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
            clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]
        
        Returns
        -------
        json-dict
            Details of the event  as JSON-dict which was updated, or an error message, which is generated from OpenSpecimen.
        &#34;&#34;&#34;
        
        endpoint = &#39;/&#39; + str(eventid)
        url = self.base_url + endpoint
        payload = params
        r = self.OS_request_gen.get_request(url, payload)

        return json.loads(r.text)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.ausgabe"><code class="name flex">
<span>def <span class="ident">ausgabe</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors one can easily test if the URL and login data are spelled correctly.
The function prints the URL and login data to the output terminal, which was handed over to the class.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ausgabe(self):

    &#34;&#34;&#34;Testing of the URL and authentification.

    If there are any unexpected errors one can easily test if the URL and login data are spelled correctly.
    The function prints the URL and login data to the output terminal, which was handed over to the class.
    &#34;&#34;&#34;

    print(self.base_url, self.OS_request_gen.auth)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.create_event"><code class="name flex">
<span>def <span class="ident">create_event</span></span>(<span>self, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Create an event for a given Collection Protocol.</p>
<p>Create an event for a given Collection Protocol. In order to use this function one
has to know the parameters, which OpenSpecimen needs for to create an event. Another way
to use it is with the class os_util.cpevent_util.py. An advantage of creating events with
API calls is that the event Code "code" can be set, which is needed to add conditional forms
via the workflow.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>params</code></strong> :&ensp;<code>string</code></dt>
<dd>json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>json dict</code></dt>
<dd>Returns a json dict with the details of the created event, or the OpenSpecimen error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_event(self, params):

    &#34;&#34;&#34;Create an event for a given Collection Protocol.

    Create an event for a given Collection Protocol. In order to use this function one
    has to know the parameters, which OpenSpecimen needs for to create an event. Another way
    to use it is with the class os_util.cpevent_util.py. An advantage of creating events with
    API calls is that the event Code &#34;code&#34; can be set, which is needed to add conditional forms
    via the workflow.

    Parameters
    ----------
    params : string
        json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
        clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]

    Returns
    -------
    json dict
        Returns a json dict with the details of the created event, or the OpenSpecimen error message. 
    &#34;&#34;&#34;

    url = self.base_url
    payload = params
    r = self.OS_request_gen.post_request(url, payload)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.delete_event"><code class="name flex">
<span>def <span class="ident">delete_event</span></span>(<span>self, eventid)</span>
</code></dt>
<dd>
<div class="desc"><p>Delete an event with the ID eventid.</p>
<p>Delete an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
http(s)://<host>:<port>/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
"get_all_events(self, cpid)" for a specific Collection Protocol, with the Collection Protocol ID is called first.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>eventid</code></strong> :&ensp;<code>int</code></dt>
<dd>The unique ID of the event, which is created by OpenSpecimen.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>json dict</code></dt>
<dd>Details of the deleted event or OpenSpecimens error message as JSON dict.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete_event(self, eventid):

    &#34;&#34;&#34;Delete an event with the ID eventid.

    Delete an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
    and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
    http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
    For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
    &#34;get_all_events(self, cpid)&#34; for a specific Collection Protocol, with the Collection Protocol ID is called first.


    Parameters
    ----------
    eventid : int
        The unique ID of the event, which is created by OpenSpecimen.

    Returns
    -------
    json dict
        Details of the deleted event or OpenSpecimens error message as JSON dict.
    &#34;&#34;&#34;

    endpoint = &#39;/&#39; + str(eventid)
    url = self.base_url + endpoint

    r = self.OS_request_gen.delete_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_all_events"><code class="name flex">
<span>def <span class="ident">get_all_events</span></span>(<span>self, cpid)</span>
</code></dt>
<dd>
<div class="desc"><p>Get all events for a specific Collection Protocol with ID cpid.</p>
<p>Get the details of all events within a given Collection Protocol with the ID cpid.
For example, the ID can be seen in the URL if one clicks on the overview of a Collection
Protocol. The URL looks like: http(s)://<host>:<port>/openspecimen/#/cps/{cpid}/overview .
Another possibility is to search via the
function "search_collection_protocols(self, search_params)"
from the class os_core.collection_protocol with an OpenSpecimen specific key and value.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>cpid</code></strong> :&ensp;<code>int</code></dt>
<dd>Unique ID within OpenSpecimen from a given Collection Protocol. OpenSpecimen generates this ID automatically.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>json-dict</code></dt>
<dd>Details of all events within a given Collection Protocol as dict, where each event is a JSON-dict, or
an error message, which is generated from OpenSpecimen.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_all_events(self, cpid):

    &#34;&#34;&#34;Get all events for a specific Collection Protocol with ID cpid.

    Get the details of all events within a given Collection Protocol with the ID cpid.
    For example, the ID can be seen in the URL if one clicks on the overview of a Collection
    Protocol. The URL looks like: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{cpid}/overview .
    Another possibility is to search via the  function &#34;search_collection_protocols(self, search_params)&#34;
    from the class os_core.collection_protocol with an OpenSpecimen specific key and value.

    Parameters
    ----------
    cpid : int
        Unique ID within OpenSpecimen from a given Collection Protocol. OpenSpecimen generates this ID automatically.

    Returns
    -------
    json-dict
        Details of all events within a given Collection Protocol as dict, where each event is a JSON-dict, or
        an error message, which is generated from OpenSpecimen.
    &#34;&#34;&#34;

    endpoint = &#39;?cpId=&#39; + str(cpid)
    url= self.base_url + endpoint
    r = self.OS_request_gen.get_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_event"><code class="name flex">
<span>def <span class="ident">get_event</span></span>(<span>self, eventid)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the details of an event with the unique ID eventid.</p>
<p>Get the details of an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
http(s)://<host>:<port>/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
"get_all_events(self, cpid)" for a specific Collection Protocol, with the Collection Protocol ID is called first.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>eventid</code></strong> :&ensp;<code>int</code></dt>
<dd>Unique ID of the event within OpenSpecimen, which is generated automatically.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>json-dict</code></dt>
<dd>Details of an event JSON-dict with
ID eventid, or an error message, which is generated from OpenSpecimen.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_event(self, eventid):

    &#34;&#34;&#34;Get the details of an event with the unique ID eventid.

    Get the details of an event, which is already in OpenSpecimen. The unique ID is generated from OpenSpecimen
    and can for example be seen in the URL, if one clicks on the event in the GUI. The URL looks like:
    http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/cps/{CollectionProtocolId}/specimen-requirements?eventId={eventid}
    For example, one can extract the eventid with an event-key from OpenSpecimen, when the function
    &#34;get_all_events(self, cpid)&#34; for a specific Collection Protocol, with the Collection Protocol ID is called first.

    Parameters
    ----------
    eventid : int
        Unique ID of the event within OpenSpecimen, which is generated automatically.
    Returns
    -------
    json-dict
        Details of an event JSON-dict with  ID eventid, or an error message, which is generated from OpenSpecimen.
    &#34;&#34;&#34;

    endpoint = &#39;/&#39; + str(eventid)
    url = self.base_url + endpoint
    r = self.OS_request_gen.get_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.update_event"><code class="name flex">
<span>def <span class="ident">update_event</span></span>(<span>self, eventid, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Update an existing event with ID eventid and the parameters params.</p>
<p>Update an existing event with ID eventid. In order to use this function, one
has to know the parameters, which OpenSpecimen allows to update.
For example, one can 'add' the parameter "code" to an existing event which was created via GUI.
This is needed if one wants to add conditional forms via the workflow.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>eventid</code></strong> :&ensp;<code>string</code> or <code>int</code></dt>
<dd>Unique ID of the event within OpenSpecimen, which is generated automatically.</dd>
<dt><strong><code>params</code></strong> :&ensp;<code>string</code></dt>
<dd>json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>json-dict</code></dt>
<dd>Details of the event
as JSON-dict which was updated, or an error message, which is generated from OpenSpecimen.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_event(self, eventid, params):

    &#34;&#34;&#34;Update an existing event with ID eventid and the parameters params.

    Update an existing event with ID eventid. In order to use this function, one
    has to know the parameters, which OpenSpecimen allows to update. 
    For example, one can &#39;add&#39; the parameter &#34;code&#34; to an existing event which was created via GUI.
    This is needed if one wants to add conditional forms via the workflow.

    Parameters
    ----------
    eventid : string or int
        Unique ID of the event within OpenSpecimen, which is generated automatically.
    params : string
        json-formatted string with parameters: eventLabel, eventPoint, collectionProtocol, defaultSite,
        clinicalDiagnosis, clinicalStatus, activityStatus, code[optional]
    
    Returns
    -------
    json-dict
        Details of the event  as JSON-dict which was updated, or an error message, which is generated from OpenSpecimen.
    &#34;&#34;&#34;
    
    endpoint = &#39;/&#39; + str(eventid)
    url = self.base_url + endpoint
    payload = params
    r = self.OS_request_gen.get_request(url, payload)

    return json.loads(r.text)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="OpenSpecimenAPIconnector.os_core" href="index.html">OpenSpecimenAPIconnector.os_core</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event">collection_protocol_event</a></code></h4>
<ul class="two-column">
<li><code><a title="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.ausgabe" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.ausgabe">ausgabe</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.create_event" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.create_event">create_event</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.delete_event" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.delete_event">delete_event</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_all_events" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_all_events">get_all_events</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_event" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.get_event">get_event</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.update_event" href="#OpenSpecimenAPIconnector.os_core.collection_protocol_event.collection_protocol_event.update_event">update_event</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>