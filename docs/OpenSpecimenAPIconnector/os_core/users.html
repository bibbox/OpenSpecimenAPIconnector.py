<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>OpenSpecimenAPIconnector.os_core.users API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>OpenSpecimenAPIconnector.os_core.users</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#! /bin/python3

# imports
import json

from .req_util import OS_request_gen
from .. import config_manager

class users:

    &#34;&#34;&#34;Handles the API calls for Users

    This class handles the API calls for users. Get all or specific user information, create a user, change his/her/their password,
    get user-roles of or assign a specific role to a user.

    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. The users have to know which requests
    are needed and what content should be uploaded. The API documentation of OpenSpecimen is in:
    https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs
    &#34;&#34;&#34;
    def __init__(self):

        &#34;&#34;&#34;Constructor of the Class Users
        
        Constructor of the class users can handle the basic API-calls of the users in OpenSpecimen.
        Connects this class to OpenSpecimen specific request handle (os_core.request_util.py).
        
        Parameters
        ----------
        base_url : string
            URL to openspecimen, has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consists of two strings ( loginname , password)
        &#34;&#34;&#34; 
        self.base_url = config_manager.get_url()
        self.auth = config_manager.get_auth()
        self.OS_request_gen = OS_request_gen(self.auth)


    def ausgabe(self):

        &#34;&#34;&#34;Testing of the URL and authentification.
        
        If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
        The function prints the URL and login data  to the output terminal, which was handed over to the class.
        &#34;&#34;&#34;

        print(self.base_url, self.OS_request_gen.auth)


    def get_all_users(self):

        &#34;&#34;&#34;Get all Users from OpenSpecimen

        Returns all users within the OpenSpecimen disrtibution.

        Returns
        -------
        dict
            Returns all users as JSON dict, or an OpenSpecimen&#39;s error message
        &#34;&#34;&#34;

        endpoint = &#34;/users&#34;
        url = self.base_url + endpoint

        r = self.OS_request_gen.get_request(url=url)

        return json.loads(r.text)


    def get_user(self, userId):

        &#34;&#34;&#34; Get the User with ID

        Get the User with ID from OpenSpecimen. To use this function, one has to know the ID of the user.
        This can be seen in the GUI if one clicks on the User and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userId : int
            ID of the User which one wants to get.
        
        Returns
        -------
        dict
            JSON dict of the details of the specified user with ID or the OpenSpecimen&#39;s error message
        &#34;&#34;&#34;

        endpoint = &#34;/users/&#34;+str(userId)

        url = self.base_url + endpoint

        r = self.OS_request_gen.get_request(url=url)

        return json.loads(r.text)


 
    def change_password(self, params):

        &#34;&#34;&#34; Change the password of a user

        Change the password of a user. If the API-User is Superadmin, the parameters are userId,newPassword.
        If the user isn&#39;t a Superadmin nor the Superadmin changes his own password, the parameters are userId,
        oldPassword, newPassword.

        Parameters
        ---------
        params : string
            JSON formatted string with parameters userId, oldPassword[mandatory, if not SuperAdmin] newPassword
        
        Returns
        -------
        dict
            Dict with status code. 200 password updated, 400 invalid Parameters, 500 unknown error.
        &#34;&#34;&#34;

        endpoint = &#34;/users/password&#34;
        url = self.base_url+endpoint
        payload=params
        r = self.OS_request_gen.put_request(url=url, data=payload)

        return json.loads(r.text)


    def create_user(self, params):

        &#34;&#34;&#34;Create a user

        Create a user in OpenSpecimen. To use this function, one has to know the parameters.
        They are explained in the parameters section. Or one can use the os_util class user_util.

        Parameters
        ----------
        params : string
            JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
            domainName, loginName, instituteName, type, address[optional], activityStatus

        Returns
        -------
        dict
            JSON dict with details of the created user or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#34;/users&#34;
        url = self.base_url+endpoint
        payload = params
        r = self.OS_request_gen.post_request(url=url, data=payload)

        return json.loads(r.text)


    def delete_user(self, userid):

        &#34;&#34;&#34;Delete a user

        Delete a user in OpenSpecimen. To use this function, one has to know ID of the user.
        This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userid : int
            String or int of the User Id which one wants to delete. Gets converted to a string.

        Returns
        -------
        dict
            JSON dict with details of the deleted user or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#34;/users/&#34;+str(userid)+&#34;/?close=true&#34;
        url = self.base_url+endpoint
        r = self.OS_request_gen.delete_request(url)

        return json.loads(r.text)


    def get_roles(self, userid):

        &#34;&#34;&#34;Get the roles of a user

        Get the roles of a user with ID in OpenSpecimen. To use this function, one has to know the ID of 
        the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userid : int
            Int of the User Id which one wants to delete. Gets converted to a string.

        Returns
        -------
        dict
            JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;
        endpoint = &#39;/rbac/subjects/&#39;+str(userid)+&#39;/roles&#39;
        url = self.base_url+endpoint

        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def assign_role(self, userid, params):

        &#34;&#34;&#34;Assign a role to a User

        Assign a role to a user with ID in OpenSpecimen. To use this function, one has to know the ID of 
        the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userid : int
            Int of the User ID, which one wants to delete. Gets converted to a string.
        
        params : string
            JSON formatted string with parameters: site(dict with sitedetail), collectionProtocol
            (dict with Collection protocol detail), role(dict with detail of the role)

        Returns
        -------
        dict
            JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#39;/rbac/subjects/&#39;+str(userid)+&#39;/roles&#39;
        url = self.base_url + endpoint
        payload = params
        r = self.OS_request_gen.post_request(url=url, data=payload)

        return json.loads(r.text)


    def update_user(self, userid, params):
        
        &#34;&#34;&#34;Update a User

        Update a User in OpenSpecimen. To use this function, one has to know the parameters.
        They are explained in the parameters section. Or one can use the os_util class user_util.
        Also the ID of the user, which gets updated, has to be known.
        This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userid : int
            ID of the User.

        params : string
            JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
            domainName, loginName, instituteName, type, address[optional], activityStatus

        Returns
        -------
        dict
            JSON dict with Details of the updated User or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#34;/users/&#34; + str(userid)
        url = self.base_url+endpoint
        payload = params
        r = self.OS_request_gen.put_request(url=url, data=payload)

        return json.loads(r.text)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="OpenSpecimenAPIconnector.os_core.users.users"><code class="flex name class">
<span>class <span class="ident">users</span></span>
</code></dt>
<dd>
<div class="desc"><p>Handles the API calls for Users</p>
<p>This class handles the API calls for users. Get all or specific user information, create a user, change his/her/their password,
get user-roles of or assign a specific role to a user.</p>
<h2 id="notes">Notes</h2>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. The users have to know which requests
are needed and what content should be uploaded. The API documentation of OpenSpecimen is in:
<a href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a></p>
<p>Constructor of the Class Users</p>
<p>Constructor of the class users can handle the basic API-calls of the users in OpenSpecimen.
Connects this class to OpenSpecimen specific request handle (os_core.request_util.py).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>base_url</code></strong> :&ensp;<code>string</code></dt>
<dd>URL to openspecimen, has the format: http(s)://<host>:<port>/openspecimen/rest/ng</dd>
<dt><strong><code>auth</code></strong> :&ensp;<code>tuple</code></dt>
<dd>Consists of two strings ( loginname , password)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class users:

    &#34;&#34;&#34;Handles the API calls for Users

    This class handles the API calls for users. Get all or specific user information, create a user, change his/her/their password,
    get user-roles of or assign a specific role to a user.

    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. The users have to know which requests
    are needed and what content should be uploaded. The API documentation of OpenSpecimen is in:
    https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs
    &#34;&#34;&#34;
    def __init__(self):

        &#34;&#34;&#34;Constructor of the Class Users
        
        Constructor of the class users can handle the basic API-calls of the users in OpenSpecimen.
        Connects this class to OpenSpecimen specific request handle (os_core.request_util.py).
        
        Parameters
        ----------
        base_url : string
            URL to openspecimen, has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consists of two strings ( loginname , password)
        &#34;&#34;&#34; 
        self.base_url = config_manager.get_url()
        self.auth = config_manager.get_auth()
        self.OS_request_gen = OS_request_gen(self.auth)


    def ausgabe(self):

        &#34;&#34;&#34;Testing of the URL and authentification.
        
        If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
        The function prints the URL and login data  to the output terminal, which was handed over to the class.
        &#34;&#34;&#34;

        print(self.base_url, self.OS_request_gen.auth)


    def get_all_users(self):

        &#34;&#34;&#34;Get all Users from OpenSpecimen

        Returns all users within the OpenSpecimen disrtibution.

        Returns
        -------
        dict
            Returns all users as JSON dict, or an OpenSpecimen&#39;s error message
        &#34;&#34;&#34;

        endpoint = &#34;/users&#34;
        url = self.base_url + endpoint

        r = self.OS_request_gen.get_request(url=url)

        return json.loads(r.text)


    def get_user(self, userId):

        &#34;&#34;&#34; Get the User with ID

        Get the User with ID from OpenSpecimen. To use this function, one has to know the ID of the user.
        This can be seen in the GUI if one clicks on the User and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userId : int
            ID of the User which one wants to get.
        
        Returns
        -------
        dict
            JSON dict of the details of the specified user with ID or the OpenSpecimen&#39;s error message
        &#34;&#34;&#34;

        endpoint = &#34;/users/&#34;+str(userId)

        url = self.base_url + endpoint

        r = self.OS_request_gen.get_request(url=url)

        return json.loads(r.text)


 
    def change_password(self, params):

        &#34;&#34;&#34; Change the password of a user

        Change the password of a user. If the API-User is Superadmin, the parameters are userId,newPassword.
        If the user isn&#39;t a Superadmin nor the Superadmin changes his own password, the parameters are userId,
        oldPassword, newPassword.

        Parameters
        ---------
        params : string
            JSON formatted string with parameters userId, oldPassword[mandatory, if not SuperAdmin] newPassword
        
        Returns
        -------
        dict
            Dict with status code. 200 password updated, 400 invalid Parameters, 500 unknown error.
        &#34;&#34;&#34;

        endpoint = &#34;/users/password&#34;
        url = self.base_url+endpoint
        payload=params
        r = self.OS_request_gen.put_request(url=url, data=payload)

        return json.loads(r.text)


    def create_user(self, params):

        &#34;&#34;&#34;Create a user

        Create a user in OpenSpecimen. To use this function, one has to know the parameters.
        They are explained in the parameters section. Or one can use the os_util class user_util.

        Parameters
        ----------
        params : string
            JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
            domainName, loginName, instituteName, type, address[optional], activityStatus

        Returns
        -------
        dict
            JSON dict with details of the created user or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#34;/users&#34;
        url = self.base_url+endpoint
        payload = params
        r = self.OS_request_gen.post_request(url=url, data=payload)

        return json.loads(r.text)


    def delete_user(self, userid):

        &#34;&#34;&#34;Delete a user

        Delete a user in OpenSpecimen. To use this function, one has to know ID of the user.
        This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userid : int
            String or int of the User Id which one wants to delete. Gets converted to a string.

        Returns
        -------
        dict
            JSON dict with details of the deleted user or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#34;/users/&#34;+str(userid)+&#34;/?close=true&#34;
        url = self.base_url+endpoint
        r = self.OS_request_gen.delete_request(url)

        return json.loads(r.text)


    def get_roles(self, userid):

        &#34;&#34;&#34;Get the roles of a user

        Get the roles of a user with ID in OpenSpecimen. To use this function, one has to know the ID of 
        the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userid : int
            Int of the User Id which one wants to delete. Gets converted to a string.

        Returns
        -------
        dict
            JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;
        endpoint = &#39;/rbac/subjects/&#39;+str(userid)+&#39;/roles&#39;
        url = self.base_url+endpoint

        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def assign_role(self, userid, params):

        &#34;&#34;&#34;Assign a role to a User

        Assign a role to a user with ID in OpenSpecimen. To use this function, one has to know the ID of 
        the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userid : int
            Int of the User ID, which one wants to delete. Gets converted to a string.
        
        params : string
            JSON formatted string with parameters: site(dict with sitedetail), collectionProtocol
            (dict with Collection protocol detail), role(dict with detail of the role)

        Returns
        -------
        dict
            JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#39;/rbac/subjects/&#39;+str(userid)+&#39;/roles&#39;
        url = self.base_url + endpoint
        payload = params
        r = self.OS_request_gen.post_request(url=url, data=payload)

        return json.loads(r.text)


    def update_user(self, userid, params):
        
        &#34;&#34;&#34;Update a User

        Update a User in OpenSpecimen. To use this function, one has to know the parameters.
        They are explained in the parameters section. Or one can use the os_util class user_util.
        Also the ID of the user, which gets updated, has to be known.
        This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
        the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
        Or with the function get_all_users and then extract the ID to the wanted user.

        Parameters
        ----------
        userid : int
            ID of the User.

        params : string
            JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
            domainName, loginName, instituteName, type, address[optional], activityStatus

        Returns
        -------
        dict
            JSON dict with Details of the updated User or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#34;/users/&#34; + str(userid)
        url = self.base_url+endpoint
        payload = params
        r = self.OS_request_gen.put_request(url=url, data=payload)

        return json.loads(r.text)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.assign_role"><code class="name flex">
<span>def <span class="ident">assign_role</span></span>(<span>self, userid, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Assign a role to a User</p>
<p>Assign a role to a user with ID in OpenSpecimen. To use this function, one has to know the ID of
the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://<host>:<port>/openspecimen/users/{userid}/&hellip; .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>userid</code></strong> :&ensp;<code>int</code></dt>
<dd>Int of the User ID, which one wants to delete. Gets converted to a string.</dd>
<dt><strong><code>params</code></strong> :&ensp;<code>string</code></dt>
<dd>JSON formatted string with parameters: site(dict with sitedetail), collectionProtocol
(dict with Collection protocol detail), role(dict with detail of the role)</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen's error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def assign_role(self, userid, params):

    &#34;&#34;&#34;Assign a role to a User

    Assign a role to a user with ID in OpenSpecimen. To use this function, one has to know the ID of 
    the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
    the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
    Or with the function get_all_users and then extract the ID to the wanted user.

    Parameters
    ----------
    userid : int
        Int of the User ID, which one wants to delete. Gets converted to a string.
    
    params : string
        JSON formatted string with parameters: site(dict with sitedetail), collectionProtocol
        (dict with Collection protocol detail), role(dict with detail of the role)

    Returns
    -------
    dict
        JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen&#39;s error message.
    &#34;&#34;&#34;

    endpoint = &#39;/rbac/subjects/&#39;+str(userid)+&#39;/roles&#39;
    url = self.base_url + endpoint
    payload = params
    r = self.OS_request_gen.post_request(url=url, data=payload)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.ausgabe"><code class="name flex">
<span>def <span class="ident">ausgabe</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Testing of the URL and authentification.</p>
<p>If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data
to the output terminal, which was handed over to the class.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ausgabe(self):

    &#34;&#34;&#34;Testing of the URL and authentification.
    
    If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
    The function prints the URL and login data  to the output terminal, which was handed over to the class.
    &#34;&#34;&#34;

    print(self.base_url, self.OS_request_gen.auth)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.change_password"><code class="name flex">
<span>def <span class="ident">change_password</span></span>(<span>self, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Change the password of a user</p>
<p>Change the password of a user. If the API-User is Superadmin, the parameters are userId,newPassword.
If the user isn't a Superadmin nor the Superadmin changes his own password, the parameters are userId,
oldPassword, newPassword.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>params</code></strong> :&ensp;<code>string</code></dt>
<dd>JSON formatted string with parameters userId, oldPassword[mandatory, if not SuperAdmin] newPassword</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Dict with status code. 200 password updated, 400 invalid Parameters, 500 unknown error.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def change_password(self, params):

    &#34;&#34;&#34; Change the password of a user

    Change the password of a user. If the API-User is Superadmin, the parameters are userId,newPassword.
    If the user isn&#39;t a Superadmin nor the Superadmin changes his own password, the parameters are userId,
    oldPassword, newPassword.

    Parameters
    ---------
    params : string
        JSON formatted string with parameters userId, oldPassword[mandatory, if not SuperAdmin] newPassword
    
    Returns
    -------
    dict
        Dict with status code. 200 password updated, 400 invalid Parameters, 500 unknown error.
    &#34;&#34;&#34;

    endpoint = &#34;/users/password&#34;
    url = self.base_url+endpoint
    payload=params
    r = self.OS_request_gen.put_request(url=url, data=payload)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.create_user"><code class="name flex">
<span>def <span class="ident">create_user</span></span>(<span>self, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a user</p>
<p>Create a user in OpenSpecimen. To use this function, one has to know the parameters.
They are explained in the parameters section. Or one can use the os_util class user_util.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>params</code></strong> :&ensp;<code>string</code></dt>
<dd>JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
domainName, loginName, instituteName, type, address[optional], activityStatus</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>JSON dict with details of the created user or the OpenSpecimen's error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_user(self, params):

    &#34;&#34;&#34;Create a user

    Create a user in OpenSpecimen. To use this function, one has to know the parameters.
    They are explained in the parameters section. Or one can use the os_util class user_util.

    Parameters
    ----------
    params : string
        JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
        domainName, loginName, instituteName, type, address[optional], activityStatus

    Returns
    -------
    dict
        JSON dict with details of the created user or the OpenSpecimen&#39;s error message.
    &#34;&#34;&#34;

    endpoint = &#34;/users&#34;
    url = self.base_url+endpoint
    payload = params
    r = self.OS_request_gen.post_request(url=url, data=payload)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.delete_user"><code class="name flex">
<span>def <span class="ident">delete_user</span></span>(<span>self, userid)</span>
</code></dt>
<dd>
<div class="desc"><p>Delete a user</p>
<p>Delete a user in OpenSpecimen. To use this function, one has to know ID of the user.
This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://<host>:<port>/openspecimen/users/{userid}/&hellip; .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>userid</code></strong> :&ensp;<code>int</code></dt>
<dd>String or int of the User Id which one wants to delete. Gets converted to a string.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>JSON dict with details of the deleted user or the OpenSpecimen's error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete_user(self, userid):

    &#34;&#34;&#34;Delete a user

    Delete a user in OpenSpecimen. To use this function, one has to know ID of the user.
    This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
    the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
    Or with the function get_all_users and then extract the ID to the wanted user.

    Parameters
    ----------
    userid : int
        String or int of the User Id which one wants to delete. Gets converted to a string.

    Returns
    -------
    dict
        JSON dict with details of the deleted user or the OpenSpecimen&#39;s error message.
    &#34;&#34;&#34;

    endpoint = &#34;/users/&#34;+str(userid)+&#34;/?close=true&#34;
    url = self.base_url+endpoint
    r = self.OS_request_gen.delete_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_all_users"><code class="name flex">
<span>def <span class="ident">get_all_users</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Get all Users from OpenSpecimen</p>
<p>Returns all users within the OpenSpecimen disrtibution.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Returns all users as JSON dict, or an OpenSpecimen's error message</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_all_users(self):

    &#34;&#34;&#34;Get all Users from OpenSpecimen

    Returns all users within the OpenSpecimen disrtibution.

    Returns
    -------
    dict
        Returns all users as JSON dict, or an OpenSpecimen&#39;s error message
    &#34;&#34;&#34;

    endpoint = &#34;/users&#34;
    url = self.base_url + endpoint

    r = self.OS_request_gen.get_request(url=url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_roles"><code class="name flex">
<span>def <span class="ident">get_roles</span></span>(<span>self, userid)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the roles of a user</p>
<p>Get the roles of a user with ID in OpenSpecimen. To use this function, one has to know the ID of
the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://<host>:<port>/openspecimen/users/{userid}/&hellip; .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>userid</code></strong> :&ensp;<code>int</code></dt>
<dd>Int of the User Id which one wants to delete. Gets converted to a string.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen's error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_roles(self, userid):

    &#34;&#34;&#34;Get the roles of a user

    Get the roles of a user with ID in OpenSpecimen. To use this function, one has to know the ID of 
    the user. This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
    the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
    Or with the function get_all_users and then extract the ID to the wanted user.

    Parameters
    ----------
    userid : int
        Int of the User Id which one wants to delete. Gets converted to a string.

    Returns
    -------
    dict
        JSON dict with Details of the Roles of the User with ID userid or the OpenSpecimen&#39;s error message.
    &#34;&#34;&#34;
    endpoint = &#39;/rbac/subjects/&#39;+str(userid)+&#39;/roles&#39;
    url = self.base_url+endpoint

    r = self.OS_request_gen.get_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.get_user"><code class="name flex">
<span>def <span class="ident">get_user</span></span>(<span>self, userId)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the User with ID</p>
<p>Get the User with ID from OpenSpecimen. To use this function, one has to know the ID of the user.
This can be seen in the GUI if one clicks on the User and reads from the URL, which has
the format: http(s)://<host>:<port>/openspecimen/users/{userid}/&hellip; .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>userId</code></strong> :&ensp;<code>int</code></dt>
<dd>ID of the User which one wants to get.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>JSON dict of the details of the specified user with ID or the OpenSpecimen's error message</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_user(self, userId):

    &#34;&#34;&#34; Get the User with ID

    Get the User with ID from OpenSpecimen. To use this function, one has to know the ID of the user.
    This can be seen in the GUI if one clicks on the User and reads from the URL, which has
    the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
    Or with the function get_all_users and then extract the ID to the wanted user.

    Parameters
    ----------
    userId : int
        ID of the User which one wants to get.
    
    Returns
    -------
    dict
        JSON dict of the details of the specified user with ID or the OpenSpecimen&#39;s error message
    &#34;&#34;&#34;

    endpoint = &#34;/users/&#34;+str(userId)

    url = self.base_url + endpoint

    r = self.OS_request_gen.get_request(url=url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.users.users.update_user"><code class="name flex">
<span>def <span class="ident">update_user</span></span>(<span>self, userid, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Update a User</p>
<p>Update a User in OpenSpecimen. To use this function, one has to know the parameters.
They are explained in the parameters section. Or one can use the os_util class user_util.
Also the ID of the user, which gets updated, has to be known.
This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
the format: http(s)://<host>:<port>/openspecimen/users/{userid}/&hellip; .
Or with the function get_all_users and then extract the ID to the wanted user.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>userid</code></strong> :&ensp;<code>int</code></dt>
<dd>ID of the User.</dd>
<dt><strong><code>params</code></strong> :&ensp;<code>string</code></dt>
<dd>JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
domainName, loginName, instituteName, type, address[optional], activityStatus</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>JSON dict with Details of the updated User or the OpenSpecimen's error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_user(self, userid, params):
    
    &#34;&#34;&#34;Update a User

    Update a User in OpenSpecimen. To use this function, one has to know the parameters.
    They are explained in the parameters section. Or one can use the os_util class user_util.
    Also the ID of the user, which gets updated, has to be known.
    This can be seen in the GUI, if one clicks on the user and reads from the URL, which has
    the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/users/{userid}/... .
    Or with the function get_all_users and then extract the ID to the wanted user.

    Parameters
    ----------
    userid : int
        ID of the User.

    params : string
        JSON formatted string with parameters: firstName, lastName, emailAddress, phoneNumber,
        domainName, loginName, instituteName, type, address[optional], activityStatus

    Returns
    -------
    dict
        JSON dict with Details of the updated User or the OpenSpecimen&#39;s error message.
    &#34;&#34;&#34;

    endpoint = &#34;/users/&#34; + str(userid)
    url = self.base_url+endpoint
    payload = params
    r = self.OS_request_gen.put_request(url=url, data=payload)

    return json.loads(r.text)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="OpenSpecimenAPIconnector.os_core" href="index.html">OpenSpecimenAPIconnector.os_core</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="OpenSpecimenAPIconnector.os_core.users.users" href="#OpenSpecimenAPIconnector.os_core.users.users">users</a></code></h4>
<ul class="two-column">
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.assign_role" href="#OpenSpecimenAPIconnector.os_core.users.users.assign_role">assign_role</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.ausgabe" href="#OpenSpecimenAPIconnector.os_core.users.users.ausgabe">ausgabe</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.change_password" href="#OpenSpecimenAPIconnector.os_core.users.users.change_password">change_password</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.create_user" href="#OpenSpecimenAPIconnector.os_core.users.users.create_user">create_user</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.delete_user" href="#OpenSpecimenAPIconnector.os_core.users.users.delete_user">delete_user</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.get_all_users" href="#OpenSpecimenAPIconnector.os_core.users.users.get_all_users">get_all_users</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.get_roles" href="#OpenSpecimenAPIconnector.os_core.users.users.get_roles">get_roles</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.get_user" href="#OpenSpecimenAPIconnector.os_core.users.users.get_user">get_user</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.users.users.update_user" href="#OpenSpecimenAPIconnector.os_core.users.users.update_user">update_user</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>