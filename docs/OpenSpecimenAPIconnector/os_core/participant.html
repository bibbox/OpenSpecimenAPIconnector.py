<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>OpenSpecimenAPIconnector.os_core.participant API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>OpenSpecimenAPIconnector.os_core.participant</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#! /bin/python3

# Import
import json
from datetime import datetime

from .req_util import OS_request_gen

class participant:

    &#34;&#34;&#34;Handles the API calls for the participant

    Handles the OpenSpecimen API calls for the participants. This class can 
    get a participant with a Participant Protocoll ID PPID or via search parameters.
    
    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
    just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
    The API calls are documented in https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs and 
    the calls refer to this site. More details can be seen in the documentation.

    Example
    -------

    A code example, where the Institutes are handled is in the Jupyter-Notebook:

        $ jupyter notebook main.ipynb
    &#34;&#34;&#34;

    def __init__(self, base_url, auth):

        &#34;&#34;&#34;Constructor of the Class institutes

        Constructor of the class institutes, can handle the basic API-calls
        of the institutes in OpenSpecimen. Connects this class to OpenSpecimen
        specific URL Generator Class (os_core/url.py) and the os_util class participant_util

        Parameters
        ----------
        base_url : string
            URL to openspecimen, has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consits of two strings ( loginname , password)
        &#34;&#34;&#34;

        self.OS_request_gen = OS_request_gen(auth)
        self.base_url = base_url


    def ausgabe(self):

        &#34;&#34;&#34;Testing of the URL and authentification.

        If there are unexpected errors one can easily test if the URL and login data is correctly spelled.
        the function prints the URL and login data, handed over to the class, to the output terminal.
        &#34;&#34;&#34;

        print(self.base_url, self.OS_request_gen.auth)        

    def get_participant(self, ppid):

        &#34;&#34;&#34;Get the participant with the Participant Protocol ID ::ppid::

        Get the details of the Participant with the Collection protocol wide unique ID ::ppid::.
        This ID can generated automatically from OpenSpecimen or generated manually, which has
        to be specified when the Collection Protocol is created.

        Parameters
        ----------
        ppid : string or int
            The Collection Protocol  wide unique Participant Protocol ID of the Institute, will be converted to a string.

        Returns
        -------
        JSON-dict
            Details of the PArticipant with the specified PPID, or the OpenSpecimen error message.
        &#34;&#34;&#34;

        endpoint = &#39;/participants/&#39; + str(ppid)

        url = self.base_url + endpoint

        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def get_participant_matches(self, params):

        &#34;&#34;&#34;Get the  Participants which matches the params.

        Get one or more Participants which matches the criteria passed with params. This class can be used via
        the os_util class cpr_util.py.
        
        Note
        ----
        In the response, the matching attributes are listed.

        Parameters
        ----------
        params : string
            Json formatted string with parameters: lastName (substring)[optional], uid[optional], birthDate[optional],
            pmi(dict with keys mrn[optional], siteName[optional]) [optional], empi[optional], reqRegInfo(default =false)[optional]

        Returns
        -------
        JSON-dict
            Details of all matching Participants or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#39;/participants/match&#39;
        url = self.base_url + endpoint
        payload=params
        r = self.OS_request_gen.post_request(url,data=payload)

        return json.loads(r.text)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant"><code class="flex name class">
<span>class <span class="ident">participant</span></span>
<span>(</span><span>base_url, auth)</span>
</code></dt>
<dd>
<div class="desc"><p>Handles the API calls for the participant</p>
<p>Handles the OpenSpecimen API calls for the participants. This class can
get a participant with a Participant Protocoll ID PPID or via search parameters.</p>
<h2 id="notes">Notes</h2>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<h2 id="example">Example</h2>
<p>A code example, where the Institutes are handled is in the Jupyter-Notebook:</p>
<pre><code>$ jupyter notebook main.ipynb
</code></pre>
<p>Constructor of the Class institutes</p>
<p>Constructor of the class institutes, can handle the basic API-calls
of the institutes in OpenSpecimen. Connects this class to OpenSpecimen
specific URL Generator Class (os_core/url.py) and the os_util class participant_util</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>base_url</code></strong> :&ensp;<code>string</code></dt>
<dd>URL to openspecimen, has the format: http(s)://<host>:<port>/openspecimen/rest/ng</dd>
<dt><strong><code>auth</code></strong> :&ensp;<code>tuple</code></dt>
<dd>Consits of two strings ( loginname , password)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class participant:

    &#34;&#34;&#34;Handles the API calls for the participant

    Handles the OpenSpecimen API calls for the participants. This class can 
    get a participant with a Participant Protocoll ID PPID or via search parameters.
    
    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes one can
    just pass the parameters via JSON-formatted string. This means the user has to know the keywords.
    The API calls are documented in https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs and 
    the calls refer to this site. More details can be seen in the documentation.

    Example
    -------

    A code example, where the Institutes are handled is in the Jupyter-Notebook:

        $ jupyter notebook main.ipynb
    &#34;&#34;&#34;

    def __init__(self, base_url, auth):

        &#34;&#34;&#34;Constructor of the Class institutes

        Constructor of the class institutes, can handle the basic API-calls
        of the institutes in OpenSpecimen. Connects this class to OpenSpecimen
        specific URL Generator Class (os_core/url.py) and the os_util class participant_util

        Parameters
        ----------
        base_url : string
            URL to openspecimen, has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consits of two strings ( loginname , password)
        &#34;&#34;&#34;

        self.OS_request_gen = OS_request_gen(auth)
        self.base_url = base_url


    def ausgabe(self):

        &#34;&#34;&#34;Testing of the URL and authentification.

        If there are unexpected errors one can easily test if the URL and login data is correctly spelled.
        the function prints the URL and login data, handed over to the class, to the output terminal.
        &#34;&#34;&#34;

        print(self.base_url, self.OS_request_gen.auth)        

    def get_participant(self, ppid):

        &#34;&#34;&#34;Get the participant with the Participant Protocol ID ::ppid::

        Get the details of the Participant with the Collection protocol wide unique ID ::ppid::.
        This ID can generated automatically from OpenSpecimen or generated manually, which has
        to be specified when the Collection Protocol is created.

        Parameters
        ----------
        ppid : string or int
            The Collection Protocol  wide unique Participant Protocol ID of the Institute, will be converted to a string.

        Returns
        -------
        JSON-dict
            Details of the PArticipant with the specified PPID, or the OpenSpecimen error message.
        &#34;&#34;&#34;

        endpoint = &#39;/participants/&#39; + str(ppid)

        url = self.base_url + endpoint

        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def get_participant_matches(self, params):

        &#34;&#34;&#34;Get the  Participants which matches the params.

        Get one or more Participants which matches the criteria passed with params. This class can be used via
        the os_util class cpr_util.py.
        
        Note
        ----
        In the response, the matching attributes are listed.

        Parameters
        ----------
        params : string
            Json formatted string with parameters: lastName (substring)[optional], uid[optional], birthDate[optional],
            pmi(dict with keys mrn[optional], siteName[optional]) [optional], empi[optional], reqRegInfo(default =false)[optional]

        Returns
        -------
        JSON-dict
            Details of all matching Participants or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#39;/participants/match&#39;
        url = self.base_url + endpoint
        payload=params
        r = self.OS_request_gen.post_request(url,data=payload)

        return json.loads(r.text)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.ausgabe"><code class="name flex">
<span>def <span class="ident">ausgabe</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Testing of the URL and authentification.</p>
<p>If there are unexpected errors one can easily test if the URL and login data is correctly spelled.
the function prints the URL and login data, handed over to the class, to the output terminal.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ausgabe(self):

    &#34;&#34;&#34;Testing of the URL and authentification.

    If there are unexpected errors one can easily test if the URL and login data is correctly spelled.
    the function prints the URL and login data, handed over to the class, to the output terminal.
    &#34;&#34;&#34;

    print(self.base_url, self.OS_request_gen.auth)        </code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.get_participant"><code class="name flex">
<span>def <span class="ident">get_participant</span></span>(<span>self, ppid)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the participant with the Participant Protocol ID ::ppid::</p>
<p>Get the details of the Participant with the Collection protocol wide unique ID ::ppid::.
This ID can generated automatically from OpenSpecimen or generated manually, which has
to be specified when the Collection Protocol is created.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>ppid</code></strong> :&ensp;<code>string</code> or <code>int</code></dt>
<dd>The Collection Protocol
wide unique Participant Protocol ID of the Institute, will be converted to a string.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>Details of the PArticipant with the specified PPID, or the OpenSpecimen error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_participant(self, ppid):

    &#34;&#34;&#34;Get the participant with the Participant Protocol ID ::ppid::

    Get the details of the Participant with the Collection protocol wide unique ID ::ppid::.
    This ID can generated automatically from OpenSpecimen or generated manually, which has
    to be specified when the Collection Protocol is created.

    Parameters
    ----------
    ppid : string or int
        The Collection Protocol  wide unique Participant Protocol ID of the Institute, will be converted to a string.

    Returns
    -------
    JSON-dict
        Details of the PArticipant with the specified PPID, or the OpenSpecimen error message.
    &#34;&#34;&#34;

    endpoint = &#39;/participants/&#39; + str(ppid)

    url = self.base_url + endpoint

    r = self.OS_request_gen.get_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.participant.participant.get_participant_matches"><code class="name flex">
<span>def <span class="ident">get_participant_matches</span></span>(<span>self, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the
Participants which matches the params.</p>
<p>Get one or more Participants which matches the criteria passed with params. This class can be used via
the os_util class cpr_util.py.</p>
<h2 id="note">Note</h2>
<p>In the response, the matching attributes are listed.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>params</code></strong> :&ensp;<code>string</code></dt>
<dd>Json formatted string with parameters: lastName (substring)[optional], uid[optional], birthDate[optional],
pmi(dict with keys mrn[optional], siteName[optional]) [optional], empi[optional], reqRegInfo(default =false)[optional]</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>Details of all matching Participants or the OpenSpecimen's error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_participant_matches(self, params):

    &#34;&#34;&#34;Get the  Participants which matches the params.

    Get one or more Participants which matches the criteria passed with params. This class can be used via
    the os_util class cpr_util.py.
    
    Note
    ----
    In the response, the matching attributes are listed.

    Parameters
    ----------
    params : string
        Json formatted string with parameters: lastName (substring)[optional], uid[optional], birthDate[optional],
        pmi(dict with keys mrn[optional], siteName[optional]) [optional], empi[optional], reqRegInfo(default =false)[optional]

    Returns
    -------
    JSON-dict
        Details of all matching Participants or the OpenSpecimen&#39;s error message.
    &#34;&#34;&#34;

    endpoint = &#39;/participants/match&#39;
    url = self.base_url + endpoint
    payload=params
    r = self.OS_request_gen.post_request(url,data=payload)

    return json.loads(r.text)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="OpenSpecimenAPIconnector.os_core" href="index.html">OpenSpecimenAPIconnector.os_core</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="OpenSpecimenAPIconnector.os_core.participant.participant" href="#OpenSpecimenAPIconnector.os_core.participant.participant">participant</a></code></h4>
<ul class="">
<li><code><a title="OpenSpecimenAPIconnector.os_core.participant.participant.ausgabe" href="#OpenSpecimenAPIconnector.os_core.participant.participant.ausgabe">ausgabe</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.participant.participant.get_participant" href="#OpenSpecimenAPIconnector.os_core.participant.participant.get_participant">get_participant</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.participant.participant.get_participant_matches" href="#OpenSpecimenAPIconnector.os_core.participant.participant.get_participant_matches">get_participant_matches</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>