<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>OpenSpecimenAPIconnector.os_core.site API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>OpenSpecimenAPIconnector.os_core.site</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#! /bin/python3

#Import
from .req_util import OS_request_gen
from .. import config_manager
import pandas as pd

import json


class sites():
    
    &#34;&#34;&#34;Handles the calls for sites
    
    This class handles the API calls for OpenSpecimen Sites. It can create, delete, search 
    sites with different parameters, get all sites and  get the template of the sites as
    Pandas dataframe.  The output is a JSON dict or the error message as JSON dict, except 
    the Pandas dataframe.
    
    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
    just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
    The API calls are documented in https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs and 
    the calls refer to this site. More details can be seen in the documentation.
    
    Example
    -------
    A code example, where the Collection protocols are handled, is in the Jupyter-Notebook::
        $ jupyter notebook main.ipynb
    &#34;&#34;&#34;

    def __init__(self):

        &#34;&#34;&#34;Constructor of the Class sites

        Constructor of the class sites can handle the basic API-calls
        of the sites in OpenSpecimen. Connects this class to OpenSpecimen
        specific request handle (os_core.request_util.py). And generates the site specific API-URL.
        
        Parameters
        ----------
        base_url : string
            URL to openspecimen, which has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consists of two strings ( loginname , password)
        &#34;&#34;&#34;
        self.base_url = config_manager.get_url() + &#39;/sites&#39;
        self.auth = config_manager.get_auth()
        self.OS_request_gen = OS_request_gen(self.auth)

    def ausgabe(self):
        
        &#34;&#34;&#34;Testing of the URL and authentification.
        If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
        The function prints the URL and login data and hand it over to the output terminal.
        &#34;&#34;&#34;

        print(self.base_url, self.OS_request_gen.auth)


    def create_sites(self, params):
        
        &#34;&#34;&#34;Create a site in OpenSpecimen
        
        Create a site in OpenSpecimen with an API call. In order to use this function, one has to know
        the OpenSpecimen specific permissable values. With the os_util class site_util.py a site with
        standard OpenSpecimen fields can be created, which is calling this function.
        
        Parameters
        ----------
        params : string
            JSON-formatted string with parameters: name, instituteName, coordinators, type, 
            activityStatus, address
        
        Returns
        -------
        dict
            Details of the created site as dictionary or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;  

        url = self.base_url + &#39;/&#39;
        payload = params
        r = self.OS_request_gen.post_request(url, payload)

        return json.loads(r.text)


    def delete_sites(self, siid):
        
        &#34;&#34;&#34;Delete a site with OpenSpecimen&#39;s uniques Site ID
        
        Delete an already existing site. The parameter ::siid:: is the uniqe ID of the site
        which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the sites
        page of the desired site and read it from the URL, with format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/sites/{siid}/overview .
        Another possibility is to search via &#39;search_sites&#39; for a specific parameter and then extract the ID
        from the JSON-dict which get returned.
        
        Parameters
        ----------
        siid: int
            The unique ID of the site which OpenSpecimen creates itself as an integer. 
            
        Returns
        -------
        JSON-dict
            Details of the site which is deleted or the OpenSpecimen error message as dict.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(siid)
        url = self.base_url + endpoint
        r = self.OS_request_gen.delete_request(url)

        return json.loads(r.text)


    def search_sites(self, search_string):
        
        &#34;&#34;&#34;Search for sites with specific values.
        Search for one or more sites with the values in search_string defined. The search string looks like:
        http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/sites?{param_1}={value_1}&amp;...&amp;{param_x}={value_x}
        With the class sites_util from os_util and function ::search_sites:: the search string is generated
        automatically and this function is called. Not all keys from OpenSpecimen can be easily searched for.
        
        Parameters
        ----------
        search_string : string
            String with the following format: ?{param_1}={value_1}&amp;...&amp;{param_x}={value_x} . The parameters can be one of the following:
            startAt[optional], maxResults[optional], name[optional], exactMatch[optional], institute[optional]
            
        Returns
        -------
        JSON-dict
            Details of the matching sites, if no one matches, it is an empty list.
        &#34;&#34;&#34;

        url = self.base_url + search_string
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def get_all_sites(self):
        
        &#34;&#34;&#34;Get all Sites
        
        Get all sites within the OpenSpecimen distribution defined with the base_url.
        
        Returns
        -------
        dict
            Details of all sites as dictionary in the OpenSpecimen distribution
        &#34;&#34;&#34;

        url = self.base_url
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def get_site(self, siteid):
        
        &#34;&#34;&#34;Get the Site with the ID ::siteid::
        
        Get the details of a site with the system wide unique ID ::siteid::.
        This ID is generated automatically from OpenSpecimen when the site is created.
        
        Parameters
        ----------
        siteid : int
            The system wide unique ID of the side as int.
            
        Returns
        -------
        dict
            Details of the site with the specified ID as dictionary or the OpenSpecimen&#39; error message.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(siteid)
        url = self.base_url + endpoint
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def update_site(self, siid, params):
        
        &#34;&#34;&#34;Updates an existing Site with ID ::siid:: with the Parameters ::params::
        
        Updates an existing site with the automatically generated OpsenSpecimen&#39;s system wide
        unique site ID ::siid::, with the parameters ::params:: which are passed to the function.
        The ID of the site has to be known and can, for example, be seen in the GUI by clicking on 
        the site, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/site/{cpid}/... .
        Or via the function search_sites or get_all_sites and extracted with key [&#34;id&#34;]
        
        Note
        ----
        The optional parameters are those, which are optional for a site. For updating, all parameters are optional,
        those which are not passed to the function will stay the same as before.
        
        Parameter
        ---------
        siid : int
            Unique site ID which is generated automatically from the system.
        
        params : string
            JSON-formatted string with the parameters which should get updated.The keys which can get updated are: 
            name, instituteName, coordinators, type, activityStatus, address
            
        Returns
        -------
        JSON-dict
            JSON-dict with the details of the updated site or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(siid)
        url = self.base_url + endpoint
        payload = params
        r = self.OS_request_gen.put_request(url, payload)
        return json.loads(r.text)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="OpenSpecimenAPIconnector.os_core.site.sites"><code class="flex name class">
<span>class <span class="ident">sites</span></span>
</code></dt>
<dd>
<div class="desc"><p>Handles the calls for sites</p>
<p>This class handles the API calls for OpenSpecimen Sites. It can create, delete, search
sites with different parameters, get all sites and
get the template of the sites as
Pandas dataframe.
The output is a JSON dict or the error message as JSON dict, except
the Pandas dataframe.</p>
<h2 id="notes">Notes</h2>
<p>In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
The API calls are documented in <a href="https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs">https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs</a> and
the calls refer to this site. More details can be seen in the documentation.</p>
<h2 id="example">Example</h2>
<p>A code example, where the Collection protocols are handled, is in the Jupyter-Notebook::
$ jupyter notebook main.ipynb</p>
<p>Constructor of the Class sites</p>
<p>Constructor of the class sites can handle the basic API-calls
of the sites in OpenSpecimen. Connects this class to OpenSpecimen
specific request handle (os_core.request_util.py). And generates the site specific API-URL.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>base_url</code></strong> :&ensp;<code>string</code></dt>
<dd>URL to openspecimen, which has the format: http(s)://<host>:<port>/openspecimen/rest/ng</dd>
<dt><strong><code>auth</code></strong> :&ensp;<code>tuple</code></dt>
<dd>Consists of two strings ( loginname , password)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class sites():
    
    &#34;&#34;&#34;Handles the calls for sites
    
    This class handles the API calls for OpenSpecimen Sites. It can create, delete, search 
    sites with different parameters, get all sites and  get the template of the sites as
    Pandas dataframe.  The output is a JSON dict or the error message as JSON dict, except 
    the Pandas dataframe.
    
    Notes
    -----
    In order to use this and also the other classes, the user has to know OpenSpecimen. In the core classes, one can
    just pass the parameters via a JSON-formatted string. This means the user has to know the keywords.
    The API calls are documented in https://openspecimen.atlassian.net/wiki/spaces/CAT/pages/1116035/REST+APIs and 
    the calls refer to this site. More details can be seen in the documentation.
    
    Example
    -------
    A code example, where the Collection protocols are handled, is in the Jupyter-Notebook::
        $ jupyter notebook main.ipynb
    &#34;&#34;&#34;

    def __init__(self):

        &#34;&#34;&#34;Constructor of the Class sites

        Constructor of the class sites can handle the basic API-calls
        of the sites in OpenSpecimen. Connects this class to OpenSpecimen
        specific request handle (os_core.request_util.py). And generates the site specific API-URL.
        
        Parameters
        ----------
        base_url : string
            URL to openspecimen, which has the format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/ng
        auth : tuple
            Consists of two strings ( loginname , password)
        &#34;&#34;&#34;
        self.base_url = config_manager.get_url() + &#39;/sites&#39;
        self.auth = config_manager.get_auth()
        self.OS_request_gen = OS_request_gen(self.auth)

    def ausgabe(self):
        
        &#34;&#34;&#34;Testing of the URL and authentification.
        If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
        The function prints the URL and login data and hand it over to the output terminal.
        &#34;&#34;&#34;

        print(self.base_url, self.OS_request_gen.auth)


    def create_sites(self, params):
        
        &#34;&#34;&#34;Create a site in OpenSpecimen
        
        Create a site in OpenSpecimen with an API call. In order to use this function, one has to know
        the OpenSpecimen specific permissable values. With the os_util class site_util.py a site with
        standard OpenSpecimen fields can be created, which is calling this function.
        
        Parameters
        ----------
        params : string
            JSON-formatted string with parameters: name, instituteName, coordinators, type, 
            activityStatus, address
        
        Returns
        -------
        dict
            Details of the created site as dictionary or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;  

        url = self.base_url + &#39;/&#39;
        payload = params
        r = self.OS_request_gen.post_request(url, payload)

        return json.loads(r.text)


    def delete_sites(self, siid):
        
        &#34;&#34;&#34;Delete a site with OpenSpecimen&#39;s uniques Site ID
        
        Delete an already existing site. The parameter ::siid:: is the uniqe ID of the site
        which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the sites
        page of the desired site and read it from the URL, with format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/sites/{siid}/overview .
        Another possibility is to search via &#39;search_sites&#39; for a specific parameter and then extract the ID
        from the JSON-dict which get returned.
        
        Parameters
        ----------
        siid: int
            The unique ID of the site which OpenSpecimen creates itself as an integer. 
            
        Returns
        -------
        JSON-dict
            Details of the site which is deleted or the OpenSpecimen error message as dict.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(siid)
        url = self.base_url + endpoint
        r = self.OS_request_gen.delete_request(url)

        return json.loads(r.text)


    def search_sites(self, search_string):
        
        &#34;&#34;&#34;Search for sites with specific values.
        Search for one or more sites with the values in search_string defined. The search string looks like:
        http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/sites?{param_1}={value_1}&amp;...&amp;{param_x}={value_x}
        With the class sites_util from os_util and function ::search_sites:: the search string is generated
        automatically and this function is called. Not all keys from OpenSpecimen can be easily searched for.
        
        Parameters
        ----------
        search_string : string
            String with the following format: ?{param_1}={value_1}&amp;...&amp;{param_x}={value_x} . The parameters can be one of the following:
            startAt[optional], maxResults[optional], name[optional], exactMatch[optional], institute[optional]
            
        Returns
        -------
        JSON-dict
            Details of the matching sites, if no one matches, it is an empty list.
        &#34;&#34;&#34;

        url = self.base_url + search_string
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def get_all_sites(self):
        
        &#34;&#34;&#34;Get all Sites
        
        Get all sites within the OpenSpecimen distribution defined with the base_url.
        
        Returns
        -------
        dict
            Details of all sites as dictionary in the OpenSpecimen distribution
        &#34;&#34;&#34;

        url = self.base_url
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def get_site(self, siteid):
        
        &#34;&#34;&#34;Get the Site with the ID ::siteid::
        
        Get the details of a site with the system wide unique ID ::siteid::.
        This ID is generated automatically from OpenSpecimen when the site is created.
        
        Parameters
        ----------
        siteid : int
            The system wide unique ID of the side as int.
            
        Returns
        -------
        dict
            Details of the site with the specified ID as dictionary or the OpenSpecimen&#39; error message.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(siteid)
        url = self.base_url + endpoint
        r = self.OS_request_gen.get_request(url)

        return json.loads(r.text)


    def update_site(self, siid, params):
        
        &#34;&#34;&#34;Updates an existing Site with ID ::siid:: with the Parameters ::params::
        
        Updates an existing site with the automatically generated OpsenSpecimen&#39;s system wide
        unique site ID ::siid::, with the parameters ::params:: which are passed to the function.
        The ID of the site has to be known and can, for example, be seen in the GUI by clicking on 
        the site, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/site/{cpid}/... .
        Or via the function search_sites or get_all_sites and extracted with key [&#34;id&#34;]
        
        Note
        ----
        The optional parameters are those, which are optional for a site. For updating, all parameters are optional,
        those which are not passed to the function will stay the same as before.
        
        Parameter
        ---------
        siid : int
            Unique site ID which is generated automatically from the system.
        
        params : string
            JSON-formatted string with the parameters which should get updated.The keys which can get updated are: 
            name, instituteName, coordinators, type, activityStatus, address
            
        Returns
        -------
        JSON-dict
            JSON-dict with the details of the updated site or the OpenSpecimen&#39;s error message.
        &#34;&#34;&#34;

        endpoint = &#39;/&#39; + str(siid)
        url = self.base_url + endpoint
        payload = params
        r = self.OS_request_gen.put_request(url, payload)
        return json.loads(r.text)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.ausgabe"><code class="name flex">
<span>def <span class="ident">ausgabe</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Testing of the URL and authentification.
If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
The function prints the URL and login data and hand it over to the output terminal.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ausgabe(self):
    
    &#34;&#34;&#34;Testing of the URL and authentification.
    If there are any unexpected errors, one can easily test if the URL and login data is spelled correctly.
    The function prints the URL and login data and hand it over to the output terminal.
    &#34;&#34;&#34;

    print(self.base_url, self.OS_request_gen.auth)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.create_sites"><code class="name flex">
<span>def <span class="ident">create_sites</span></span>(<span>self, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a site in OpenSpecimen</p>
<p>Create a site in OpenSpecimen with an API call. In order to use this function, one has to know
the OpenSpecimen specific permissable values. With the os_util class site_util.py a site with
standard OpenSpecimen fields can be created, which is calling this function.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>params</code></strong> :&ensp;<code>string</code></dt>
<dd>JSON-formatted string with parameters: name, instituteName, coordinators, type,
activityStatus, address</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Details of the created site as dictionary or the OpenSpecimen's error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_sites(self, params):
    
    &#34;&#34;&#34;Create a site in OpenSpecimen
    
    Create a site in OpenSpecimen with an API call. In order to use this function, one has to know
    the OpenSpecimen specific permissable values. With the os_util class site_util.py a site with
    standard OpenSpecimen fields can be created, which is calling this function.
    
    Parameters
    ----------
    params : string
        JSON-formatted string with parameters: name, instituteName, coordinators, type, 
        activityStatus, address
    
    Returns
    -------
    dict
        Details of the created site as dictionary or the OpenSpecimen&#39;s error message.
    &#34;&#34;&#34;  

    url = self.base_url + &#39;/&#39;
    payload = params
    r = self.OS_request_gen.post_request(url, payload)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.delete_sites"><code class="name flex">
<span>def <span class="ident">delete_sites</span></span>(<span>self, siid)</span>
</code></dt>
<dd>
<div class="desc"><p>Delete a site with OpenSpecimen's uniques Site ID</p>
<p>Delete an already existing site. The parameter ::siid:: is the uniqe ID of the site
which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the sites
page of the desired site and read it from the URL, with format: http(s)://<host>:<port>/openspecimen/#/sites/{siid}/overview .
Another possibility is to search via 'search_sites' for a specific parameter and then extract the ID
from the JSON-dict which get returned.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>siid</code></strong> :&ensp;<code>int</code></dt>
<dd>The unique ID of the site which OpenSpecimen creates itself as an integer.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>Details of the site which is deleted or the OpenSpecimen error message as dict.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete_sites(self, siid):
    
    &#34;&#34;&#34;Delete a site with OpenSpecimen&#39;s uniques Site ID
    
    Delete an already existing site. The parameter ::siid:: is the uniqe ID of the site
    which is generated automatically from OpenSpecimen. To get the ID, one can click in the GUI on the sites
    page of the desired site and read it from the URL, with format: http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/#/sites/{siid}/overview .
    Another possibility is to search via &#39;search_sites&#39; for a specific parameter and then extract the ID
    from the JSON-dict which get returned.
    
    Parameters
    ----------
    siid: int
        The unique ID of the site which OpenSpecimen creates itself as an integer. 
        
    Returns
    -------
    JSON-dict
        Details of the site which is deleted or the OpenSpecimen error message as dict.
    &#34;&#34;&#34;

    endpoint = &#39;/&#39; + str(siid)
    url = self.base_url + endpoint
    r = self.OS_request_gen.delete_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.get_all_sites"><code class="name flex">
<span>def <span class="ident">get_all_sites</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Get all Sites</p>
<p>Get all sites within the OpenSpecimen distribution defined with the base_url.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Details of all sites as dictionary in the OpenSpecimen distribution</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_all_sites(self):
    
    &#34;&#34;&#34;Get all Sites
    
    Get all sites within the OpenSpecimen distribution defined with the base_url.
    
    Returns
    -------
    dict
        Details of all sites as dictionary in the OpenSpecimen distribution
    &#34;&#34;&#34;

    url = self.base_url
    r = self.OS_request_gen.get_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.get_site"><code class="name flex">
<span>def <span class="ident">get_site</span></span>(<span>self, siteid)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the Site with the ID ::siteid::</p>
<p>Get the details of a site with the system wide unique ID ::siteid::.
This ID is generated automatically from OpenSpecimen when the site is created.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>siteid</code></strong> :&ensp;<code>int</code></dt>
<dd>The system wide unique ID of the side as int.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Details of the site with the specified ID as dictionary or the OpenSpecimen' error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_site(self, siteid):
    
    &#34;&#34;&#34;Get the Site with the ID ::siteid::
    
    Get the details of a site with the system wide unique ID ::siteid::.
    This ID is generated automatically from OpenSpecimen when the site is created.
    
    Parameters
    ----------
    siteid : int
        The system wide unique ID of the side as int.
        
    Returns
    -------
    dict
        Details of the site with the specified ID as dictionary or the OpenSpecimen&#39; error message.
    &#34;&#34;&#34;

    endpoint = &#39;/&#39; + str(siteid)
    url = self.base_url + endpoint
    r = self.OS_request_gen.get_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.search_sites"><code class="name flex">
<span>def <span class="ident">search_sites</span></span>(<span>self, search_string)</span>
</code></dt>
<dd>
<div class="desc"><p>Search for sites with specific values.
Search for one or more sites with the values in search_string defined. The search string looks like:
http(s)://<host>:<port>/openspecimen/rest/np/sites?{param_1}={value_1}&amp;&hellip;&amp;{param_x}={value_x}
With the class sites_util from os_util and function ::search_sites:: the search string is generated
automatically and this function is called. Not all keys from OpenSpecimen can be easily searched for.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>search_string</code></strong> :&ensp;<code>string</code></dt>
<dd>String with the following format: ?{param_1}={value_1}&amp;&hellip;&amp;{param_x}={value_x} . The parameters can be one of the following:
startAt[optional], maxResults[optional], name[optional], exactMatch[optional], institute[optional]</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>Details of the matching sites, if no one matches, it is an empty list.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def search_sites(self, search_string):
    
    &#34;&#34;&#34;Search for sites with specific values.
    Search for one or more sites with the values in search_string defined. The search string looks like:
    http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/rest/np/sites?{param_1}={value_1}&amp;...&amp;{param_x}={value_x}
    With the class sites_util from os_util and function ::search_sites:: the search string is generated
    automatically and this function is called. Not all keys from OpenSpecimen can be easily searched for.
    
    Parameters
    ----------
    search_string : string
        String with the following format: ?{param_1}={value_1}&amp;...&amp;{param_x}={value_x} . The parameters can be one of the following:
        startAt[optional], maxResults[optional], name[optional], exactMatch[optional], institute[optional]
        
    Returns
    -------
    JSON-dict
        Details of the matching sites, if no one matches, it is an empty list.
    &#34;&#34;&#34;

    url = self.base_url + search_string
    r = self.OS_request_gen.get_request(url)

    return json.loads(r.text)</code></pre>
</details>
</dd>
<dt id="OpenSpecimenAPIconnector.os_core.site.sites.update_site"><code class="name flex">
<span>def <span class="ident">update_site</span></span>(<span>self, siid, params)</span>
</code></dt>
<dd>
<div class="desc"><p>Updates an existing Site with ID ::siid:: with the Parameters ::params::</p>
<p>Updates an existing site with the automatically generated OpsenSpecimen's system wide
unique site ID ::siid::, with the parameters ::params:: which are passed to the function.
The ID of the site has to be known and can, for example, be seen in the GUI by clicking on
the site, which has the format http(s)://<host>:<port>/openspecimen/site/{cpid}/&hellip; .
Or via the function search_sites or get_all_sites and extracted with key ["id"]</p>
<h2 id="note">Note</h2>
<p>The optional parameters are those, which are optional for a site. For updating, all parameters are optional,
those which are not passed to the function will stay the same as before.</p>
<h2 id="parameter">Parameter</h2>
<p>siid : int
Unique site ID which is generated automatically from the system.</p>
<p>params : string
JSON-formatted string with the parameters which should get updated.The keys which can get updated are:
name, instituteName, coordinators, type, activityStatus, address</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSON-dict</code></dt>
<dd>JSON-dict with the details of the updated site or the OpenSpecimen's error message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_site(self, siid, params):
    
    &#34;&#34;&#34;Updates an existing Site with ID ::siid:: with the Parameters ::params::
    
    Updates an existing site with the automatically generated OpsenSpecimen&#39;s system wide
    unique site ID ::siid::, with the parameters ::params:: which are passed to the function.
    The ID of the site has to be known and can, for example, be seen in the GUI by clicking on 
    the site, which has the format http(s)://&lt;host&gt;:&lt;port&gt;/openspecimen/site/{cpid}/... .
    Or via the function search_sites or get_all_sites and extracted with key [&#34;id&#34;]
    
    Note
    ----
    The optional parameters are those, which are optional for a site. For updating, all parameters are optional,
    those which are not passed to the function will stay the same as before.
    
    Parameter
    ---------
    siid : int
        Unique site ID which is generated automatically from the system.
    
    params : string
        JSON-formatted string with the parameters which should get updated.The keys which can get updated are: 
        name, instituteName, coordinators, type, activityStatus, address
        
    Returns
    -------
    JSON-dict
        JSON-dict with the details of the updated site or the OpenSpecimen&#39;s error message.
    &#34;&#34;&#34;

    endpoint = &#39;/&#39; + str(siid)
    url = self.base_url + endpoint
    payload = params
    r = self.OS_request_gen.put_request(url, payload)
    return json.loads(r.text)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="OpenSpecimenAPIconnector.os_core" href="index.html">OpenSpecimenAPIconnector.os_core</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="OpenSpecimenAPIconnector.os_core.site.sites" href="#OpenSpecimenAPIconnector.os_core.site.sites">sites</a></code></h4>
<ul class="two-column">
<li><code><a title="OpenSpecimenAPIconnector.os_core.site.sites.ausgabe" href="#OpenSpecimenAPIconnector.os_core.site.sites.ausgabe">ausgabe</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.site.sites.create_sites" href="#OpenSpecimenAPIconnector.os_core.site.sites.create_sites">create_sites</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.site.sites.delete_sites" href="#OpenSpecimenAPIconnector.os_core.site.sites.delete_sites">delete_sites</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.site.sites.get_all_sites" href="#OpenSpecimenAPIconnector.os_core.site.sites.get_all_sites">get_all_sites</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.site.sites.get_site" href="#OpenSpecimenAPIconnector.os_core.site.sites.get_site">get_site</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.site.sites.search_sites" href="#OpenSpecimenAPIconnector.os_core.site.sites.search_sites">search_sites</a></code></li>
<li><code><a title="OpenSpecimenAPIconnector.os_core.site.sites.update_site" href="#OpenSpecimenAPIconnector.os_core.site.sites.update_site">update_site</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>